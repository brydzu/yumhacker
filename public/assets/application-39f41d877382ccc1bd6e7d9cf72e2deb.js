function render(e,t){return JST["templates/"+e](t)}function capitalize(e){return e.charAt(0).toUpperCase()+e.substring(1).toLowerCase()}function getCurrentLocation(e){navigator.geolocation?navigator.geolocation.getCurrentPosition(e,function(e){e.code===e.PERMISSION_DENIED?alert("Enable location services to continue."):e.code===e.POSITION_UNAVAILABLE||e.code===e.TIMEOUT?alert("Location is unavailable."):alert("Could not get location.")},{timeout:1e4,enableHighAccuracy:!0}):alert("Current location not supported.")}function fixMapOnScroll(){$(window).on("scroll",function(){var e=$("#columns_container").position().top;if($(window).scrollTop()>=e){var t=$(window).scrollTop()-e,n=$(".column.left").outerHeight(),i=$(".sticky_column").outerHeight(),a=n-i;t>a?$(".sticky_column").css("top",a):$(".sticky_column").css("top",t)}else $(".sticky_column").css("top",0)})}!function(e,t,n,i,a,r,s){e.GoogleAnalyticsObject=a,e[a]=e[a]||function(){(e[a].q=e[a].q||[]).push(arguments)},e[a].l=1*new Date,r=t.createElement(n),s=t.getElementsByTagName(n)[0],r.async=1,r.src=i,s.parentNode.insertBefore(r,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-46610205-1","yumhacker.com"),ga("send","pageview"),function(e,t){function n(e){var t=e.length,n=ut.type(e);return ut.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e){var t=St[e]={};return ut.each(e.match(dt)||[],function(e,n){t[n]=!0}),t}function a(e,n,i,a){if(ut.acceptData(e)){var r,s,o=ut.expando,l=e.nodeType,c=l?ut.cache:e,u=l?e[o]:e[o]&&o;if(u&&c[u]&&(a||c[u].data)||i!==t||"string"!=typeof n)return u||(u=l?e[o]=tt.pop()||ut.guid++:o),c[u]||(c[u]=l?{}:{toJSON:ut.noop}),("object"==typeof n||"function"==typeof n)&&(a?c[u]=ut.extend(c[u],n):c[u].data=ut.extend(c[u].data,n)),s=c[u],a||(s.data||(s.data={}),s=s.data),i!==t&&(s[ut.camelCase(n)]=i),"string"==typeof n?(r=s[n],null==r&&(r=s[ut.camelCase(n)])):r=s,r}}function r(e,t,n){if(ut.acceptData(e)){var i,a,r=e.nodeType,s=r?ut.cache:e,l=r?e[ut.expando]:ut.expando;if(s[l]){if(t&&(i=n?s[l]:s[l].data)){ut.isArray(t)?t=t.concat(ut.map(t,ut.camelCase)):t in i?t=[t]:(t=ut.camelCase(t),t=t in i?[t]:t.split(" ")),a=t.length;for(;a--;)delete i[t[a]];if(n?!o(i):!ut.isEmptyObject(i))return}(n||(delete s[l].data,o(s[l])))&&(r?ut.cleanData([e],!0):ut.support.deleteExpando||s!=s.window?delete s[l]:s[l]=null)}}}function s(e,n,i){if(i===t&&1===e.nodeType){var a="data-"+n.replace(Ft,"-$1").toLowerCase();if(i=e.getAttribute(a),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:Ct.test(i)?ut.parseJSON(i):i}catch(r){}ut.data(e,n,i)}else i=t}return i}function o(e){var t;for(t in e)if(("data"!==t||!ut.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(){return!0}function c(){return!1}function u(){try{return X.activeElement}catch(e){}}function h(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function d(e,t,n){if(ut.isFunction(t))return ut.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return ut.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(zt.test(t))return ut.filter(t,e,n);t=ut.filter(t,e)}return ut.grep(e,function(e){return ut.inArray(e,t)>=0!==n})}function p(e){var t=Ot.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){return ut.nodeName(e,"table")&&ut.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function f(e){return e.type=(null!==ut.find.attr(e,"type"))+"/"+e.type,e}function m(e){var t=rn.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function _(e,t){for(var n,i=0;null!=(n=e[i]);i++)ut._data(n,"globalEval",!t||ut._data(t[i],"globalEval"))}function v(e,t){if(1===t.nodeType&&ut.hasData(e)){var n,i,a,r=ut._data(e),s=ut._data(t,r),o=r.events;if(o){delete s.handle,s.events={};for(n in o)for(i=0,a=o[n].length;a>i;i++)ut.event.add(t,n,o[n][i])}s.data&&(s.data=ut.extend({},s.data))}}function b(e,t){var n,i,a;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ut.support.noCloneEvent&&t[ut.expando]){a=ut._data(t);for(i in a.events)ut.removeEvent(t,i,a.handle);t.removeAttribute(ut.expando)}"script"===n&&t.text!==e.text?(f(t).text=e.text,m(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ut.support.html5Clone&&e.innerHTML&&!ut.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&tn.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function w(e,n){var i,a,r=0,s=typeof e.getElementsByTagName!==R?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==R?e.querySelectorAll(n||"*"):t;if(!s)for(s=[],i=e.childNodes||e;null!=(a=i[r]);r++)!n||ut.nodeName(a,n)?s.push(a):ut.merge(s,w(a,n));return n===t||n&&ut.nodeName(e,n)?ut.merge([e],s):s}function y(e){tn.test(e.type)&&(e.defaultChecked=e.checked)}function x(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,a=Sn.length;a--;)if(t=Sn[a]+n,t in e)return t;return i}function T(e,t){return e=t||e,"none"===ut.css(e,"display")||!ut.contains(e.ownerDocument,e)}function k(e,t){for(var n,i,a,r=[],s=0,o=e.length;o>s;s++)i=e[s],i.style&&(r[s]=ut._data(i,"olddisplay"),n=i.style.display,t?(r[s]||"none"!==n||(i.style.display=""),""===i.style.display&&T(i)&&(r[s]=ut._data(i,"olddisplay",j(i.nodeName)))):r[s]||(a=T(i),(n&&"none"!==n||!a)&&ut._data(i,"olddisplay",a?n:ut.css(i,"display"))));for(s=0;o>s;s++)i=e[s],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?r[s]||"":"none"));return e}function S(e,t,n){var i=vn.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function C(e,t,n,i,a){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,s=0;4>r;r+=2)"margin"===n&&(s+=ut.css(e,n+kn[r],!0,a)),i?("content"===n&&(s-=ut.css(e,"padding"+kn[r],!0,a)),"margin"!==n&&(s-=ut.css(e,"border"+kn[r]+"Width",!0,a))):(s+=ut.css(e,"padding"+kn[r],!0,a),"padding"!==n&&(s+=ut.css(e,"border"+kn[r]+"Width",!0,a)));return s}function F(e,t,n){var i=!0,a="width"===t?e.offsetWidth:e.offsetHeight,r=hn(e),s=ut.support.boxSizing&&"border-box"===ut.css(e,"boxSizing",!1,r);if(0>=a||null==a){if(a=dn(e,t,r),(0>a||null==a)&&(a=e.style[t]),bn.test(a))return a;i=s&&(ut.support.boxSizingReliable||a===e.style[t]),a=parseFloat(a)||0}return a+C(e,t,n||(s?"border":"content"),i,r)+"px"}function j(e){var t=X,n=yn[e];return n||(n=L(e,t),"none"!==n&&n||(un=(un||ut("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(un[0].contentWindow||un[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=L(e,t),un.detach()),yn[e]=n),n}function L(e,t){var n=ut(t.createElement(e)).appendTo(t.body),i=ut.css(n[0],"display");return n.remove(),i}function A(e,t,n,i){var a;if(ut.isArray(t))ut.each(t,function(t,a){n||Fn.test(e)?i(e,a):A(e+"["+("object"==typeof a?t:"")+"]",a,n,i)});else if(n||"object"!==ut.type(t))i(e,t);else for(a in t)A(e+"["+a+"]",t[a],n,i)}function E(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,a=0,r=t.toLowerCase().match(dt)||[];if(ut.isFunction(n))for(;i=r[a++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function M(e,t,n,i){function a(o){var l;return r[o]=!0,ut.each(e[o]||[],function(e,o){var c=o(t,n,i);return"string"!=typeof c||s||r[c]?s?!(l=c):void 0:(t.dataTypes.unshift(c),a(c),!1)}),l}var r={},s=e===Yn;return a(t.dataTypes[0])||!r["*"]&&a("*")}function N(e,n){var i,a,r=ut.ajaxSettings.flatOptions||{};for(a in n)n[a]!==t&&((r[a]?e:i||(i={}))[a]=n[a]);return i&&ut.extend(!0,e,i),e}function q(e,n,i){for(var a,r,s,o,l=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),r===t&&(r=e.mimeType||n.getResponseHeader("Content-Type"));if(r)for(o in l)if(l[o]&&l[o].test(r)){c.unshift(o);break}if(c[0]in i)s=c[0];else{for(o in i){if(!c[0]||e.converters[o+" "+c[0]]){s=o;break}a||(a=o)}s=s||a}return s?(s!==c[0]&&c.unshift(s),i[s]):void 0}function V(e,t,n,i){var a,r,s,o,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(r=u.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(s=c[l+" "+r]||c["* "+r],!s)for(a in c)if(o=a.split(" "),o[1]===r&&(s=c[l+" "+o[0]]||c["* "+o[0]])){s===!0?s=c[a]:c[a]!==!0&&(r=o[0],u.unshift(o[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}function H(){try{return new e.XMLHttpRequest}catch(t){}}function $(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function D(){return setTimeout(function(){Kn=t}),Kn=ut.now()}function P(e,t,n){for(var i,a=(ri[t]||[]).concat(ri["*"]),r=0,s=a.length;s>r;r++)if(i=a[r].call(n,t,e))return i}function J(e,t,n){var i,a,r=0,s=ai.length,o=ut.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var t=Kn||D(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,r=1-i,s=0,l=c.tweens.length;l>s;s++)c.tweens[s].run(r);return o.notifyWith(e,[c,r,n]),1>r&&l?n:(o.resolveWith(e,[c]),!1)},c=o.promise({elem:e,props:ut.extend({},t),opts:ut.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Kn||D(),duration:n.duration,tweens:[],createTween:function(t,n){var i=ut.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(a)return this;for(a=!0;i>n;n++)c.tweens[n].run(1);return t?o.resolveWith(e,[c,t]):o.rejectWith(e,[c,t]),this}}),u=c.props;for(I(u,c.opts.specialEasing);s>r;r++)if(i=ai[r].call(c,e,u,c.opts))return i;return ut.map(u,P,c),ut.isFunction(c.opts.start)&&c.opts.start.call(e,c),ut.fx.timer(ut.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function I(e,t){var n,i,a,r,s;for(n in e)if(i=ut.camelCase(n),a=t[i],r=e[n],ut.isArray(r)&&(a=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),s=ut.cssHooks[i],s&&"expand"in s){r=s.expand(r),delete e[i];for(n in r)n in e||(e[n]=r[n],t[n]=a)}else t[i]=a}function z(e,t,n){var i,a,r,s,o,l,c=this,u={},h=e.style,d=e.nodeType&&T(e),p=ut._data(e,"fxshow");n.queue||(o=ut._queueHooks(e,"fx"),null==o.unqueued&&(o.unqueued=0,l=o.empty.fire,o.empty.fire=function(){o.unqueued||l()}),o.unqueued++,c.always(function(){c.always(function(){o.unqueued--,ut.queue(e,"fx").length||o.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===ut.css(e,"display")&&"none"===ut.css(e,"float")&&(ut.support.inlineBlockNeedsLayout&&"inline"!==j(e.nodeName)?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",ut.support.shrinkWrapBlocks||c.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(i in t)if(a=t[i],ti.exec(a)){if(delete t[i],r=r||"toggle"===a,a===(d?"hide":"show"))continue;u[i]=p&&p[i]||ut.style(e,i)}if(!ut.isEmptyObject(u)){p?"hidden"in p&&(d=p.hidden):p=ut._data(e,"fxshow",{}),r&&(p.hidden=!d),d?ut(e).show():c.done(function(){ut(e).hide()}),c.done(function(){var t;ut._removeData(e,"fxshow");for(t in u)ut.style(e,t,u[t])});for(i in u)s=P(d?p[i]:0,i,c),i in p||(p[i]=s.start,d&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function U(e,t,n,i,a){return new U.prototype.init(e,t,n,i,a)}function Y(e,t){var n,i={height:e},a=0;for(t=t?1:0;4>a;a+=2-t)n=kn[a],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function B(e){return ut.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var O,W,R=typeof t,G=e.location,X=e.document,Z=X.documentElement,Q=e.jQuery,K=e.$,et={},tt=[],nt="1.10.2",it=tt.concat,at=tt.push,rt=tt.slice,st=tt.indexOf,ot=et.toString,lt=et.hasOwnProperty,ct=nt.trim,ut=function(e,t){return new ut.fn.init(e,t,W)},ht=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,dt=/\S+/g,pt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,gt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ft=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,mt=/^[\],:{}\s]*$/,_t=/(?:^|:|,)(?:\s*\[)+/g,vt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,bt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,wt=/^-ms-/,yt=/-([\da-z])/gi,xt=function(e,t){return t.toUpperCase()},Tt=function(e){(X.addEventListener||"load"===e.type||"complete"===X.readyState)&&(kt(),ut.ready())},kt=function(){X.addEventListener?(X.removeEventListener("DOMContentLoaded",Tt,!1),e.removeEventListener("load",Tt,!1)):(X.detachEvent("onreadystatechange",Tt),e.detachEvent("onload",Tt))};ut.fn=ut.prototype={jquery:nt,constructor:ut,init:function(e,n,i){var a,r;if(!e)return this;if("string"==typeof e){if(a="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:gt.exec(e),!a||!a[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(a[1]){if(n=n instanceof ut?n[0]:n,ut.merge(this,ut.parseHTML(a[1],n&&n.nodeType?n.ownerDocument||n:X,!0)),ft.test(a[1])&&ut.isPlainObject(n))for(a in n)ut.isFunction(this[a])?this[a](n[a]):this.attr(a,n[a]);return this}if(r=X.getElementById(a[2]),r&&r.parentNode){if(r.id!==a[2])return i.find(e);this.length=1,this[0]=r}return this.context=X,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ut.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),ut.makeArray(e,this))},selector:"",length:0,toArray:function(){return rt.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=ut.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ut.each(this,e,t)},ready:function(e){return ut.ready.promise().done(e),this},slice:function(){return this.pushStack(rt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(ut.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:at,sort:[].sort,splice:[].splice},ut.fn.init.prototype=ut.fn,ut.extend=ut.fn.extend=function(){var e,n,i,a,r,s,o=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[1]||{},l=2),"object"==typeof o||ut.isFunction(o)||(o={}),c===l&&(o=this,--l);c>l;l++)if(null!=(r=arguments[l]))for(a in r)e=o[a],i=r[a],o!==i&&(u&&i&&(ut.isPlainObject(i)||(n=ut.isArray(i)))?(n?(n=!1,s=e&&ut.isArray(e)?e:[]):s=e&&ut.isPlainObject(e)?e:{},o[a]=ut.extend(u,s,i)):i!==t&&(o[a]=i));return o},ut.extend({expando:"jQuery"+(nt+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===ut&&(e.$=K),t&&e.jQuery===ut&&(e.jQuery=Q),ut},isReady:!1,readyWait:1,holdReady:function(e){e?ut.readyWait++:ut.ready(!0)},ready:function(e){if(e===!0?!--ut.readyWait:!ut.isReady){if(!X.body)return setTimeout(ut.ready);ut.isReady=!0,e!==!0&&--ut.readyWait>0||(O.resolveWith(X,[ut]),ut.fn.trigger&&ut(X).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===ut.type(e)},isArray:Array.isArray||function(e){return"array"===ut.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?et[ot.call(e)]||"object":typeof e},isPlainObject:function(e){var n;if(!e||"object"!==ut.type(e)||e.nodeType||ut.isWindow(e))return!1;try{if(e.constructor&&!lt.call(e,"constructor")&&!lt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(ut.support.ownLast)for(n in e)return lt.call(e,n);for(n in e);return n===t||lt.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||X;var i=ft.exec(e),a=!n&&[];return i?[t.createElement(i[1])]:(i=ut.buildFragment([e],t,a),a&&ut(a).remove(),ut.merge([],i.childNodes))},parseJSON:function(t){return e.JSON&&e.JSON.parse?e.JSON.parse(t):null===t?t:"string"==typeof t&&(t=ut.trim(t),t&&mt.test(t.replace(vt,"@").replace(bt,"]").replace(_t,"")))?new Function("return "+t)():(ut.error("Invalid JSON: "+t),void 0)},parseXML:function(n){var i,a;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(a=new DOMParser,i=a.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(r){i=t}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||ut.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&ut.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(wt,"ms-").replace(yt,xt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var a,r=0,s=e.length,o=n(e);if(i){if(o)for(;s>r&&(a=t.apply(e[r],i),a!==!1);r++);else for(r in e)if(a=t.apply(e[r],i),a===!1)break}else if(o)for(;s>r&&(a=t.call(e[r],r,e[r]),a!==!1);r++);else for(r in e)if(a=t.call(e[r],r,e[r]),a===!1)break;return e},trim:ct&&!ct.call("﻿ ")?function(e){return null==e?"":ct.call(e)}:function(e){return null==e?"":(e+"").replace(pt,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?ut.merge(i,"string"==typeof e?[e]:e):at.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(st)return st.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var i=n.length,a=e.length,r=0;if("number"==typeof i)for(;i>r;r++)e[a++]=n[r];else for(;n[r]!==t;)e[a++]=n[r++];return e.length=a,e},grep:function(e,t,n){var i,a=[],r=0,s=e.length;for(n=!!n;s>r;r++)i=!!t(e[r],r),n!==i&&a.push(e[r]);return a},map:function(e,t,i){var a,r=0,s=e.length,o=n(e),l=[];if(o)for(;s>r;r++)a=t(e[r],r,i),null!=a&&(l[l.length]=a);else for(r in e)a=t(e[r],r,i),null!=a&&(l[l.length]=a);return it.apply([],l)},guid:1,proxy:function(e,n){var i,a,r;return"string"==typeof n&&(r=e[n],n=e,e=r),ut.isFunction(e)?(i=rt.call(arguments,2),a=function(){return e.apply(n||this,i.concat(rt.call(arguments)))},a.guid=e.guid=e.guid||ut.guid++,a):t},access:function(e,n,i,a,r,s,o){var l=0,c=e.length,u=null==i;if("object"===ut.type(i)){r=!0;for(l in i)ut.access(e,n,l,i[l],!0,s,o)}else if(a!==t&&(r=!0,ut.isFunction(a)||(o=!0),u&&(o?(n.call(e,a),n=null):(u=n,n=function(e,t,n){return u.call(ut(e),n)})),n))for(;c>l;l++)n(e[l],i,o?a:a.call(e[l],l,n(e[l],i)));return r?e:u?n.call(e):c?n(e[0],i):s},now:function(){return(new Date).getTime()},swap:function(e,t,n,i){var a,r,s={};for(r in t)s[r]=e.style[r],e.style[r]=t[r];a=n.apply(e,i||[]);for(r in t)e.style[r]=s[r];return a}}),ut.ready.promise=function(t){if(!O)if(O=ut.Deferred(),"complete"===X.readyState)setTimeout(ut.ready);else if(X.addEventListener)X.addEventListener("DOMContentLoaded",Tt,!1),e.addEventListener("load",Tt,!1);else{X.attachEvent("onreadystatechange",Tt),e.attachEvent("onload",Tt);var n=!1;try{n=null==e.frameElement&&X.documentElement}catch(i){}n&&n.doScroll&&!function a(){if(!ut.isReady){try{n.doScroll("left")}catch(e){return setTimeout(a,50)}kt(),ut.ready()}}()}return O.promise(t)},ut.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){et["[object "+t+"]"]=t.toLowerCase()}),W=ut(X),function(e,t){function n(e,t,n,i){var a,r,s,o,l,c,u,h,g,f;if((t?t.ownerDocument||t:J)!==M&&E(t),t=t||M,n=n||[],!e||"string"!=typeof e)return n;if(1!==(o=t.nodeType)&&9!==o)return[];if(q&&!i){if(a=bt.exec(e))if(s=a[1]){if(9===o){if(r=t.getElementById(s),!r||!r.parentNode)return n;if(r.id===s)return n.push(r),n}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(s))&&D(t,r)&&r.id===s)return n.push(r),n}else{if(a[2])return et.apply(n,t.getElementsByTagName(e)),n;if((s=a[3])&&T.getElementsByClassName&&t.getElementsByClassName)return et.apply(n,t.getElementsByClassName(s)),n}if(T.qsa&&(!V||!V.test(e))){if(h=u=P,g=t,f=9===o&&e,1===o&&"object"!==t.nodeName.toLowerCase()){for(c=d(e),(u=t.getAttribute("id"))?h=u.replace(xt,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",l=c.length;l--;)c[l]=h+p(c[l]);g=pt.test(e)&&t.parentNode||t,f=c.join(",")}if(f)try{return et.apply(n,g.querySelectorAll(f)),n}catch(m){}finally{u||t.removeAttribute("id")}}}return y(e.replace(ct,"$1"),t,n,i)}function i(){function e(n,i){return t.push(n+=" ")>S.cacheLength&&delete e[t.shift()],e[n]=i}var t=[];return e}function a(e){return e[P]=!0,e}function r(e){var t=M.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){for(var n=e.split("|"),i=e.length;i--;)S.attrHandle[n[i]]=t}function o(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||G)-(~e.sourceIndex||G);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function c(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return a(function(t){return t=+t,a(function(n,i){for(var a,r=e([],n.length,t),s=r.length;s--;)n[a=r[s]]&&(n[a]=!(i[a]=n[a]))})})}function h(){}function d(e,t){var i,a,r,s,o,l,c,u=Y[e+" "];if(u)return t?0:u.slice(0);for(o=e,l=[],c=S.preFilter;o;){(!i||(a=ht.exec(o)))&&(a&&(o=o.slice(a[0].length)||o),l.push(r=[])),i=!1,(a=dt.exec(o))&&(i=a.shift(),r.push({value:i,type:a[0].replace(ct," ")}),o=o.slice(i.length));for(s in S.filter)!(a=_t[s].exec(o))||c[s]&&!(a=c[s](a))||(i=a.shift(),r.push({value:i,type:s,matches:a}),o=o.slice(i.length));if(!i)break}return t?o.length:o?n.error(e):Y(e,l).slice(0)}function p(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function g(e,t,n){var i=t.dir,a=n&&"parentNode"===i,r=z++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||a)return e(t,n,r)}:function(t,n,s){var o,l,c,u=I+" "+r;if(s){for(;t=t[i];)if((1===t.nodeType||a)&&e(t,n,s))return!0}else for(;t=t[i];)if(1===t.nodeType||a)if(c=t[P]||(t[P]={}),(l=c[i])&&l[0]===u){if((o=l[1])===!0||o===k)return o===!0}else if(l=c[i]=[u],l[1]=e(t,n,s)||k,l[1]===!0)return!0}}function f(e){return e.length>1?function(t,n,i){for(var a=e.length;a--;)if(!e[a](t,n,i))return!1;return!0}:e[0]}function m(e,t,n,i,a){for(var r,s=[],o=0,l=e.length,c=null!=t;l>o;o++)(r=e[o])&&(!n||n(r,i,a))&&(s.push(r),c&&t.push(o));return s}function _(e,t,n,i,r,s){return i&&!i[P]&&(i=_(i)),r&&!r[P]&&(r=_(r,s)),a(function(a,s,o,l){var c,u,h,d=[],p=[],g=s.length,f=a||w(t||"*",o.nodeType?[o]:o,[]),_=!e||!a&&t?f:m(f,d,e,o,l),v=n?r||(a?e:g||i)?[]:s:_;if(n&&n(_,v,o,l),i)for(c=m(v,p),i(c,[],o,l),u=c.length;u--;)(h=c[u])&&(v[p[u]]=!(_[p[u]]=h));if(a){if(r||e){if(r){for(c=[],u=v.length;u--;)(h=v[u])&&c.push(_[u]=h);r(null,v=[],c,l)}for(u=v.length;u--;)(h=v[u])&&(c=r?nt.call(a,h):d[u])>-1&&(a[c]=!(s[c]=h))}}else v=m(v===s?v.splice(g,v.length):v),r?r(null,s,v,l):et.apply(s,v)})}function v(e){for(var t,n,i,a=e.length,r=S.relative[e[0].type],s=r||S.relative[" "],o=r?1:0,l=g(function(e){return e===t},s,!0),c=g(function(e){return nt.call(t,e)>-1},s,!0),u=[function(e,n,i){return!r&&(i||n!==L)||((t=n).nodeType?l(e,n,i):c(e,n,i))}];a>o;o++)if(n=S.relative[e[o].type])u=[g(f(u),n)];else{if(n=S.filter[e[o].type].apply(null,e[o].matches),n[P]){for(i=++o;a>i&&!S.relative[e[i].type];i++);return _(o>1&&f(u),o>1&&p(e.slice(0,o-1).concat({value:" "===e[o-2].type?"*":""})).replace(ct,"$1"),n,i>o&&v(e.slice(o,i)),a>i&&v(e=e.slice(i)),a>i&&p(e))}u.push(n)}return f(u)}function b(e,t){var i=0,r=t.length>0,s=e.length>0,o=function(a,o,l,c,u){var h,d,p,g=[],f=0,_="0",v=a&&[],b=null!=u,w=L,y=a||s&&S.find.TAG("*",u&&o.parentNode||o),x=I+=null==w?1:Math.random()||.1;for(b&&(L=o!==M&&o,k=i);null!=(h=y[_]);_++){if(s&&h){for(d=0;p=e[d++];)if(p(h,o,l)){c.push(h);break}b&&(I=x,k=++i)}r&&((h=!p&&h)&&f--,a&&v.push(h))}if(f+=_,r&&_!==f){for(d=0;p=t[d++];)p(v,g,o,l);if(a){if(f>0)for(;_--;)v[_]||g[_]||(g[_]=Q.call(c));g=m(g)}et.apply(c,g),b&&!a&&g.length>0&&f+t.length>1&&n.uniqueSort(c)}return b&&(I=x,L=w),v};return r?a(o):o}function w(e,t,i){for(var a=0,r=t.length;r>a;a++)n(e,t[a],i);return i}function y(e,t,n,i){var a,r,s,o,l,c=d(e);if(!i&&1===c.length){if(r=c[0]=c[0].slice(0),r.length>2&&"ID"===(s=r[0]).type&&T.getById&&9===t.nodeType&&q&&S.relative[r[1].type]){if(t=(S.find.ID(s.matches[0].replace(Tt,kt),t)||[])[0],!t)return n;e=e.slice(r.shift().value.length)}for(a=_t.needsContext.test(e)?0:r.length;a--&&(s=r[a],!S.relative[o=s.type]);)if((l=S.find[o])&&(i=l(s.matches[0].replace(Tt,kt),pt.test(r[0].type)&&t.parentNode||t))){if(r.splice(a,1),e=i.length&&p(r),!e)return et.apply(n,i),n;break}}return j(e,c)(i,t,!q,n,pt.test(e)),n}var x,T,k,S,C,F,j,L,A,E,M,N,q,V,H,$,D,P="sizzle"+-new Date,J=e.document,I=0,z=0,U=i(),Y=i(),B=i(),O=!1,W=function(e,t){return e===t?(O=!0,0):0},R=typeof t,G=1<<31,X={}.hasOwnProperty,Z=[],Q=Z.pop,K=Z.push,et=Z.push,tt=Z.slice,nt=Z.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},it="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",at="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",st=rt.replace("w","w#"),ot="\\["+at+"*("+rt+")"+at+"*(?:([*^$|!~]?=)"+at+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+st+")|)|)"+at+"*\\]",lt=":("+rt+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ot.replace(3,8)+")*)|.*)\\)|)",ct=new RegExp("^"+at+"+|((?:^|[^\\\\])(?:\\\\.)*)"+at+"+$","g"),ht=new RegExp("^"+at+"*,"+at+"*"),dt=new RegExp("^"+at+"*([>+~]|"+at+")"+at+"*"),pt=new RegExp(at+"*[+~]"),gt=new RegExp("="+at+"*([^\\]'\"]*)"+at+"*\\]","g"),ft=new RegExp(lt),mt=new RegExp("^"+st+"$"),_t={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+lt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+at+"*(even|odd|(([+-]|)(\\d*)n|)"+at+"*(?:([+-]|)"+at+"*(\\d+)|))"+at+"*\\)|)","i"),bool:new RegExp("^(?:"+it+")$","i"),needsContext:new RegExp("^"+at+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+at+"*((?:-\\d)?\\d*)"+at+"*\\)|)(?=[^-]|$)","i")},vt=/^[^{]+\{\s*\[native \w/,bt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,wt=/^(?:input|select|textarea|button)$/i,yt=/^h\d$/i,xt=/'|\\/g,Tt=new RegExp("\\\\([\\da-f]{1,6}"+at+"?|("+at+")|.)","ig"),kt=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{et.apply(Z=tt.call(J.childNodes),J.childNodes),Z[J.childNodes.length].nodeType}catch(St){et={apply:Z.length?function(e,t){K.apply(e,tt.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}F=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},T=n.support={},E=n.setDocument=function(e){var t=e?e.ownerDocument||e:J,n=t.defaultView;return t!==M&&9===t.nodeType&&t.documentElement?(M=t,N=t.documentElement,q=!F(t),n&&n.attachEvent&&n!==n.top&&n.attachEvent("onbeforeunload",function(){E()}),T.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),T.getElementsByTagName=r(function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length}),T.getElementsByClassName=r(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),T.getById=r(function(e){return N.appendChild(e).id=P,!t.getElementsByName||!t.getElementsByName(P).length}),T.getById?(S.find.ID=function(e,t){if(typeof t.getElementById!==R&&q){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},S.filter.ID=function(e){var t=e.replace(Tt,kt);return function(e){return e.getAttribute("id")===t}}):(delete S.find.ID,S.filter.ID=function(e){var t=e.replace(Tt,kt);return function(e){var n=typeof e.getAttributeNode!==R&&e.getAttributeNode("id");return n&&n.value===t}}),S.find.TAG=T.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==R?t.getElementsByTagName(e):void 0}:function(e,t){var n,i=[],a=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[a++];)1===n.nodeType&&i.push(n);return i}return r},S.find.CLASS=T.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==R&&q?t.getElementsByClassName(e):void 0},H=[],V=[],(T.qsa=vt.test(t.querySelectorAll))&&(r(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||V.push("\\["+at+"*(?:value|"+it+")"),e.querySelectorAll(":checked").length||V.push(":checked")}),r(function(e){var n=t.createElement("input");n.setAttribute("type","hidden"),e.appendChild(n).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&V.push("[*^$]="+at+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||V.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),V.push(",.*:")})),(T.matchesSelector=vt.test($=N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&r(function(e){T.disconnectedMatch=$.call(e,"div"),$.call(e,"[s!='']:x"),H.push("!=",lt)}),V=V.length&&new RegExp(V.join("|")),H=H.length&&new RegExp(H.join("|")),D=vt.test(N.contains)||N.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=N.compareDocumentPosition?function(e,n){if(e===n)return O=!0,0;var i=n.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(n);return i?1&i||!T.sortDetached&&n.compareDocumentPosition(e)===i?e===t||D(J,e)?-1:n===t||D(J,n)?1:A?nt.call(A,e)-nt.call(A,n):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,n){var i,a=0,r=e.parentNode,s=n.parentNode,l=[e],c=[n];if(e===n)return O=!0,0;if(!r||!s)return e===t?-1:n===t?1:r?-1:s?1:A?nt.call(A,e)-nt.call(A,n):0;if(r===s)return o(e,n);for(i=e;i=i.parentNode;)l.unshift(i);for(i=n;i=i.parentNode;)c.unshift(i);for(;l[a]===c[a];)a++;return a?o(l[a],c[a]):l[a]===J?-1:c[a]===J?1:0},t):M},n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){if((e.ownerDocument||e)!==M&&E(e),t=t.replace(gt,"='$1']"),!(!T.matchesSelector||!q||H&&H.test(t)||V&&V.test(t)))try{var i=$.call(e,t);if(i||T.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(a){}return n(t,M,null,[e]).length>0},n.contains=function(e,t){return(e.ownerDocument||e)!==M&&E(e),D(e,t)},n.attr=function(e,n){(e.ownerDocument||e)!==M&&E(e);var i=S.attrHandle[n.toLowerCase()],a=i&&X.call(S.attrHandle,n.toLowerCase())?i(e,n,!q):t;return a===t?T.attributes||!q?e.getAttribute(n):(a=e.getAttributeNode(n))&&a.specified?a.value:null:a},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},n.uniqueSort=function(e){var t,n=[],i=0,a=0;if(O=!T.detectDuplicates,A=!T.sortStable&&e.slice(0),e.sort(W),O){for(;t=e[a++];)t===e[a]&&(i=n.push(a));for(;i--;)e.splice(n[i],1)}return e},C=n.getText=function(e){var t,n="",i=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[i];i++)n+=C(t);return n},S=n.selectors={cacheLength:50,createPseudo:a,match:_t,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Tt,kt),e[3]=(e[4]||e[5]||"").replace(Tt,kt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||n.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&n.error(e[0]),e},PSEUDO:function(e){var n,i=!e[5]&&e[2];return _t.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:i&&ft.test(i)&&(n=d(i,!0))&&(n=i.indexOf(")",i.length-n)-i.length)&&(e[0]=e[0].slice(0,n),e[2]=i.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Tt,kt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=U[e+" "];return t||(t=new RegExp("(^|"+at+")"+e+"("+at+"|$)"))&&U(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==R&&e.getAttribute("class")||"")
})},ATTR:function(e,t,i){return function(a){var r=n.attr(a,e);return null==r?"!="===t:t?(r+="","="===t?r===i:"!="===t?r!==i:"^="===t?i&&0===r.indexOf(i):"*="===t?i&&r.indexOf(i)>-1:"$="===t?i&&r.slice(-i.length)===i:"~="===t?(" "+r+" ").indexOf(i)>-1:"|="===t?r===i||r.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,a){var r="nth"!==e.slice(0,3),s="last"!==e.slice(-4),o="of-type"===t;return 1===i&&0===a?function(e){return!!e.parentNode}:function(t,n,l){var c,u,h,d,p,g,f=r!==s?"nextSibling":"previousSibling",m=t.parentNode,_=o&&t.nodeName.toLowerCase(),v=!l&&!o;if(m){if(r){for(;f;){for(h=t;h=h[f];)if(o?h.nodeName.toLowerCase()===_:1===h.nodeType)return!1;g=f="only"===e&&!g&&"nextSibling"}return!0}if(g=[s?m.firstChild:m.lastChild],s&&v){for(u=m[P]||(m[P]={}),c=u[e]||[],p=c[0]===I&&c[1],d=c[0]===I&&c[2],h=p&&m.childNodes[p];h=++p&&h&&h[f]||(d=p=0)||g.pop();)if(1===h.nodeType&&++d&&h===t){u[e]=[I,p,d];break}}else if(v&&(c=(t[P]||(t[P]={}))[e])&&c[0]===I)d=c[1];else for(;(h=++p&&h&&h[f]||(d=p=0)||g.pop())&&((o?h.nodeName.toLowerCase()!==_:1!==h.nodeType)||!++d||(v&&((h[P]||(h[P]={}))[e]=[I,d]),h!==t)););return d-=a,d===i||d%i===0&&d/i>=0}}},PSEUDO:function(e,t){var i,r=S.pseudos[e]||S.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return r[P]?r(t):r.length>1?(i=[e,e,"",t],S.setFilters.hasOwnProperty(e.toLowerCase())?a(function(e,n){for(var i,a=r(e,t),s=a.length;s--;)i=nt.call(e,a[s]),e[i]=!(n[i]=a[s])}):function(e){return r(e,0,i)}):r}},pseudos:{not:a(function(e){var t=[],n=[],i=j(e.replace(ct,"$1"));return i[P]?a(function(e,t,n,a){for(var r,s=i(e,null,a,[]),o=e.length;o--;)(r=s[o])&&(e[o]=!(t[o]=r))}):function(e,a,r){return t[0]=e,i(t,null,r,n),!n.pop()}}),has:a(function(e){return function(t){return n(e,t).length>0}}),contains:a(function(e){return function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:a(function(e){return mt.test(e||"")||n.error("unsupported lang: "+e),e=e.replace(Tt,kt).toLowerCase(),function(t){var n;do if(n=q?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===N},focus:function(e){return e===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!S.pseudos.empty(e)},header:function(e){return yt.test(e.nodeName)},input:function(e){return wt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:u(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},S.pseudos.nth=S.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[x]=l(x);for(x in{submit:!0,reset:!0})S.pseudos[x]=c(x);h.prototype=S.filters=S.pseudos,S.setFilters=new h,j=n.compile=function(e,t){var n,i=[],a=[],r=B[e+" "];if(!r){for(t||(t=d(e)),n=t.length;n--;)r=v(t[n]),r[P]?i.push(r):a.push(r);r=B(e,b(a,i))}return r},T.sortStable=P.split("").sort(W).join("")===P,T.detectDuplicates=O,E(),T.sortDetached=r(function(e){return 1&e.compareDocumentPosition(M.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),T.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||s(it,function(e,t,n){var i;return n?void 0:(i=e.getAttributeNode(t))&&i.specified?i.value:e[t]===!0?t.toLowerCase():null}),ut.find=n,ut.expr=n.selectors,ut.expr[":"]=ut.expr.pseudos,ut.unique=n.uniqueSort,ut.text=n.getText,ut.isXMLDoc=n.isXML,ut.contains=n.contains}(e);var St={};ut.Callbacks=function(e){e="string"==typeof e?St[e]||i(e):ut.extend({},e);var n,a,r,s,o,l,c=[],u=!e.once&&[],h=function(t){for(a=e.memory&&t,r=!0,o=l||0,l=0,s=c.length,n=!0;c&&s>o;o++)if(c[o].apply(t[0],t[1])===!1&&e.stopOnFalse){a=!1;break}n=!1,c&&(u?u.length&&h(u.shift()):a?c=[]:d.disable())},d={add:function(){if(c){var t=c.length;!function i(t){ut.each(t,function(t,n){var a=ut.type(n);"function"===a?e.unique&&d.has(n)||c.push(n):n&&n.length&&"string"!==a&&i(n)})}(arguments),n?s=c.length:a&&(l=t,h(a))}return this},remove:function(){return c&&ut.each(arguments,function(e,t){for(var i;(i=ut.inArray(t,c,i))>-1;)c.splice(i,1),n&&(s>=i&&s--,o>=i&&o--)}),this},has:function(e){return e?ut.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],s=0,this},disable:function(){return c=u=a=t,this},disabled:function(){return!c},lock:function(){return u=t,a||d.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!c||r&&!u||(t=t||[],t=[e,t.slice?t.slice():t],n?u.push(t):h(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},ut.extend({Deferred:function(e){var t=[["resolve","done",ut.Callbacks("once memory"),"resolved"],["reject","fail",ut.Callbacks("once memory"),"rejected"],["notify","progress",ut.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ut.Deferred(function(n){ut.each(t,function(t,r){var s=r[0],o=ut.isFunction(e[t])&&e[t];a[r[1]](function(){var e=o&&o.apply(this,arguments);e&&ut.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===i?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ut.extend(e,i):i}},a={};return i.pipe=i.then,ut.each(t,function(e,r){var s=r[2],o=r[3];i[r[1]]=s.add,o&&s.add(function(){n=o},t[1^e][2].disable,t[2][2].lock),a[r[0]]=function(){return a[r[0]+"With"](this===a?i:this,arguments),this},a[r[0]+"With"]=s.fireWith}),i.promise(a),e&&e.call(a,a),a},when:function(e){var t,n,i,a=0,r=rt.call(arguments),s=r.length,o=1!==s||e&&ut.isFunction(e.promise)?s:0,l=1===o?e:ut.Deferred(),c=function(e,n,i){return function(a){n[e]=this,i[e]=arguments.length>1?rt.call(arguments):a,i===t?l.notifyWith(n,i):--o||l.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);s>a;a++)r[a]&&ut.isFunction(r[a].promise)?r[a].promise().done(c(a,i,r)).fail(l.reject).progress(c(a,n,t)):--o;return o||l.resolveWith(i,r),l.promise()}}),ut.support=function(t){var n,i,a,r,s,o,l,c,u,h=X.createElement("div");if(h.setAttribute("className","t"),h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=h.getElementsByTagName("*")||[],i=h.getElementsByTagName("a")[0],!i||!i.style||!n.length)return t;r=X.createElement("select"),o=r.appendChild(X.createElement("option")),a=h.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==h.className,t.leadingWhitespace=3===h.firstChild.nodeType,t.tbody=!h.getElementsByTagName("tbody").length,t.htmlSerialize=!!h.getElementsByTagName("link").length,t.style=/top/.test(i.getAttribute("style")),t.hrefNormalized="/a"===i.getAttribute("href"),t.opacity=/^0.5/.test(i.style.opacity),t.cssFloat=!!i.style.cssFloat,t.checkOn=!!a.value,t.optSelected=o.selected,t.enctype=!!X.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==X.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,a.checked=!0,t.noCloneChecked=a.cloneNode(!0).checked,r.disabled=!0,t.optDisabled=!o.disabled;try{delete h.test}catch(d){t.deleteExpando=!1}a=X.createElement("input"),a.setAttribute("value",""),t.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),t.radioValue="t"===a.value,a.setAttribute("checked","t"),a.setAttribute("name","t"),s=X.createDocumentFragment(),s.appendChild(a),t.appendChecked=a.checked,t.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,h.attachEvent&&(h.attachEvent("onclick",function(){t.noCloneEvent=!1}),h.cloneNode(!0).click());for(u in{submit:!0,change:!0,focusin:!0})h.setAttribute(l="on"+u,"t"),t[u+"Bubbles"]=l in e||h.attributes[l].expando===!1;h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===h.style.backgroundClip;for(u in ut(t))break;return t.ownLast="0"!==u,ut(function(){var n,i,a,r="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",s=X.getElementsByTagName("body")[0];s&&(n=X.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",s.appendChild(n).appendChild(h),h.innerHTML="<table><tr><td></td><td>t</td></tr></table>",a=h.getElementsByTagName("td"),a[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===a[0].offsetHeight,a[0].style.display="",a[1].style.display="none",t.reliableHiddenOffsets=c&&0===a[0].offsetHeight,h.innerHTML="",h.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",ut.swap(s,null!=s.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===h.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(h,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(h,null)||{width:"4px"}).width,i=h.appendChild(X.createElement("div")),i.style.cssText=h.style.cssText=r,i.style.marginRight=i.style.width="0",h.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight)),typeof h.style.zoom!==R&&(h.innerHTML="",h.style.cssText=r+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===h.offsetWidth,h.style.display="block",h.innerHTML="<div></div>",h.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==h.offsetWidth,t.inlineBlockNeedsLayout&&(s.style.zoom=1)),s.removeChild(n),n=h=a=i=null)}),n=r=s=o=i=a=null,t}({});var Ct=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Ft=/([A-Z])/g;ut.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ut.cache[e[ut.expando]]:e[ut.expando],!!e&&!o(e)},data:function(e,t,n){return a(e,t,n)},removeData:function(e,t){return r(e,t)},_data:function(e,t,n){return a(e,t,n,!0)},_removeData:function(e,t){return r(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&ut.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),ut.fn.extend({data:function(e,n){var i,a,r=null,o=0,l=this[0];if(e===t){if(this.length&&(r=ut.data(l),1===l.nodeType&&!ut._data(l,"parsedAttrs"))){for(i=l.attributes;o<i.length;o++)a=i[o].name,0===a.indexOf("data-")&&(a=ut.camelCase(a.slice(5)),s(l,a,r[a]));ut._data(l,"parsedAttrs",!0)}return r}return"object"==typeof e?this.each(function(){ut.data(this,e)}):arguments.length>1?this.each(function(){ut.data(this,e,n)}):l?s(l,e,ut.data(l,e)):null},removeData:function(e){return this.each(function(){ut.removeData(this,e)})}}),ut.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=ut._data(e,t),n&&(!i||ut.isArray(n)?i=ut._data(e,t,ut.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ut.queue(e,t),i=n.length,a=n.shift(),r=ut._queueHooks(e,t),s=function(){ut.dequeue(e,t)};"inprogress"===a&&(a=n.shift(),i--),a&&("fx"===t&&n.unshift("inprogress"),delete r.stop,a.call(e,s,r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ut._data(e,n)||ut._data(e,n,{empty:ut.Callbacks("once memory").add(function(){ut._removeData(e,t+"queue"),ut._removeData(e,n)})})}}),ut.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),arguments.length<i?ut.queue(this[0],e):n===t?this:this.each(function(){var t=ut.queue(this,e,n);ut._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&ut.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ut.dequeue(this,e)})},delay:function(e,t){return e=ut.fx?ut.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,a=1,r=ut.Deferred(),s=this,o=this.length,l=function(){--a||r.resolveWith(s,[s])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";o--;)i=ut._data(s[o],e+"queueHooks"),i&&i.empty&&(a++,i.empty.add(l));return l(),r.promise(n)}});var jt,Lt,At=/[\t\r\n\f]/g,Et=/\r/g,Mt=/^(?:input|select|textarea|button|object)$/i,Nt=/^(?:a|area)$/i,qt=/^(?:checked|selected)$/i,Vt=ut.support.getSetAttribute,Ht=ut.support.input;ut.fn.extend({attr:function(e,t){return ut.access(this,ut.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ut.removeAttr(this,e)})},prop:function(e,t){return ut.access(this,ut.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ut.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,i,a,r,s=0,o=this.length,l="string"==typeof e&&e;if(ut.isFunction(e))return this.each(function(t){ut(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(dt)||[];o>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(At," "):" ")){for(r=0;a=t[r++];)i.indexOf(" "+a+" ")<0&&(i+=a+" ");n.className=ut.trim(i)}return this},removeClass:function(e){var t,n,i,a,r,s=0,o=this.length,l=0===arguments.length||"string"==typeof e&&e;if(ut.isFunction(e))return this.each(function(t){ut(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(dt)||[];o>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(At," "):"")){for(r=0;a=t[r++];)for(;i.indexOf(" "+a+" ")>=0;)i=i.replace(" "+a+" "," ");n.className=e?ut.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ut.isFunction(e)?this.each(function(n){ut(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,i=0,a=ut(this),r=e.match(dt)||[];t=r[i++];)a.hasClass(t)?a.removeClass(t):a.addClass(t);else(n===R||"boolean"===n)&&(this.className&&ut._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ut._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(At," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,i,a,r=this[0];{if(arguments.length)return a=ut.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=a?e.call(this,n,ut(this).val()):e,null==r?r="":"number"==typeof r?r+="":ut.isArray(r)&&(r=ut.map(r,function(e){return null==e?"":e+""})),i=ut.valHooks[this.type]||ut.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,r,"value")!==t||(this.value=r))});if(r)return i=ut.valHooks[r.type]||ut.valHooks[r.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(r,"value"))!==t?n:(n=r.value,"string"==typeof n?n.replace(Et,""):null==n?"":n)}}}),ut.extend({valHooks:{option:{get:function(e){var t=ut.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){for(var t,n,i=e.options,a=e.selectedIndex,r="select-one"===e.type||0>a,s=r?null:[],o=r?a+1:i.length,l=0>a?o:r?a:0;o>l;l++)if(n=i[l],!(!n.selected&&l!==a||(ut.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ut.nodeName(n.parentNode,"optgroup"))){if(t=ut(n).val(),r)return t;s.push(t)}return s},set:function(e,t){for(var n,i,a=e.options,r=ut.makeArray(t),s=a.length;s--;)i=a[s],(i.selected=ut.inArray(ut(i).val(),r)>=0)&&(n=!0);return n||(e.selectedIndex=-1),r}}},attr:function(e,n,i){var a,r,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===R?ut.prop(e,n,i):(1===s&&ut.isXMLDoc(e)||(n=n.toLowerCase(),a=ut.attrHooks[n]||(ut.expr.match.bool.test(n)?Lt:jt)),i===t?a&&"get"in a&&null!==(r=a.get(e,n))?r:(r=ut.find.attr(e,n),null==r?t:r):null!==i?a&&"set"in a&&(r=a.set(e,i,n))!==t?r:(e.setAttribute(n,i+""),i):(ut.removeAttr(e,n),void 0))},removeAttr:function(e,t){var n,i,a=0,r=t&&t.match(dt);if(r&&1===e.nodeType)for(;n=r[a++];)i=ut.propFix[n]||n,ut.expr.match.bool.test(n)?Ht&&Vt||!qt.test(n)?e[i]=!1:e[ut.camelCase("default-"+n)]=e[i]=!1:ut.attr(e,n,""),e.removeAttribute(Vt?n:i)},attrHooks:{type:{set:function(e,t){if(!ut.support.radioValue&&"radio"===t&&ut.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,i){var a,r,s,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return s=1!==o||!ut.isXMLDoc(e),s&&(n=ut.propFix[n]||n,r=ut.propHooks[n]),i!==t?r&&"set"in r&&(a=r.set(e,i,n))!==t?a:e[n]=i:r&&"get"in r&&null!==(a=r.get(e,n))?a:e[n]},propHooks:{tabIndex:{get:function(e){var t=ut.find.attr(e,"tabindex");return t?parseInt(t,10):Mt.test(e.nodeName)||Nt.test(e.nodeName)&&e.href?0:-1}}}}),Lt={set:function(e,t,n){return t===!1?ut.removeAttr(e,n):Ht&&Vt||!qt.test(n)?e.setAttribute(!Vt&&ut.propFix[n]||n,n):e[ut.camelCase("default-"+n)]=e[n]=!0,n}},ut.each(ut.expr.match.bool.source.match(/\w+/g),function(e,n){var i=ut.expr.attrHandle[n]||ut.find.attr;ut.expr.attrHandle[n]=Ht&&Vt||!qt.test(n)?function(e,n,a){var r=ut.expr.attrHandle[n],s=a?t:(ut.expr.attrHandle[n]=t)!=i(e,n,a)?n.toLowerCase():null;return ut.expr.attrHandle[n]=r,s}:function(e,n,i){return i?t:e[ut.camelCase("default-"+n)]?n.toLowerCase():null}}),Ht&&Vt||(ut.attrHooks.value={set:function(e,t,n){return ut.nodeName(e,"input")?(e.defaultValue=t,void 0):jt&&jt.set(e,t,n)}}),Vt||(jt={set:function(e,n,i){var a=e.getAttributeNode(i);return a||e.setAttributeNode(a=e.ownerDocument.createAttribute(i)),a.value=n+="","value"===i||n===e.getAttribute(i)?n:t}},ut.expr.attrHandle.id=ut.expr.attrHandle.name=ut.expr.attrHandle.coords=function(e,n,i){var a;return i?t:(a=e.getAttributeNode(n))&&""!==a.value?a.value:null},ut.valHooks.button={get:function(e,n){var i=e.getAttributeNode(n);return i&&i.specified?i.value:t},set:jt.set},ut.attrHooks.contenteditable={set:function(e,t,n){jt.set(e,""===t?!1:t,n)}},ut.each(["width","height"],function(e,t){ut.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),ut.support.hrefNormalized||ut.each(["href","src"],function(e,t){ut.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ut.support.style||(ut.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),ut.support.optSelected||(ut.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ut.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ut.propFix[this.toLowerCase()]=this}),ut.support.enctype||(ut.propFix.enctype="encoding"),ut.each(["radio","checkbox"],function(){ut.valHooks[this]={set:function(e,t){return ut.isArray(t)?e.checked=ut.inArray(ut(e).val(),t)>=0:void 0}},ut.support.checkOn||(ut.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var $t=/^(?:input|select|textarea)$/i,Dt=/^key/,Pt=/^(?:mouse|contextmenu)|click/,Jt=/^(?:focusinfocus|focusoutblur)$/,It=/^([^.]*)(?:\.(.+)|)$/;ut.event={global:{},add:function(e,n,i,a,r){var s,o,l,c,u,h,d,p,g,f,m,_=ut._data(e);if(_){for(i.handler&&(c=i,i=c.handler,r=c.selector),i.guid||(i.guid=ut.guid++),(o=_.events)||(o=_.events={}),(h=_.handle)||(h=_.handle=function(e){return typeof ut===R||e&&ut.event.triggered===e.type?t:ut.event.dispatch.apply(h.elem,arguments)},h.elem=e),n=(n||"").match(dt)||[""],l=n.length;l--;)s=It.exec(n[l])||[],g=m=s[1],f=(s[2]||"").split(".").sort(),g&&(u=ut.event.special[g]||{},g=(r?u.delegateType:u.bindType)||g,u=ut.event.special[g]||{},d=ut.extend({type:g,origType:m,data:a,handler:i,guid:i.guid,selector:r,needsContext:r&&ut.expr.match.needsContext.test(r),namespace:f.join(".")},c),(p=o[g])||(p=o[g]=[],p.delegateCount=0,u.setup&&u.setup.call(e,a,f,h)!==!1||(e.addEventListener?e.addEventListener(g,h,!1):e.attachEvent&&e.attachEvent("on"+g,h))),u.add&&(u.add.call(e,d),d.handler.guid||(d.handler.guid=i.guid)),r?p.splice(p.delegateCount++,0,d):p.push(d),ut.event.global[g]=!0);e=null}},remove:function(e,t,n,i,a){var r,s,o,l,c,u,h,d,p,g,f,m=ut.hasData(e)&&ut._data(e);if(m&&(u=m.events)){for(t=(t||"").match(dt)||[""],c=t.length;c--;)if(o=It.exec(t[c])||[],p=f=o[1],g=(o[2]||"").split(".").sort(),p){for(h=ut.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,d=u[p]||[],o=o[2]&&new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=d.length;r--;)s=d[r],!a&&f!==s.origType||n&&n.guid!==s.guid||o&&!o.test(s.namespace)||i&&i!==s.selector&&("**"!==i||!s.selector)||(d.splice(r,1),s.selector&&d.delegateCount--,h.remove&&h.remove.call(e,s));l&&!d.length&&(h.teardown&&h.teardown.call(e,g,m.handle)!==!1||ut.removeEvent(e,p,m.handle),delete u[p])}else for(p in u)ut.event.remove(e,p+t[c],n,i,!0);ut.isEmptyObject(u)&&(delete m.handle,ut._removeData(e,"events"))}},trigger:function(n,i,a,r){var s,o,l,c,u,h,d,p=[a||X],g=lt.call(n,"type")?n.type:n,f=lt.call(n,"namespace")?n.namespace.split("."):[];if(l=h=a=a||X,3!==a.nodeType&&8!==a.nodeType&&!Jt.test(g+ut.event.triggered)&&(g.indexOf(".")>=0&&(f=g.split("."),g=f.shift(),f.sort()),o=g.indexOf(":")<0&&"on"+g,n=n[ut.expando]?n:new ut.Event(g,"object"==typeof n&&n),n.isTrigger=r?2:3,n.namespace=f.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=a),i=null==i?[n]:ut.makeArray(i,[n]),u=ut.event.special[g]||{},r||!u.trigger||u.trigger.apply(a,i)!==!1)){if(!r&&!u.noBubble&&!ut.isWindow(a)){for(c=u.delegateType||g,Jt.test(c+g)||(l=l.parentNode);l;l=l.parentNode)p.push(l),h=l;h===(a.ownerDocument||X)&&p.push(h.defaultView||h.parentWindow||e)}for(d=0;(l=p[d++])&&!n.isPropagationStopped();)n.type=d>1?c:u.bindType||g,s=(ut._data(l,"events")||{})[n.type]&&ut._data(l,"handle"),s&&s.apply(l,i),s=o&&l[o],s&&ut.acceptData(l)&&s.apply&&s.apply(l,i)===!1&&n.preventDefault();if(n.type=g,!r&&!n.isDefaultPrevented()&&(!u._default||u._default.apply(p.pop(),i)===!1)&&ut.acceptData(a)&&o&&a[g]&&!ut.isWindow(a)){h=a[o],h&&(a[o]=null),ut.event.triggered=g;try{a[g]()}catch(m){}ut.event.triggered=t,h&&(a[o]=h)}return n.result}},dispatch:function(e){e=ut.event.fix(e);var n,i,a,r,s,o=[],l=rt.call(arguments),c=(ut._data(this,"events")||{})[e.type]||[],u=ut.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(o=ut.event.handlers.call(this,e,c),n=0;(r=o[n++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,s=0;(a=r.handlers[s++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(a.namespace))&&(e.handleObj=a,e.data=a.data,i=((ut.event.special[a.origType]||{}).handle||a.handler).apply(r.elem,l),i!==t&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,n){var i,a,r,s,o=[],l=n.delegateCount,c=e.target;if(l&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==e.type)){for(r=[],s=0;l>s;s++)a=n[s],i=a.selector+" ",r[i]===t&&(r[i]=a.needsContext?ut(i,this).index(c)>=0:ut.find(i,this,null,[c]).length),r[i]&&r.push(a);r.length&&o.push({elem:c,handlers:r})}return l<n.length&&o.push({elem:this,handlers:n.slice(l)}),o},fix:function(e){if(e[ut.expando])return e;var t,n,i,a=e.type,r=e,s=this.fixHooks[a];for(s||(this.fixHooks[a]=s=Pt.test(a)?this.mouseHooks:Dt.test(a)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,e=new ut.Event(r),t=i.length;t--;)n=i[t],e[n]=r[n];return e.target||(e.target=r.srcElement||X),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,a,r,s=n.button,o=n.fromElement;return null==e.pageX&&null!=n.clientX&&(a=e.target.ownerDocument||X,r=a.documentElement,i=a.body,e.pageX=n.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=n.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&o&&(e.relatedTarget=o===e.target?n.toElement:o),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==u()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===u()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ut.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return ut.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var a=ut.extend(new ut.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?ut.event.trigger(a,null,t):ut.event.dispatch.call(t,a),a.isDefaultPrevented()&&n.preventDefault()}},ut.removeEvent=X.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===R&&(e[i]=null),e.detachEvent(i,n))},ut.Event=function(e,t){return this instanceof ut.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?l:c):this.type=e,t&&ut.extend(this,t),this.timeStamp=e&&e.timeStamp||ut.now(),this[ut.expando]=!0,void 0):new ut.Event(e,t)},ut.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},ut.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){ut.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,a=e.relatedTarget,r=e.handleObj;return(!a||a!==i&&!ut.contains(i,a))&&(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),ut.support.submitBubbles||(ut.event.special.submit={setup:function(){return ut.nodeName(this,"form")?!1:(ut.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,i=ut.nodeName(n,"input")||ut.nodeName(n,"button")?n.form:t;i&&!ut._data(i,"submitBubbles")&&(ut.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),ut._data(i,"submitBubbles",!0))}),void 0)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ut.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return ut.nodeName(this,"form")?!1:(ut.event.remove(this,"._submit"),void 0)}}),ut.support.changeBubbles||(ut.event.special.change={setup:function(){return $t.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ut.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ut.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ut.event.simulate("change",this,e,!0)})),!1):(ut.event.add(this,"beforeactivate._change",function(e){var t=e.target;$t.test(t.nodeName)&&!ut._data(t,"changeBubbles")&&(ut.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ut.event.simulate("change",this.parentNode,e,!0)}),ut._data(t,"changeBubbles",!0))}),void 0)},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ut.event.remove(this,"._change"),!$t.test(this.nodeName)}}),ut.support.focusinBubbles||ut.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){ut.event.simulate(t,e.target,ut.event.fix(e),!0)};ut.event.special[t]={setup:function(){0===n++&&X.addEventListener(e,i,!0)},teardown:function(){0===--n&&X.removeEventListener(e,i,!0)}}}),ut.fn.extend({on:function(e,n,i,a,r){var s,o;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=t);for(s in e)this.on(s,n,i,e[s],r);return this}if(null==i&&null==a?(a=n,i=n=t):null==a&&("string"==typeof n?(a=i,i=t):(a=i,i=n,n=t)),a===!1)a=c;else if(!a)return this;return 1===r&&(o=a,a=function(e){return ut().off(e),o.apply(this,arguments)},a.guid=o.guid||(o.guid=ut.guid++)),this.each(function(){ut.event.add(this,e,a,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){var a,r;if(e&&e.preventDefault&&e.handleObj)return a=e.handleObj,ut(e.delegateTarget).off(a.namespace?a.origType+"."+a.namespace:a.origType,a.selector,a.handler),this;if("object"==typeof e){for(r in e)this.off(r,n,e[r]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=t),i===!1&&(i=c),this.each(function(){ut.event.remove(this,e,i,n)})},trigger:function(e,t){return this.each(function(){ut.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ut.event.trigger(e,t,n,!0):void 0}});var zt=/^.[^:#\[\.,]*$/,Ut=/^(?:parents|prev(?:Until|All))/,Yt=ut.expr.match.needsContext,Bt={children:!0,contents:!0,next:!0,prev:!0};ut.fn.extend({find:function(e){var t,n=[],i=this,a=i.length;if("string"!=typeof e)return this.pushStack(ut(e).filter(function(){for(t=0;a>t;t++)if(ut.contains(i[t],this))return!0}));for(t=0;a>t;t++)ut.find(e,i[t],n);return n=this.pushStack(a>1?ut.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=ut(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(ut.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(d(this,e||[],!0))},filter:function(e){return this.pushStack(d(this,e||[],!1))},is:function(e){return!!d(this,"string"==typeof e&&Yt.test(e)?ut(e):e||[],!1).length},closest:function(e,t){for(var n,i=0,a=this.length,r=[],s=Yt.test(e)||"string"!=typeof e?ut(e,t||this.context):0;a>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ut.find.matchesSelector(n,e))){n=r.push(n);break}return this.pushStack(r.length>1?ut.unique(r):r)},index:function(e){return e?"string"==typeof e?ut.inArray(this[0],ut(e)):ut.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?ut(e,t):ut.makeArray(e&&e.nodeType?[e]:e),i=ut.merge(this.get(),n);return this.pushStack(ut.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ut.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ut.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ut.dir(e,"parentNode",n)},next:function(e){return h(e,"nextSibling")},prev:function(e){return h(e,"previousSibling")},nextAll:function(e){return ut.dir(e,"nextSibling")},prevAll:function(e){return ut.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ut.dir(e,"nextSibling",n)
},prevUntil:function(e,t,n){return ut.dir(e,"previousSibling",n)},siblings:function(e){return ut.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ut.sibling(e.firstChild)},contents:function(e){return ut.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ut.merge([],e.childNodes)}},function(e,t){ut.fn[e]=function(n,i){var a=ut.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(a=ut.filter(i,a)),this.length>1&&(Bt[e]||(a=ut.unique(a)),Ut.test(e)&&(a=a.reverse())),this.pushStack(a)}}),ut.extend({filter:function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?ut.find.matchesSelector(i,e)?[i]:[]:ut.find.matches(e,ut.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,i){for(var a=[],r=e[n];r&&9!==r.nodeType&&(i===t||1!==r.nodeType||!ut(r).is(i));)1===r.nodeType&&a.push(r),r=r[n];return a},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Ot="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Wt=/ jQuery\d+="(?:null|\d+)"/g,Rt=new RegExp("<(?:"+Ot+")[\\s/>]","i"),Gt=/^\s+/,Xt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Zt=/<([\w:]+)/,Qt=/<tbody/i,Kt=/<|&#?\w+;/,en=/<(?:script|style|link)/i,tn=/^(?:checkbox|radio)$/i,nn=/checked\s*(?:[^=]|=\s*.checked.)/i,an=/^$|\/(?:java|ecma)script/i,rn=/^true\/(.*)/,sn=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,on={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ut.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ln=p(X),cn=ln.appendChild(X.createElement("div"));on.optgroup=on.option,on.tbody=on.tfoot=on.colgroup=on.caption=on.thead,on.th=on.td,ut.fn.extend({text:function(e){return ut.access(this,function(e){return e===t?ut.text(this):this.empty().append((this[0]&&this[0].ownerDocument||X).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=g(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=g(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?ut.filter(e,this):this,a=0;null!=(n=i[a]);a++)t||1!==n.nodeType||ut.cleanData(w(n)),n.parentNode&&(t&&ut.contains(n.ownerDocument,n)&&_(w(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ut.cleanData(w(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ut.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ut.clone(this,e,t)})},html:function(e){return ut.access(this,function(e){var n=this[0]||{},i=0,a=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Wt,""):t;if(!("string"!=typeof e||en.test(e)||!ut.support.htmlSerialize&&Rt.test(e)||!ut.support.leadingWhitespace&&Gt.test(e)||on[(Zt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Xt,"<$1></$2>");try{for(;a>i;i++)n=this[i]||{},1===n.nodeType&&(ut.cleanData(w(n,!1)),n.innerHTML=e);n=0}catch(r){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=ut.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var i=e[t++],a=e[t++];a&&(i&&i.parentNode!==a&&(i=this.nextSibling),ut(this).remove(),a.insertBefore(n,i))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=it.apply([],e);var i,a,r,s,o,l,c=0,u=this.length,h=this,d=u-1,p=e[0],g=ut.isFunction(p);if(g||!(1>=u||"string"!=typeof p||ut.support.checkClone)&&nn.test(p))return this.each(function(i){var a=h.eq(i);g&&(e[0]=p.call(this,i,a.html())),a.domManip(e,t,n)});if(u&&(l=ut.buildFragment(e,this[0].ownerDocument,!1,!n&&this),i=l.firstChild,1===l.childNodes.length&&(l=i),i)){for(s=ut.map(w(l,"script"),f),r=s.length;u>c;c++)a=l,c!==d&&(a=ut.clone(a,!0,!0),r&&ut.merge(s,w(a,"script"))),t.call(this[c],a,c);if(r)for(o=s[s.length-1].ownerDocument,ut.map(s,m),c=0;r>c;c++)a=s[c],an.test(a.type||"")&&!ut._data(a,"globalEval")&&ut.contains(o,a)&&(a.src?ut._evalUrl(a.src):ut.globalEval((a.text||a.textContent||a.innerHTML||"").replace(sn,"")));l=i=null}return this}}),ut.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ut.fn[e]=function(e){for(var n,i=0,a=[],r=ut(e),s=r.length-1;s>=i;i++)n=i===s?this:this.clone(!0),ut(r[i])[t](n),at.apply(a,n.get());return this.pushStack(a)}}),ut.extend({clone:function(e,t,n){var i,a,r,s,o,l=ut.contains(e.ownerDocument,e);if(ut.support.html5Clone||ut.isXMLDoc(e)||!Rt.test("<"+e.nodeName+">")?r=e.cloneNode(!0):(cn.innerHTML=e.outerHTML,cn.removeChild(r=cn.firstChild)),!(ut.support.noCloneEvent&&ut.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ut.isXMLDoc(e)))for(i=w(r),o=w(e),s=0;null!=(a=o[s]);++s)i[s]&&b(a,i[s]);if(t)if(n)for(o=o||w(e),i=i||w(r),s=0;null!=(a=o[s]);s++)v(a,i[s]);else v(e,r);return i=w(r,"script"),i.length>0&&_(i,!l&&w(e,"script")),i=o=a=null,r},buildFragment:function(e,t,n,i){for(var a,r,s,o,l,c,u,h=e.length,d=p(t),g=[],f=0;h>f;f++)if(r=e[f],r||0===r)if("object"===ut.type(r))ut.merge(g,r.nodeType?[r]:r);else if(Kt.test(r)){for(o=o||d.appendChild(t.createElement("div")),l=(Zt.exec(r)||["",""])[1].toLowerCase(),u=on[l]||on._default,o.innerHTML=u[1]+r.replace(Xt,"<$1></$2>")+u[2],a=u[0];a--;)o=o.lastChild;if(!ut.support.leadingWhitespace&&Gt.test(r)&&g.push(t.createTextNode(Gt.exec(r)[0])),!ut.support.tbody)for(r="table"!==l||Qt.test(r)?"<table>"!==u[1]||Qt.test(r)?0:o:o.firstChild,a=r&&r.childNodes.length;a--;)ut.nodeName(c=r.childNodes[a],"tbody")&&!c.childNodes.length&&r.removeChild(c);for(ut.merge(g,o.childNodes),o.textContent="";o.firstChild;)o.removeChild(o.firstChild);o=d.lastChild}else g.push(t.createTextNode(r));for(o&&d.removeChild(o),ut.support.appendChecked||ut.grep(w(g,"input"),y),f=0;r=g[f++];)if((!i||-1===ut.inArray(r,i))&&(s=ut.contains(r.ownerDocument,r),o=w(d.appendChild(r),"script"),s&&_(o),n))for(a=0;r=o[a++];)an.test(r.type||"")&&n.push(r);return o=null,d},cleanData:function(e,t){for(var n,i,a,r,s=0,o=ut.expando,l=ut.cache,c=ut.support.deleteExpando,u=ut.event.special;null!=(n=e[s]);s++)if((t||ut.acceptData(n))&&(a=n[o],r=a&&l[a])){if(r.events)for(i in r.events)u[i]?ut.event.remove(n,i):ut.removeEvent(n,i,r.handle);l[a]&&(delete l[a],c?delete n[o]:typeof n.removeAttribute!==R?n.removeAttribute(o):n[o]=null,tt.push(a))}},_evalUrl:function(e){return ut.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),ut.fn.extend({wrapAll:function(e){if(ut.isFunction(e))return this.each(function(t){ut(this).wrapAll(e.call(this,t))});if(this[0]){var t=ut(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return ut.isFunction(e)?this.each(function(t){ut(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ut(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ut.isFunction(e);return this.each(function(n){ut(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ut.nodeName(this,"body")||ut(this).replaceWith(this.childNodes)}).end()}});var un,hn,dn,pn=/alpha\([^)]*\)/i,gn=/opacity\s*=\s*([^)]*)/,fn=/^(top|right|bottom|left)$/,mn=/^(none|table(?!-c[ea]).+)/,_n=/^margin/,vn=new RegExp("^("+ht+")(.*)$","i"),bn=new RegExp("^("+ht+")(?!px)[a-z%]+$","i"),wn=new RegExp("^([+-])=("+ht+")","i"),yn={BODY:"block"},xn={position:"absolute",visibility:"hidden",display:"block"},Tn={letterSpacing:0,fontWeight:400},kn=["Top","Right","Bottom","Left"],Sn=["Webkit","O","Moz","ms"];ut.fn.extend({css:function(e,n){return ut.access(this,function(e,n,i){var a,r,s={},o=0;if(ut.isArray(n)){for(r=hn(e),a=n.length;a>o;o++)s[n[o]]=ut.css(e,n[o],!1,r);return s}return i!==t?ut.style(e,n,i):ut.css(e,n)},e,n,arguments.length>1)},show:function(){return k(this,!0)},hide:function(){return k(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){T(this)?ut(this).show():ut(this).hide()})}}),ut.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=dn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ut.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,a){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,s,o,l=ut.camelCase(n),c=e.style;if(n=ut.cssProps[l]||(ut.cssProps[l]=x(c,l)),o=ut.cssHooks[n]||ut.cssHooks[l],i===t)return o&&"get"in o&&(r=o.get(e,!1,a))!==t?r:c[n];if(s=typeof i,"string"===s&&(r=wn.exec(i))&&(i=(r[1]+1)*r[2]+parseFloat(ut.css(e,n)),s="number"),!(null==i||"number"===s&&isNaN(i)||("number"!==s||ut.cssNumber[l]||(i+="px"),ut.support.clearCloneStyle||""!==i||0!==n.indexOf("background")||(c[n]="inherit"),o&&"set"in o&&(i=o.set(e,i,a))===t)))try{c[n]=i}catch(u){}}},css:function(e,n,i,a){var r,s,o,l=ut.camelCase(n);return n=ut.cssProps[l]||(ut.cssProps[l]=x(e.style,l)),o=ut.cssHooks[n]||ut.cssHooks[l],o&&"get"in o&&(s=o.get(e,!0,i)),s===t&&(s=dn(e,n,a)),"normal"===s&&n in Tn&&(s=Tn[n]),""===i||i?(r=parseFloat(s),i===!0||ut.isNumeric(r)?r||0:s):s}}),e.getComputedStyle?(hn=function(t){return e.getComputedStyle(t,null)},dn=function(e,n,i){var a,r,s,o=i||hn(e),l=o?o.getPropertyValue(n)||o[n]:t,c=e.style;return o&&(""!==l||ut.contains(e.ownerDocument,e)||(l=ut.style(e,n)),bn.test(l)&&_n.test(n)&&(a=c.width,r=c.minWidth,s=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=o.width,c.width=a,c.minWidth=r,c.maxWidth=s)),l}):X.documentElement.currentStyle&&(hn=function(e){return e.currentStyle},dn=function(e,n,i){var a,r,s,o=i||hn(e),l=o?o[n]:t,c=e.style;return null==l&&c&&c[n]&&(l=c[n]),bn.test(l)&&!fn.test(n)&&(a=c.left,r=e.runtimeStyle,s=r&&r.left,s&&(r.left=e.currentStyle.left),c.left="fontSize"===n?"1em":l,l=c.pixelLeft+"px",c.left=a,s&&(r.left=s)),""===l?"auto":l}),ut.each(["height","width"],function(e,t){ut.cssHooks[t]={get:function(e,n,i){return n?0===e.offsetWidth&&mn.test(ut.css(e,"display"))?ut.swap(e,xn,function(){return F(e,t,i)}):F(e,t,i):void 0},set:function(e,n,i){var a=i&&hn(e);return S(e,n,i?C(e,t,i,ut.support.boxSizing&&"border-box"===ut.css(e,"boxSizing",!1,a),a):0)}}}),ut.support.opacity||(ut.cssHooks.opacity={get:function(e,t){return gn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,a=ut.isNumeric(t)?"alpha(opacity="+100*t+")":"",r=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ut.trim(r.replace(pn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=pn.test(r)?r.replace(pn,a):r+" "+a)}}),ut(function(){ut.support.reliableMarginRight||(ut.cssHooks.marginRight={get:function(e,t){return t?ut.swap(e,{display:"inline-block"},dn,[e,"marginRight"]):void 0}}),!ut.support.pixelPosition&&ut.fn.position&&ut.each(["top","left"],function(e,t){ut.cssHooks[t]={get:function(e,n){return n?(n=dn(e,t),bn.test(n)?ut(e).position()[t]+"px":n):void 0}}})}),ut.expr&&ut.expr.filters&&(ut.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ut.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||ut.css(e,"display"))},ut.expr.filters.visible=function(e){return!ut.expr.filters.hidden(e)}),ut.each({margin:"",padding:"",border:"Width"},function(e,t){ut.cssHooks[e+t]={expand:function(n){for(var i=0,a={},r="string"==typeof n?n.split(" "):[n];4>i;i++)a[e+kn[i]+t]=r[i]||r[i-2]||r[0];return a}},_n.test(e)||(ut.cssHooks[e+t].set=S)});var Cn=/%20/g,Fn=/\[\]$/,jn=/\r?\n/g,Ln=/^(?:submit|button|image|reset|file)$/i,An=/^(?:input|select|textarea|keygen)/i;ut.fn.extend({serialize:function(){return ut.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ut.prop(this,"elements");return e?ut.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ut(this).is(":disabled")&&An.test(this.nodeName)&&!Ln.test(e)&&(this.checked||!tn.test(e))}).map(function(e,t){var n=ut(this).val();return null==n?null:ut.isArray(n)?ut.map(n,function(e){return{name:t.name,value:e.replace(jn,"\r\n")}}):{name:t.name,value:n.replace(jn,"\r\n")}}).get()}}),ut.param=function(e,n){var i,a=[],r=function(e,t){t=ut.isFunction(t)?t():null==t?"":t,a[a.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=ut.ajaxSettings&&ut.ajaxSettings.traditional),ut.isArray(e)||e.jquery&&!ut.isPlainObject(e))ut.each(e,function(){r(this.name,this.value)});else for(i in e)A(i,e[i],n,r);return a.join("&").replace(Cn,"+")},ut.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ut.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ut.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var En,Mn,Nn=ut.now(),qn=/\?/,Vn=/#.*$/,Hn=/([?&])_=[^&]*/,$n=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Dn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Pn=/^(?:GET|HEAD)$/,Jn=/^\/\//,In=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,zn=ut.fn.load,Un={},Yn={},Bn="*/".concat("*");try{Mn=G.href}catch(On){Mn=X.createElement("a"),Mn.href="",Mn=Mn.href}En=In.exec(Mn.toLowerCase())||[],ut.fn.load=function(e,n,i){if("string"!=typeof e&&zn)return zn.apply(this,arguments);var a,r,s,o=this,l=e.indexOf(" ");return l>=0&&(a=e.slice(l,e.length),e=e.slice(0,l)),ut.isFunction(n)?(i=n,n=t):n&&"object"==typeof n&&(s="POST"),o.length>0&&ut.ajax({url:e,type:s,dataType:"html",data:n}).done(function(e){r=arguments,o.html(a?ut("<div>").append(ut.parseHTML(e)).find(a):e)}).complete(i&&function(e,t){o.each(i,r||[e.responseText,t,e])}),this},ut.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ut.fn[t]=function(e){return this.on(t,e)}}),ut.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Mn,type:"GET",isLocal:Dn.test(En[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ut.parseJSON,"text xml":ut.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?N(N(e,ut.ajaxSettings),t):N(ut.ajaxSettings,e)},ajaxPrefilter:E(Un),ajaxTransport:E(Yn),ajax:function(e,n){function i(e,n,i,a){var r,h,v,b,y,T=n;2!==w&&(w=2,l&&clearTimeout(l),u=t,o=a||"",x.readyState=e>0?4:0,r=e>=200&&300>e||304===e,i&&(b=q(d,x,i)),b=V(d,b,x,r),r?(d.ifModified&&(y=x.getResponseHeader("Last-Modified"),y&&(ut.lastModified[s]=y),y=x.getResponseHeader("etag"),y&&(ut.etag[s]=y)),204===e||"HEAD"===d.type?T="nocontent":304===e?T="notmodified":(T=b.state,h=b.data,v=b.error,r=!v)):(v=T,(e||!T)&&(T="error",0>e&&(e=0))),x.status=e,x.statusText=(n||T)+"",r?f.resolveWith(p,[h,T,x]):f.rejectWith(p,[x,T,v]),x.statusCode(_),_=t,c&&g.trigger(r?"ajaxSuccess":"ajaxError",[x,d,r?h:v]),m.fireWith(p,[x,T]),c&&(g.trigger("ajaxComplete",[x,d]),--ut.active||ut.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var a,r,s,o,l,c,u,h,d=ut.ajaxSetup({},n),p=d.context||d,g=d.context&&(p.nodeType||p.jquery)?ut(p):ut.event,f=ut.Deferred(),m=ut.Callbacks("once memory"),_=d.statusCode||{},v={},b={},w=0,y="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!h)for(h={};t=$n.exec(o);)h[t[1].toLowerCase()]=t[2];t=h[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=b[n]=b[n]||e,v[e]=t),this},overrideMimeType:function(e){return w||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>w)for(t in e)_[t]=[_[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||y;return u&&u.abort(t),i(0,t),this}};if(f.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,d.url=((e||d.url||Mn)+"").replace(Vn,"").replace(Jn,En[1]+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=ut.trim(d.dataType||"*").toLowerCase().match(dt)||[""],null==d.crossDomain&&(a=In.exec(d.url.toLowerCase()),d.crossDomain=!(!a||a[1]===En[1]&&a[2]===En[2]&&(a[3]||("http:"===a[1]?"80":"443"))===(En[3]||("http:"===En[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ut.param(d.data,d.traditional)),M(Un,d,n,x),2===w)return x;c=d.global,c&&0===ut.active++&&ut.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Pn.test(d.type),s=d.url,d.hasContent||(d.data&&(s=d.url+=(qn.test(s)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Hn.test(s)?s.replace(Hn,"$1_="+Nn++):s+(qn.test(s)?"&":"?")+"_="+Nn++)),d.ifModified&&(ut.lastModified[s]&&x.setRequestHeader("If-Modified-Since",ut.lastModified[s]),ut.etag[s]&&x.setRequestHeader("If-None-Match",ut.etag[s])),(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",d.contentType),x.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Bn+"; q=0.01":""):d.accepts["*"]);for(r in d.headers)x.setRequestHeader(r,d.headers[r]);if(d.beforeSend&&(d.beforeSend.call(p,x,d)===!1||2===w))return x.abort();y="abort";for(r in{success:1,error:1,complete:1})x[r](d[r]);if(u=M(Yn,d,n,x)){x.readyState=1,c&&g.trigger("ajaxSend",[x,d]),d.async&&d.timeout>0&&(l=setTimeout(function(){x.abort("timeout")},d.timeout));try{w=1,u.send(v,i)}catch(T){if(!(2>w))throw T;i(-1,T)}}else i(-1,"No Transport");return x},getJSON:function(e,t,n){return ut.get(e,t,n,"json")},getScript:function(e,n){return ut.get(e,t,n,"script")}}),ut.each(["get","post"],function(e,n){ut[n]=function(e,i,a,r){return ut.isFunction(i)&&(r=r||a,a=i,i=t),ut.ajax({url:e,type:n,dataType:r,data:i,success:a})}}),ut.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ut.globalEval(e),e}}}),ut.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ut.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=X.head||ut("head")[0]||X.documentElement;return{send:function(t,a){n=X.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||a(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Wn=[],Rn=/(=)\?(?=&|$)|\?\?/;ut.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Wn.pop()||ut.expando+"_"+Nn++;return this[e]=!0,e}}),ut.ajaxPrefilter("json jsonp",function(n,i,a){var r,s,o,l=n.jsonp!==!1&&(Rn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Rn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(r=n.jsonpCallback=ut.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Rn,"$1"+r):n.jsonp!==!1&&(n.url+=(qn.test(n.url)?"&":"?")+n.jsonp+"="+r),n.converters["script json"]=function(){return o||ut.error(r+" was not called"),o[0]},n.dataTypes[0]="json",s=e[r],e[r]=function(){o=arguments},a.always(function(){e[r]=s,n[r]&&(n.jsonpCallback=i.jsonpCallback,Wn.push(r)),o&&ut.isFunction(s)&&s(o[0]),o=s=t}),"script"):void 0});var Gn,Xn,Zn=0,Qn=e.ActiveXObject&&function(){var e;for(e in Gn)Gn[e](t,!0)};ut.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&H()||$()}:H,Xn=ut.ajaxSettings.xhr(),ut.support.cors=!!Xn&&"withCredentials"in Xn,Xn=ut.support.ajax=!!Xn,Xn&&ut.ajaxTransport(function(n){if(!n.crossDomain||ut.support.cors){var i;return{send:function(a,r){var s,o,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(o in n.xhrFields)l[o]=n.xhrFields[o];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||a["X-Requested-With"]||(a["X-Requested-With"]="XMLHttpRequest");try{for(o in a)l.setRequestHeader(o,a[o])}catch(c){}l.send(n.hasContent&&n.data||null),i=function(e,a){var o,c,u,h;try{if(i&&(a||4===l.readyState))if(i=t,s&&(l.onreadystatechange=ut.noop,Qn&&delete Gn[s]),a)4!==l.readyState&&l.abort();else{h={},o=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(h.text=l.responseText);try{u=l.statusText}catch(d){u=""}o||!n.isLocal||n.crossDomain?1223===o&&(o=204):o=h.text?200:404}}catch(p){a||r(-1,p)}h&&r(o,u,h,c)},n.async?4===l.readyState?setTimeout(i):(s=++Zn,Qn&&(Gn||(Gn={},ut(e).unload(Qn)),Gn[s]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(t,!0)}}}});var Kn,ei,ti=/^(?:toggle|show|hide)$/,ni=new RegExp("^(?:([+-])=|)("+ht+")([a-z%]*)$","i"),ii=/queueHooks$/,ai=[z],ri={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),a=ni.exec(t),r=a&&a[3]||(ut.cssNumber[e]?"":"px"),s=(ut.cssNumber[e]||"px"!==r&&+i)&&ni.exec(ut.css(n.elem,e)),o=1,l=20;if(s&&s[3]!==r){r=r||s[3],a=a||[],s=+i||1;do o=o||".5",s/=o,ut.style(n.elem,e,s+r);while(o!==(o=n.cur()/i)&&1!==o&&--l)}return a&&(s=n.start=+s||+i||0,n.unit=r,n.end=a[1]?s+(a[1]+1)*a[2]:+a[2]),n}]};ut.Animation=ut.extend(J,{tweener:function(e,t){ut.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,a=e.length;a>i;i++)n=e[i],ri[n]=ri[n]||[],ri[n].unshift(t)},prefilter:function(e,t){t?ai.unshift(e):ai.push(e)}}),ut.Tween=U,U.prototype={constructor:U,init:function(e,t,n,i,a,r){this.elem=e,this.prop=n,this.easing=a||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(ut.cssNumber[n]?"":"px")},cur:function(){var e=U.propHooks[this.prop];return e&&e.get?e.get(this):U.propHooks._default.get(this)},run:function(e){var t,n=U.propHooks[this.prop];return this.pos=t=this.options.duration?ut.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):U.propHooks._default.set(this),this}},U.prototype.init.prototype=U.prototype,U.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ut.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ut.fx.step[e.prop]?ut.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ut.cssProps[e.prop]]||ut.cssHooks[e.prop])?ut.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},U.propHooks.scrollTop=U.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ut.each(["toggle","show","hide"],function(e,t){var n=ut.fn[t];ut.fn[t]=function(e,i,a){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(Y(t,!0),e,i,a)}}),ut.fn.extend({fadeTo:function(e,t,n,i){return this.filter(T).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var a=ut.isEmptyObject(e),r=ut.speed(t,n,i),s=function(){var t=J(this,ut.extend({},e),r);(a||ut._data(this,"finish"))&&t.stop(!0)};return s.finish=s,a||r.queue===!1?this.each(s):this.queue(r.queue,s)},stop:function(e,n,i){var a=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",r=ut.timers,s=ut._data(this);if(n)s[n]&&s[n].stop&&a(s[n]);else for(n in s)s[n]&&s[n].stop&&ii.test(n)&&a(s[n]);for(n=r.length;n--;)r[n].elem!==this||null!=e&&r[n].queue!==e||(r[n].anim.stop(i),t=!1,r.splice(n,1));(t||!i)&&ut.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ut._data(this),i=n[e+"queue"],a=n[e+"queueHooks"],r=ut.timers,s=i?i.length:0;for(n.finish=!0,ut.queue(this,e,[]),a&&a.stop&&a.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;s>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),ut.each({slideDown:Y("show"),slideUp:Y("hide"),slideToggle:Y("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ut.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),ut.speed=function(e,t,n){var i=e&&"object"==typeof e?ut.extend({},e):{complete:n||!n&&t||ut.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ut.isFunction(t)&&t};return i.duration=ut.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ut.fx.speeds?ut.fx.speeds[i.duration]:ut.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){ut.isFunction(i.old)&&i.old.call(this),i.queue&&ut.dequeue(this,i.queue)},i},ut.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ut.timers=[],ut.fx=U.prototype.init,ut.fx.tick=function(){var e,n=ut.timers,i=0;for(Kn=ut.now();i<n.length;i++)e=n[i],e()||n[i]!==e||n.splice(i--,1);n.length||ut.fx.stop(),Kn=t},ut.fx.timer=function(e){e()&&ut.timers.push(e)&&ut.fx.start()},ut.fx.interval=13,ut.fx.start=function(){ei||(ei=setInterval(ut.fx.tick,ut.fx.interval))},ut.fx.stop=function(){clearInterval(ei),ei=null},ut.fx.speeds={slow:600,fast:200,_default:400},ut.fx.step={},ut.expr&&ut.expr.filters&&(ut.expr.filters.animated=function(e){return ut.grep(ut.timers,function(t){return e===t.elem}).length}),ut.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){ut.offset.setOffset(this,e,t)});var n,i,a={top:0,left:0},r=this[0],s=r&&r.ownerDocument;if(s)return n=s.documentElement,ut.contains(n,r)?(typeof r.getBoundingClientRect!==R&&(a=r.getBoundingClientRect()),i=B(s),{top:a.top+(i.pageYOffset||n.scrollTop)-(n.clientTop||0),left:a.left+(i.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):a},ut.offset={setOffset:function(e,t,n){var i=ut.css(e,"position");"static"===i&&(e.style.position="relative");var a,r,s=ut(e),o=s.offset(),l=ut.css(e,"top"),c=ut.css(e,"left"),u=("absolute"===i||"fixed"===i)&&ut.inArray("auto",[l,c])>-1,h={},d={};u?(d=s.position(),a=d.top,r=d.left):(a=parseFloat(l)||0,r=parseFloat(c)||0),ut.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(h.top=t.top-o.top+a),null!=t.left&&(h.left=t.left-o.left+r),"using"in t?t.using.call(e,h):s.css(h)}},ut.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===ut.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ut.nodeName(e[0],"html")||(n=e.offset()),n.top+=ut.css(e[0],"borderTopWidth",!0),n.left+=ut.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ut.css(i,"marginTop",!0),left:t.left-n.left-ut.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Z;e&&!ut.nodeName(e,"html")&&"static"===ut.css(e,"position");)e=e.offsetParent;return e||Z})}}),ut.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i=/Y/.test(n);ut.fn[e]=function(a){return ut.access(this,function(e,a,r){var s=B(e);return r===t?s?n in s?s[n]:s.document.documentElement[a]:e[a]:(s?s.scrollTo(i?ut(s).scrollLeft():r,i?r:ut(s).scrollTop()):e[a]=r,void 0)},e,a,arguments.length,null)}}),ut.each({Height:"height",Width:"width"},function(e,n){ut.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,a){ut.fn[a]=function(a,r){var s=arguments.length&&(i||"boolean"!=typeof a),o=i||(a===!0||r===!0?"margin":"border");return ut.access(this,function(n,i,a){var r;return ut.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(r=n.documentElement,Math.max(n.body["scroll"+e],r["scroll"+e],n.body["offset"+e],r["offset"+e],r["client"+e])):a===t?ut.css(n,i,o):ut.style(n,i,a,o)},n,s?a:t,s,null)}})}),ut.fn.size=function(){return this.length},ut.fn.andSelf=ut.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=ut:(e.jQuery=e.$=ut,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ut}))}(window),function(e,t){e.rails!==t&&e.error("jquery-ujs has already been loaded!");var n,i=e(document);e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var n=e('meta[name="csrf-token"]').attr("content");n&&t.setRequestHeader("X-CSRF-Token",n)},fire:function(t,n,i){var a=e.Event(n);return t.trigger(a,i),a.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(i){var a,r,s,o,l,c,u,h;if(n.fire(i,"ajax:before")){if(o=i.data("cross-domain"),l=o===t?null:o,c=i.data("with-credentials")||null,u=i.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,i.is("form")){a=i.attr("method"),r=i.attr("action"),s=i.serializeArray();var d=i.data("ujs:submit-button");d&&(s.push(d),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(a=i.data("method"),r=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(a=i.data("method")||"get",r=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):(a=i.data("method"),r=n.href(i),s=i.data("params")||null);h={type:a||"GET",data:s,dataType:u,beforeSend:function(e,a){return a.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+a.accepts.script),n.fire(i,"ajax:beforeSend",[e,a])},success:function(e,t,n){i.trigger("ajax:success",[e,t,n])},complete:function(e,t){i.trigger("ajax:complete",[e,t])},error:function(e,t,n){i.trigger("ajax:error",[e,t,n])},crossDomain:l},c&&(h.xhrFields={withCredentials:c}),r&&(h.url=r);var p=n.ajax(h);return i.trigger("ajax:send",p),p}return!1},handleMethod:function(i){var a=n.href(i),r=i.data("method"),s=i.attr("target"),o=e("meta[name=csrf-token]").attr("content"),l=e("meta[name=csrf-param]").attr("content"),c=e('<form method="post" action="'+a+'"></form>'),u='<input name="_method" value="'+r+'" type="hidden" />';l!==t&&o!==t&&(u+='<input name="'+l+'" value="'+o+'" type="hidden" />'),s&&c.attr("target",s),c.hide().append(u).appendTo("body"),c.submit()},disableFormElements:function(t){t.find(n.disableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with",t[n]()),t[n](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(n.enableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[n](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t,i=e.data("confirm"),a=!1;return i?(n.fire(e,"confirm")&&(a=n.confirm(i),t=n.fire(e,"confirm:complete",[a])),a&&t):!0},blankInputs:function(t,n,i){var a,r,s=e(),o=n||"input,textarea",l=t.find(o);
return l.each(function(){if(a=e(this),r=a.is("input[type=checkbox],input[type=radio]")?a.is(":checked"):a.val(),!r==!i){if(a.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+a.attr("name")+'"]').length)return!0;s=s.add(a)}}),s.length?s:!1},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return n.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable")}},n.fire(i,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,i){e.crossDomain||n.CSRFProtection(i)}),i.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(e(this))}),i.delegate(n.linkClickSelector,"click.rails",function(i){var a=e(this),r=a.data("method"),s=a.data("params");if(!n.allowAction(a))return n.stopEverything(i);if(a.is(n.linkDisableSelector)&&n.disableElement(a),a.data("remote")!==t){if(!(!i.metaKey&&!i.ctrlKey||r&&"GET"!==r||s))return!0;var o=n.handleRemote(a);return o===!1?n.enableElement(a):o.error(function(){n.enableElement(a)}),!1}return a.data("method")?(n.handleMethod(a),!1):void 0}),i.delegate(n.buttonClickSelector,"click.rails",function(t){var i=e(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(t)}),i.delegate(n.inputChangeSelector,"change.rails",function(t){var i=e(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(t)}),i.delegate(n.formSubmitSelector,"submit.rails",function(i){var a=e(this),r=a.data("remote")!==t,s=n.blankInputs(a,n.requiredInputSelector),o=n.nonBlankInputs(a,n.fileInputSelector);if(!n.allowAction(a))return n.stopEverything(i);if(s&&a.attr("novalidate")==t&&n.fire(a,"ajax:aborted:required",[s]))return n.stopEverything(i);if(r){if(o){setTimeout(function(){n.disableFormElements(a)},13);var l=n.fire(a,"ajax:aborted:file",[o]);return l||setTimeout(function(){n.enableFormElements(a)},13),l}return n.handleRemote(a),!1}setTimeout(function(){n.disableFormElements(a)},13)}),i.delegate(n.formInputClickSelector,"click.rails",function(t){var i=e(this);if(!n.allowAction(i))return n.stopEverything(t);var a=i.attr("name"),r=a?{name:a,value:i.val()}:null;i.closest("form").data("ujs:submit-button",r)}),i.delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&n.disableFormElements(e(this))}),i.delegate(n.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&n.enableFormElements(e(this))}),e(function(){var t=e("meta[name=csrf-token]").attr("content"),n=e("meta[name=csrf-param]").attr("content");e('form input[name="'+n+'"]').val(t)}))}(jQuery),function(){var e=this,t=e._,n={},i=Array.prototype,a=Object.prototype,r=Function.prototype,s=i.push,o=i.slice,l=i.concat,c=a.toString,u=a.hasOwnProperty,h=i.forEach,d=i.map,p=i.reduce,g=i.reduceRight,f=i.filter,m=i.every,_=i.some,v=i.indexOf,b=i.lastIndexOf,w=Array.isArray,y=Object.keys,x=r.bind,T=function(e){return e instanceof T?e:this instanceof T?(this._wrapped=e,void 0):new T(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=T),exports._=T):e._=T,T.VERSION="1.5.2";var k=T.each=T.forEach=function(e,t,i){if(null!=e)if(h&&e.forEach===h)e.forEach(t,i);else if(e.length===+e.length){for(var a=0,r=e.length;r>a;a++)if(t.call(i,e[a],a,e)===n)return}else for(var s=T.keys(e),a=0,r=s.length;r>a;a++)if(t.call(i,e[s[a]],s[a],e)===n)return};T.map=T.collect=function(e,t,n){var i=[];return null==e?i:d&&e.map===d?e.map(t,n):(k(e,function(e,a,r){i.push(t.call(n,e,a,r))}),i)};var S="Reduce of empty array with no initial value";T.reduce=T.foldl=T.inject=function(e,t,n,i){var a=arguments.length>2;if(null==e&&(e=[]),p&&e.reduce===p)return i&&(t=T.bind(t,i)),a?e.reduce(t,n):e.reduce(t);if(k(e,function(e,r,s){a?n=t.call(i,n,e,r,s):(n=e,a=!0)}),!a)throw new TypeError(S);return n},T.reduceRight=T.foldr=function(e,t,n,i){var a=arguments.length>2;if(null==e&&(e=[]),g&&e.reduceRight===g)return i&&(t=T.bind(t,i)),a?e.reduceRight(t,n):e.reduceRight(t);var r=e.length;if(r!==+r){var s=T.keys(e);r=s.length}if(k(e,function(o,l,c){l=s?s[--r]:--r,a?n=t.call(i,n,e[l],l,c):(n=e[l],a=!0)}),!a)throw new TypeError(S);return n},T.find=T.detect=function(e,t,n){var i;return C(e,function(e,a,r){return t.call(n,e,a,r)?(i=e,!0):void 0}),i},T.filter=T.select=function(e,t,n){var i=[];return null==e?i:f&&e.filter===f?e.filter(t,n):(k(e,function(e,a,r){t.call(n,e,a,r)&&i.push(e)}),i)},T.reject=function(e,t,n){return T.filter(e,function(e,i,a){return!t.call(n,e,i,a)},n)},T.every=T.all=function(e,t,i){t||(t=T.identity);var a=!0;return null==e?a:m&&e.every===m?e.every(t,i):(k(e,function(e,r,s){return(a=a&&t.call(i,e,r,s))?void 0:n}),!!a)};var C=T.some=T.any=function(e,t,i){t||(t=T.identity);var a=!1;return null==e?a:_&&e.some===_?e.some(t,i):(k(e,function(e,r,s){return a||(a=t.call(i,e,r,s))?n:void 0}),!!a)};T.contains=T.include=function(e,t){return null==e?!1:v&&e.indexOf===v?-1!=e.indexOf(t):C(e,function(e){return e===t})},T.invoke=function(e,t){var n=o.call(arguments,2),i=T.isFunction(t);return T.map(e,function(e){return(i?t:e[t]).apply(e,n)})},T.pluck=function(e,t){return T.map(e,function(e){return e[t]})},T.where=function(e,t,n){return T.isEmpty(t)?n?void 0:[]:T[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},T.findWhere=function(e,t){return T.where(e,t,!0)},T.max=function(e,t,n){if(!t&&T.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&T.isEmpty(e))return-1/0;var i={computed:-1/0,value:-1/0};return k(e,function(e,a,r){var s=t?t.call(n,e,a,r):e;s>i.computed&&(i={value:e,computed:s})}),i.value},T.min=function(e,t,n){if(!t&&T.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&T.isEmpty(e))return 1/0;var i={computed:1/0,value:1/0};return k(e,function(e,a,r){var s=t?t.call(n,e,a,r):e;s<i.computed&&(i={value:e,computed:s})}),i.value},T.shuffle=function(e){var t,n=0,i=[];return k(e,function(e){t=T.random(n++),i[n-1]=i[t],i[t]=e}),i},T.sample=function(e,t,n){return arguments.length<2||n?e[T.random(e.length-1)]:T.shuffle(e).slice(0,Math.max(0,t))};var F=function(e){return T.isFunction(e)?e:function(t){return t[e]}};T.sortBy=function(e,t,n){var i=F(t);return T.pluck(T.map(e,function(e,t,a){return{value:e,index:t,criteria:i.call(n,e,t,a)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index-t.index}),"value")};var j=function(e){return function(t,n,i){var a={},r=null==n?T.identity:F(n);return k(t,function(n,s){var o=r.call(i,n,s,t);e(a,o,n)}),a}};T.groupBy=j(function(e,t,n){(T.has(e,t)?e[t]:e[t]=[]).push(n)}),T.indexBy=j(function(e,t,n){e[t]=n}),T.countBy=j(function(e,t){T.has(e,t)?e[t]++:e[t]=1}),T.sortedIndex=function(e,t,n,i){n=null==n?T.identity:F(n);for(var a=n.call(i,t),r=0,s=e.length;s>r;){var o=r+s>>>1;n.call(i,e[o])<a?r=o+1:s=o}return r},T.toArray=function(e){return e?T.isArray(e)?o.call(e):e.length===+e.length?T.map(e,T.identity):T.values(e):[]},T.size=function(e){return null==e?0:e.length===+e.length?e.length:T.keys(e).length},T.first=T.head=T.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:o.call(e,0,t)},T.initial=function(e,t,n){return o.call(e,0,e.length-(null==t||n?1:t))},T.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:o.call(e,Math.max(e.length-t,0))},T.rest=T.tail=T.drop=function(e,t,n){return o.call(e,null==t||n?1:t)},T.compact=function(e){return T.filter(e,T.identity)};var L=function(e,t,n){return t&&T.every(e,T.isArray)?l.apply(n,e):(k(e,function(e){T.isArray(e)||T.isArguments(e)?t?s.apply(n,e):L(e,t,n):n.push(e)}),n)};T.flatten=function(e,t){return L(e,t,[])},T.without=function(e){return T.difference(e,o.call(arguments,1))},T.uniq=T.unique=function(e,t,n,i){T.isFunction(t)&&(i=n,n=t,t=!1);var a=n?T.map(e,n,i):e,r=[],s=[];return k(a,function(n,i){(t?i&&s[s.length-1]===n:T.contains(s,n))||(s.push(n),r.push(e[i]))}),r},T.union=function(){return T.uniq(T.flatten(arguments,!0))},T.intersection=function(e){var t=o.call(arguments,1);return T.filter(T.uniq(e),function(e){return T.every(t,function(t){return T.indexOf(t,e)>=0})})},T.difference=function(e){var t=l.apply(i,o.call(arguments,1));return T.filter(e,function(e){return!T.contains(t,e)})},T.zip=function(){for(var e=T.max(T.pluck(arguments,"length").concat(0)),t=new Array(e),n=0;e>n;n++)t[n]=T.pluck(arguments,""+n);return t},T.object=function(e,t){if(null==e)return{};for(var n={},i=0,a=e.length;a>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},T.indexOf=function(e,t,n){if(null==e)return-1;var i=0,a=e.length;if(n){if("number"!=typeof n)return i=T.sortedIndex(e,t),e[i]===t?i:-1;i=0>n?Math.max(0,a+n):n}if(v&&e.indexOf===v)return e.indexOf(t,n);for(;a>i;i++)if(e[i]===t)return i;return-1},T.lastIndexOf=function(e,t,n){if(null==e)return-1;var i=null!=n;if(b&&e.lastIndexOf===b)return i?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var a=i?n:e.length;a--;)if(e[a]===t)return a;return-1},T.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),a=0,r=new Array(i);i>a;)r[a++]=e,e+=n;return r};var A=function(){};T.bind=function(e,t){var n,i;if(x&&e.bind===x)return x.apply(e,o.call(arguments,1));if(!T.isFunction(e))throw new TypeError;return n=o.call(arguments,2),i=function(){if(!(this instanceof i))return e.apply(t,n.concat(o.call(arguments)));A.prototype=e.prototype;var a=new A;A.prototype=null;var r=e.apply(a,n.concat(o.call(arguments)));return Object(r)===r?r:a}},T.partial=function(e){var t=o.call(arguments,1);return function(){return e.apply(this,t.concat(o.call(arguments)))}},T.bindAll=function(e){var t=o.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return k(t,function(t){e[t]=T.bind(e[t],e)}),e},T.memoize=function(e,t){var n={};return t||(t=T.identity),function(){var i=t.apply(this,arguments);return T.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},T.delay=function(e,t){var n=o.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},T.defer=function(e){return T.delay.apply(T,[e,1].concat(o.call(arguments,1)))},T.throttle=function(e,t,n){var i,a,r,s=null,o=0;n||(n={});var l=function(){o=n.leading===!1?0:new Date,s=null,r=e.apply(i,a)};return function(){var c=new Date;o||n.leading!==!1||(o=c);var u=t-(c-o);return i=this,a=arguments,0>=u?(clearTimeout(s),s=null,o=c,r=e.apply(i,a)):s||n.trailing===!1||(s=setTimeout(l,u)),r}},T.debounce=function(e,t,n){var i,a,r,s,o;return function(){r=this,a=arguments,s=new Date;var l=function(){var c=new Date-s;t>c?i=setTimeout(l,t-c):(i=null,n||(o=e.apply(r,a)))},c=n&&!i;return i||(i=setTimeout(l,t)),c&&(o=e.apply(r,a)),o}},T.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},T.wrap=function(e,t){return function(){var n=[e];return s.apply(n,arguments),t.apply(this,n)}},T.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},T.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},T.keys=y||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)T.has(e,n)&&t.push(n);return t},T.values=function(e){for(var t=T.keys(e),n=t.length,i=new Array(n),a=0;n>a;a++)i[a]=e[t[a]];return i},T.pairs=function(e){for(var t=T.keys(e),n=t.length,i=new Array(n),a=0;n>a;a++)i[a]=[t[a],e[t[a]]];return i},T.invert=function(e){for(var t={},n=T.keys(e),i=0,a=n.length;a>i;i++)t[e[n[i]]]=n[i];return t},T.functions=T.methods=function(e){var t=[];for(var n in e)T.isFunction(e[n])&&t.push(n);return t.sort()},T.extend=function(e){return k(o.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},T.pick=function(e){var t={},n=l.apply(i,o.call(arguments,1));return k(n,function(n){n in e&&(t[n]=e[n])}),t},T.omit=function(e){var t={},n=l.apply(i,o.call(arguments,1));for(var a in e)T.contains(n,a)||(t[a]=e[a]);return t},T.defaults=function(e){return k(o.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},T.clone=function(e){return T.isObject(e)?T.isArray(e)?e.slice():T.extend({},e):e},T.tap=function(e,t){return t(e),e};var E=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof T&&(e=e._wrapped),t instanceof T&&(t=t._wrapped);var a=c.call(e);if(a!=c.call(t))return!1;switch(a){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var r=n.length;r--;)if(n[r]==e)return i[r]==t;var s=e.constructor,o=t.constructor;if(s!==o&&!(T.isFunction(s)&&s instanceof s&&T.isFunction(o)&&o instanceof o))return!1;n.push(e),i.push(t);var l=0,u=!0;if("[object Array]"==a){if(l=e.length,u=l==t.length)for(;l--&&(u=E(e[l],t[l],n,i)););}else{for(var h in e)if(T.has(e,h)&&(l++,!(u=T.has(t,h)&&E(e[h],t[h],n,i))))break;if(u){for(h in t)if(T.has(t,h)&&!l--)break;u=!l}}return n.pop(),i.pop(),u};T.isEqual=function(e,t){return E(e,t,[],[])},T.isEmpty=function(e){if(null==e)return!0;if(T.isArray(e)||T.isString(e))return 0===e.length;for(var t in e)if(T.has(e,t))return!1;return!0},T.isElement=function(e){return!(!e||1!==e.nodeType)},T.isArray=w||function(e){return"[object Array]"==c.call(e)},T.isObject=function(e){return e===Object(e)},k(["Arguments","Function","String","Number","Date","RegExp"],function(e){T["is"+e]=function(t){return c.call(t)=="[object "+e+"]"}}),T.isArguments(arguments)||(T.isArguments=function(e){return!(!e||!T.has(e,"callee"))}),"function"!=typeof/./&&(T.isFunction=function(e){return"function"==typeof e}),T.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},T.isNaN=function(e){return T.isNumber(e)&&e!=+e},T.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==c.call(e)},T.isNull=function(e){return null===e},T.isUndefined=function(e){return void 0===e},T.has=function(e,t){return u.call(e,t)},T.noConflict=function(){return e._=t,this},T.identity=function(e){return e},T.times=function(e,t,n){for(var i=Array(Math.max(0,e)),a=0;e>a;a++)i[a]=t.call(n,a);return i},T.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var M={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};M.unescape=T.invert(M.escape);var N={escape:new RegExp("["+T.keys(M.escape).join("")+"]","g"),unescape:new RegExp("("+T.keys(M.unescape).join("|")+")","g")};T.each(["escape","unescape"],function(e){T[e]=function(t){return null==t?"":(""+t).replace(N[e],function(t){return M[e][t]})}}),T.result=function(e,t){if(null==e)return void 0;var n=e[t];return T.isFunction(n)?n.call(e):n},T.mixin=function(e){k(T.functions(e),function(t){var n=T[t]=e[t];T.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),D.call(this,n.apply(T,e))}})};var q=0;T.uniqueId=function(e){var t=++q+"";return e?e+t:t},T.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var V=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},$=/\\|'|\r|\n|\t|\u2028|\u2029/g;T.template=function(e,t,n){var i;n=T.defaults({},n,T.templateSettings);var a=new RegExp([(n.escape||V).source,(n.interpolate||V).source,(n.evaluate||V).source].join("|")+"|$","g"),r=0,s="__p+='";e.replace(a,function(t,n,i,a,o){return s+=e.slice(r,o).replace($,function(e){return"\\"+H[e]}),n&&(s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(s+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),a&&(s+="';\n"+a+"\n__p+='"),r=o+t.length,t}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{i=new Function(n.variable||"obj","_",s)}catch(o){throw o.source=s,o}if(t)return i(t,T);var l=function(e){return i.call(this,e,T)};return l.source="function("+(n.variable||"obj")+"){\n"+s+"}",l},T.chain=function(e){return T(e).chain()};var D=function(e){return this._chain?T(e).chain():e};T.mixin(T),k(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];T.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],D.call(this,n)}}),k(["concat","join","slice"],function(e){var t=i[e];T.prototype[e]=function(){return D.call(this,t.apply(this._wrapped,arguments))}}),T.extend(T.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,i,a,r,s,o=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(l)){for(r=l.length,n=0;r>n;n+=1)s[n]=str(n,l)||"null";return a=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+o+"]":"["+s.join(",")+"]",gap=o,a}if(rep&&"object"==typeof rep)for(r=rep.length,n=0;r>n;n+=1)"string"==typeof rep[n]&&(i=rep[n],a=str(i,l),a&&s.push(quote(i)+(gap?": ":":")+a));else for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(a=str(i,l),a&&s.push(quote(i)+(gap?": ":":")+a));return a=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+o+"}":"{"+s.join(",")+"}",gap=o,a}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;n>i;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,i,a=e[t];if(a&&"object"==typeof a)for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(i=walk(a,n),void 0!==i?a[n]=i:delete a[n]);return reviver.call(e,t,a)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(){{var e,t=this,n=t.Backbone,i=[],a=(i.push,i.slice);i.splice}e="undefined"!=typeof exports?exports:t.Backbone={},e.VERSION="1.1.0";var r=t._;r||"undefined"==typeof require||(r=require("underscore")),e.$=t.jQuery||t.Zepto||t.ender||t.$,e.noConflict=function(){return t.Backbone=n,this},e.emulateHTTP=!1,e.emulateJSON=!1;var s=e.Events={on:function(e,t,n){if(!l(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);return i.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!l(this,"once",e,[t,n])||!t)return this;var i=this,a=r.once(function(){i.off(e,a),t.apply(this,arguments)});return a._callback=t,this.on(e,a,n)},off:function(e,t,n){var i,a,s,o,c,u,h,d;if(!this._events||!l(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;for(o=e?[e]:r.keys(this._events),c=0,u=o.length;u>c;c++)if(e=o[c],s=this._events[e]){if(this._events[e]=i=[],t||n)for(h=0,d=s.length;d>h;h++)a=s[h],(t&&t!==a.callback&&t!==a.callback._callback||n&&n!==a.context)&&i.push(a);i.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=a.call(arguments,1);if(!l(this,"trigger",e,t))return this;var n=this._events[e],i=this._events.all;return n&&c(n,t),i&&c(i,arguments),this},stopListening:function(e,t,n){var i=this._listeningTo;if(!i)return this;var a=!t&&!n;n||"object"!=typeof t||(n=this),e&&((i={})[e._listenId]=e);for(var s in i)e=i[s],e.off(t,n,this),(a||r.isEmpty(e._events))&&delete this._listeningTo[s];return this}},o=/\s+/,l=function(e,t,n,i){if(!n)return!0;if("object"==typeof n){for(var a in n)e[t].apply(e,[a,n[a]].concat(i));return!1}if(o.test(n)){for(var r=n.split(o),s=0,l=r.length;l>s;s++)e[t].apply(e,[r[s]].concat(i));return!1}return!0},c=function(e,t){var n,i=-1,a=e.length,r=t[0],s=t[1],o=t[2];switch(t.length){case 0:for(;++i<a;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<a;)(n=e[i]).callback.call(n.ctx,r);return;case 2:for(;++i<a;)(n=e[i]).callback.call(n.ctx,r,s);return;case 3:for(;++i<a;)(n=e[i]).callback.call(n.ctx,r,s,o);return;default:for(;++i<a;)(n=e[i]).callback.apply(n.ctx,t)}},u={listenTo:"on",listenToOnce:"once"};r.each(u,function(e,t){s[t]=function(t,n,i){var a=this._listeningTo||(this._listeningTo={}),s=t._listenId||(t._listenId=r.uniqueId("l"));return a[s]=t,i||"object"!=typeof n||(i=this),t[e](n,i,this),this}}),s.bind=s.on,s.unbind=s.off,r.extend(e,s);var h=e.Model=function(e,t){var n=e||{};t||(t={}),this.cid=r.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(n=this.parse(n,t)||{}),n=r.defaults({},n,r.result(this,"defaults")),this.set(n,t),this.changed={},this.initialize.apply(this,arguments)};r.extend(h.prototype,s,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return r.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return r.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,n){var i,a,s,o,l,c,u,h;if(null==e)return this;if("object"==typeof e?(a=e,n=t):(a={})[e]=t,n||(n={}),!this._validate(a,n))return!1;s=n.unset,l=n.silent,o=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=r.clone(this.attributes),this.changed={}),h=this.attributes,u=this._previousAttributes,this.idAttribute in a&&(this.id=a[this.idAttribute]);for(i in a)t=a[i],r.isEqual(h[i],t)||o.push(i),r.isEqual(u[i],t)?delete this.changed[i]:this.changed[i]=t,s?delete h[i]:h[i]=t;if(!l){o.length&&(this._pending=!0);for(var d=0,p=o.length;p>d;d++)this.trigger("change:"+o[d],this,h[o[d]],n)}if(c)return this;if(!l)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,r.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,r.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!r.isEmpty(this.changed):r.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?r.clone(this.changed):!1;var t,n=!1,i=this._changing?this._previousAttributes:this.attributes;for(var a in e)r.isEqual(i[a],t=e[a])||((n||(n={}))[a]=t);return n},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return r.clone(this._previousAttributes)},fetch:function(e){e=e?r.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,n=e.success;return e.success=function(i){return t.set(t.parse(i,e),e)?(n&&n(t,i,e),t.trigger("sync",t,i,e),void 0):!1},H(this,e),this.sync("read",this,e)},save:function(e,t,n){var i,a,s,o=this.attributes;if(null==e||"object"==typeof e?(i=e,n=t):(i={})[e]=t,n=r.extend({validate:!0},n),i&&!n.wait){if(!this.set(i,n))return!1}else if(!this._validate(i,n))return!1;i&&n.wait&&(this.attributes=r.extend({},o,i)),void 0===n.parse&&(n.parse=!0);var l=this,c=n.success;return n.success=function(e){l.attributes=o;var t=l.parse(e,n);return n.wait&&(t=r.extend(i||{},t)),r.isObject(t)&&!l.set(t,n)?!1:(c&&c(l,e,n),l.trigger("sync",l,e,n),void 0)},H(this,n),a=this.isNew()?"create":n.patch?"patch":"update","patch"===a&&(n.attrs=i),s=this.sync(a,this,n),i&&n.wait&&(this.attributes=o),s},destroy:function(e){e=e?r.clone(e):{};var t=this,n=e.success,i=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(a){(e.wait||t.isNew())&&i(),n&&n(t,a,e),t.isNew()||t.trigger("sync",t,a,e)},this.isNew())return e.success(),!1;H(this,e);var a=this.sync("delete",this,e);return e.wait||i(),a},url:function(){var e=r.result(this,"urlRoot")||r.result(this.collection,"url")||V();return this.isNew()?e:e+("/"===e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(e){return this._validate({},r.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=r.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return n?(this.trigger("invalid",this,n,r.extend(t,{validationError:n})),!1):!0}});var d=["keys","values","pairs","invert","pick","omit"];r.each(d,function(e){h.prototype[e]=function(){var t=a.call(arguments);return t.unshift(this.attributes),r[e].apply(r,t)}});var p=e.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,r.extend({silent:!0},t))},g={add:!0,remove:!0,merge:!0},f={add:!0,remove:!1};r.extend(p.prototype,s,{model:h,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return e.sync.apply(this,arguments)},add:function(e,t){return this.set(e,r.extend({merge:!1},t,f))},remove:function(e,t){var n=!r.isArray(e);e=n?[e]:r.clone(e),t||(t={});var i,a,s,o;for(i=0,a=e.length;a>i;i++)o=e[i]=this.get(e[i]),o&&(delete this._byId[o.id],delete this._byId[o.cid],s=this.indexOf(o),this.models.splice(s,1),this.length--,t.silent||(t.index=s,o.trigger("remove",o,this,t)),this._removeReference(o));return n?e[0]:e},set:function(e,t){t=r.defaults({},t,g),t.parse&&(e=this.parse(e,t));var n=!r.isArray(e);e=n?e?[e]:[]:r.clone(e);var i,a,s,o,l,c,u,d=t.at,p=this.model,f=this.comparator&&null==d&&t.sort!==!1,m=r.isString(this.comparator)?this.comparator:null,_=[],v=[],b={},w=t.add,y=t.merge,x=t.remove,T=!f&&w&&x?[]:!1;for(i=0,a=e.length;a>i;i++){if(l=e[i],s=l instanceof h?o=l:l[p.prototype.idAttribute],c=this.get(s))x&&(b[c.cid]=!0),y&&(l=l===o?o.attributes:l,t.parse&&(l=c.parse(l,t)),c.set(l,t),f&&!u&&c.hasChanged(m)&&(u=!0)),e[i]=c;else if(w){if(o=e[i]=this._prepareModel(l,t),!o)continue;_.push(o),o.on("all",this._onModelEvent,this),this._byId[o.cid]=o,null!=o.id&&(this._byId[o.id]=o)}T&&T.push(c||o)}if(x){for(i=0,a=this.length;a>i;++i)b[(o=this.models[i]).cid]||v.push(o);v.length&&this.remove(v,t)}if(_.length||T&&T.length)if(f&&(u=!0),this.length+=_.length,null!=d)for(i=0,a=_.length;a>i;i++)this.models.splice(d+i,0,_[i]);else{T&&(this.models.length=0);var k=T||_;for(i=0,a=k.length;a>i;i++)this.models.push(k[i])}if(u&&this.sort({silent:!0}),!t.silent){for(i=0,a=_.length;a>i;i++)(o=_[i]).trigger("add",o,this,t);(u||T&&T.length)&&this.trigger("sort",this,t)}return n?e[0]:e},reset:function(e,t){t||(t={});for(var n=0,i=this.models.length;i>n;n++)this._removeReference(this.models[n]);return t.previousModels=this.models,this._reset(),e=this.add(e,r.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,r.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,r.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return a.apply(this.models,arguments)},get:function(e){return null==e?void 0:this._byId[e.id]||this._byId[e.cid]||this._byId[e]},at:function(e){return this.models[e]},where:function(e,t){return r.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),r.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(r.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return r.invoke(this.models,"get",e)},fetch:function(e){e=e?r.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,n=this;return e.success=function(i){var a=e.reset?"reset":"set";n[a](i,e),t&&t(n,i,e),n.trigger("sync",n,i,e)},H(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?r.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var n=this,i=t.success;return t.success=function(e,t,a){a.wait&&n.add(e,a),i&&i(e,t,a)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof h)return e.collection||(e.collection=this),e;t=t?r.clone(t):{},t.collection=this;var n=new this.model(e,t);return n.validationError?(this.trigger("invalid",this,n.validationError,t),!1):n},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,i),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var m=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain"];r.each(m,function(e){p.prototype[e]=function(){var t=a.call(arguments);return t.unshift(this.models),r[e].apply(r,t)}});var _=["groupBy","countBy","sortBy"];r.each(_,function(e){p.prototype[e]=function(t,n){var i=r.isFunction(t)?t:function(e){return e.get(t)};return r[e](this.models,i,n)}});var v=e.View=function(e){this.cid=r.uniqueId("view"),e||(e={}),r.extend(this,r.pick(e,w)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},b=/^(\S+)\s*(.*)$/,w=["model","collection","el","id","attributes","className","tagName","events"];r.extend(v.prototype,s,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,n){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=r.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var n=e[t];if(r.isFunction(n)||(n=this[e[t]]),n){var i=t.match(b),a=i[1],s=i[2];n=r.bind(n,this),a+=".delegateEvents"+this.cid,""===s?this.$el.on(a,n):this.$el.on(a,s,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(r.result(this,"el"),!1);else{var t=r.extend({},r.result(this,"attributes"));this.id&&(t.id=r.result(this,"id")),this.className&&(t["class"]=r.result(this,"className"));var n=e.$("<"+r.result(this,"tagName")+">").attr(t);this.setElement(n,!1)}}}),e.sync=function(t,n,i){var a=x[t];
r.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var s={type:a,dataType:"json"};if(i.url||(s.url=r.result(n,"url")||V()),null!=i.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(s.contentType="application/json",s.data=JSON.stringify(i.attrs||n.toJSON(i))),i.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),i.emulateHTTP&&("PUT"===a||"DELETE"===a||"PATCH"===a)){s.type="POST",i.emulateJSON&&(s.data._method=a);var o=i.beforeSend;i.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",a),o?o.apply(this,arguments):void 0}}"GET"===s.type||i.emulateJSON||(s.processData=!1),"PATCH"===s.type&&y&&(s.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=i.xhr=e.ajax(r.extend(s,i));return n.trigger("request",n,l,i),l};var y=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),x={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var T=e.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},k=/\((.*?)\)/g,S=/(\(\?)?:\w+/g,C=/\*\w+/g,F=/[\-{}\[\]+?.,\\\^$|#\s]/g;r.extend(T.prototype,s,{initialize:function(){},route:function(t,n,i){r.isRegExp(t)||(t=this._routeToRegExp(t)),r.isFunction(n)&&(i=n,n=""),i||(i=this[n]);var a=this;return e.history.route(t,function(r){var s=a._extractParameters(t,r);i&&i.apply(a,s),a.trigger.apply(a,["route:"+n].concat(s)),a.trigger("route",n,s),e.history.trigger("route",a,n,s)}),this},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=r.result(this,"routes");for(var e,t=r.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(F,"\\$&").replace(k,"(?:$1)?").replace(S,function(e,t){return t?e:"([^/]+)"}).replace(C,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return r.map(n,function(e){return e?decodeURIComponent(e):null})}});var j=e.History=function(){this.handlers=[],r.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},L=/^[#\/]|\s+$/g,A=/^\/+|\/+$/g,E=/msie [\w.]+/,M=/\/$/,N=/[?#].*$/;j.started=!1,r.extend(j.prototype,s,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace(M,"");e.indexOf(n)||(e=e.slice(n.length))}else e=this.getHash();return e.replace(L,"")},start:function(t){if(j.started)throw new Error("Backbone.history has already been started");j.started=!0,this.options=r.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),i=document.documentMode,a=E.exec(navigator.userAgent.toLowerCase())&&(!i||7>=i);this.root=("/"+this.root+"/").replace(A,"/"),a&&this._wantsHashChange&&(this.iframe=e.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(n)),this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!a?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var s=this.location,o=s.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!o)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._hasPushState&&o&&s.hash&&(this.fragment=this.getHash().replace(L,""),this.history.replaceState({},document.title,this.root+this.fragment+s.search))}return this.options.silent?void 0:this.loadUrl()},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),j.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),this.loadUrl(),void 0)},loadUrl:function(e){return e=this.fragment=this.getFragment(e),r.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0})},navigate:function(e,t){if(!j.started)return!1;t&&t!==!0||(t={trigger:!!t});var n=this.root+(e=this.getFragment(e||""));if(e=e.replace(N,""),this.fragment!==e){if(this.fragment=e,""===e&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),e.history=new j;var q=function(e,t){var n,i=this;n=e&&r.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},r.extend(n,i,t);var a=function(){this.constructor=n};return a.prototype=i.prototype,n.prototype=new a,e&&r.extend(n.prototype,e),n.__super__=i.prototype,n};h.extend=p.extend=T.extend=v.extend=j.extend=q;var V=function(){throw new Error('A "url" property or function must be specified')},H=function(e,t){var n=t.error;t.error=function(i){n&&n(e,i,t),e.trigger("error",e,i,t)}}}.call(this),function(e,t){"use strict";var n="",i="?",a="function",r="undefined",s="object",o="major",l="model",c="name",u="type",h="vendor",d="version",p="architecture",g="console",f="mobile",m="tablet",_={has:function(e,t){return-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()}},v={rgx:function(){for(var e,n,i,o,l,c,u,h=0,d=arguments;h<d.length;h+=2){var p=d[h],g=d[h+1];if(typeof e===r){e={};for(o in g)l=g[o],typeof l===s?e[l[0]]=t:e[l]=t}for(n=i=0;n<p.length;n++)if(c=p[n].exec(this.getUA())){for(o=0;o<g.length;o++)u=c[++i],l=g[o],typeof l===s&&l.length>0?2==l.length?e[l[0]]=typeof l[1]==a?l[1].call(this,u):l[1]:3==l.length?e[l[0]]=typeof l[1]!==a||l[1].exec&&l[1].test?u?u.replace(l[1],l[2]):t:u?l[1].call(this,u,l[2]):t:4==l.length&&(e[l[0]]=u?l[3].call(this,u.replace(l[1],l[2])):t):e[l]=u?u:t;break}if(c)break}return e},str:function(e,n){for(var a in n)if(typeof n[a]===s&&n[a].length>0){for(var r=0;r<n[a].length;r++)if(_.has(n[a][r],e))return a===i?t:a}else if(_.has(n[a],e))return a===i?t:a;return e}},b={browser:{oldsafari:{major:{1:["/8","/1","/3"],2:"/4","?":"/"},version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",RT:"ARM"}}}},w={browser:[[/(opera\smini)\/((\d+)?[\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/((\d+)?[\w\.-]+)/i,/(opera).+version\/((\d+)?[\w\.]+)/i,/(opera)[\/\s]+((\d+)?[\w\.]+)/i],[c,d,o],[/\s(opr)\/((\d+)?[\w\.]+)/i],[[c,"Opera"],d,o],[/(kindle)\/((\d+)?[\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?((\d+)?[\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?((\d+)?[\w\.]*)/i,/(?:ms|\()(ie)\s((\d+)?[\w\.]+)/i,/(rekonq)((?:\/)[\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron)\/((\d+)?[\w\.-]+)/i],[c,d,o],[/(trident).+rv[:\s]((\d+)?[\w\.]+).+like\sgecko/i],[[c,"IE"],d,o],[/(yabrowser)\/((\d+)?[\w\.]+)/i],[[c,"Yandex"],d,o],[/(comodo_dragon)\/((\d+)?[\w\.]+)/i],[[c,/_/g," "],d,o],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?((\d+)?[\w\.]+)/i],[c,d,o],[/(dolfin)\/((\d+)?[\w\.]+)/i],[[c,"Dolphin"],d,o],[/((?:android.+)crmo|crios)\/((\d+)?[\w\.]+)/i],[[c,"Chrome"],d,o],[/version\/((\d+)?[\w\.]+).+?mobile\/\w+\s(safari)/i],[d,o,[c,"Mobile Safari"]],[/version\/((\d+)?[\w\.]+).+?(mobile\s?safari|safari)/i],[d,o,c],[/webkit.+?(mobile\s?safari|safari)((\/[\w\.]+))/i],[c,[o,v.str,b.browser.oldsafari.major],[d,v.str,b.browser.oldsafari.version]],[/(konqueror)\/((\d+)?[\w\.]+)/i,/(webkit|khtml)\/((\d+)?[\w\.]+)/i],[c,d,o],[/(navigator|netscape)\/((\d+)?[\w\.-]+)/i],[[c,"Netscape"],d,o],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?((\d+)?[\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/((\d+)?[\w\.-]+)/i,/(mozilla)\/((\d+)?[\w\.]+).+rv\:.+gecko\/\d+/i,/(uc\s?browser|polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|qqbrowser)[\/\s]?((\d+)?[\w\.]+)/i,/(links)\s\(((\d+)?[\w\.]+)/i,/(gobrowser)\/?((\d+)?[\w\.]+)*/i,/(ice\s?browser)\/v?((\d+)?[\w\._]+)/i,/(mosaic)[\/\s]((\d+)?[\w\.]+)/i],[c,d,o]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[p,"amd64"]],[/((?:i[346]|x)86)[;\)]/i],[[p,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[p,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[p,/ower/,"",_.lowerize]],[/(sun4\w)[;\)]/i],[[p,"sparc"]],[/(ia64(?=;)|68k(?=\))|arm(?=v\d+;)|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[p,_.lowerize]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[l,h,[u,m]],[/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[h,l,[u,m]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[l,h,[u,f]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[h,l,[u,f]],[/\((bb10);\s(\w+)/i],[[h,"BlackBerry"],l,[u,f]],[/android.+((transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+))/i],[[h,"Asus"],l,[u,m]],[/(sony)\s(tablet\s[ps])/i],[h,l,[u,m]],[/(nintendo)\s([wids3u]+)/i],[h,l,[u,g]],[/((playstation)\s[3portablevi]+)/i],[[h,"Sony"],l,[u,g]],[/(sprint\s(\w+))/i],[[h,v.str,b.device.sprint.vendor],[l,v.str,b.device.sprint.model],[u,f]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[h,[l,/_/g," "],[u,f]],[/\s((milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?))[\w\s]+build\//i,/(mot)[\s-]?(\w+)*/i],[[h,"Motorola"],l,[u,f]],[/android.+\s((mz60\d|xoom[\s2]{0,2}))\sbuild\//i],[[h,"Motorola"],l,[u,m]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9))/i],[[h,"Samsung"],l,[u,m]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[h,"Samsung"],l,[u,f]],[/(sie)-(\w+)*/i],[[h,"Siemens"],l,[u,f]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[h,"Nokia"],l,[u,f]],[/android\s3\.[\s\w-;]{10}((a\d{3}))/i],[[h,"Acer"],l,[u,m]],[/android\s3\.[\s\w-;]{10}(lg?)-([06cv9]{3,4})/i],[[h,"LG"],l,[u,m]],[/((nexus\s4))/i,/((nexus\s5))/i,/(lg)[e;\s-\/]+(\w+)*/i],[[h,"LG"],l,[u,f]],[/android.+((IdeaTab[A-Za-z0-9\-\s]+))/i],[[h,"Lenovo"],l,[u,m]],[/(mobile|tablet);.+rv\:.+gecko\//i],[u,h,l]],engine:[[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[c,d],[/rv\:([\w\.]+).*(gecko)/i],[d,c]],os:[[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[c,[d,v.str,b.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[c,"Windows"],[d,v.str,b.os.windows.version]],[/\((bb)(10);/i],[[c,"BlackBerry"],d],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)\/([\w\.]+)/i,/(android|webos|palm\os|qnx|bada|rim\stablet\sos|meego)[\/\s-]?([\w\.]+)*/i],[c,d],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[c,"Symbian"],d],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[c,"Firefox OS"],d],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[c,d],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[c,"Chromium OS"],d],[/(sunos)\s?([\w\.]+\d)*/i],[[c,"Solaris"],d],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[c,d],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[c,"iOS"],[d,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i],[c,[d,/_/g,"."]],[/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(macintosh|mac(?=_powerpc)|plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos)/i,/(unix)\s?([\w\.]+)*/i],[c,d]]},y=function(t){var i=t||(e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:n);return this instanceof y?(this.getBrowser=function(){return v.rgx.apply(this,w.browser)},this.getCPU=function(){return v.rgx.apply(this,w.cpu)},this.getDevice=function(){return v.rgx.apply(this,w.device)},this.getEngine=function(){return v.rgx.apply(this,w.engine)},this.getOS=function(){return v.rgx.apply(this,w.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=e,this},this.setUA(i),void 0):new y(t).getResult()};if(typeof exports!==r)typeof module!==r&&module.exports&&(exports=module.exports=y),exports.UAParser=y;else if(e.UAParser=y,typeof define===a&&define.amd&&define(function(){return y}),typeof e.jQuery!==r){var x=e.jQuery,T=new y;x.ua=T.getResult(),x.ua.get=function(){return T.getUA()},x.ua.set=function(e){T.setUA(e);var t=T.getResult();for(var n in t)x.ua[n]=t[n]}}}(this),Backbone.View.prototype.remove=function(){return _.each(this,function(e){e instanceof Backbone.View&&e.remove()}),this.$el.remove(),this.stopListening(),this};var routeStripper=/^[#\/]|\s+$/g,rootStripper=/^\/+|\/+$/g,isExplorer=/msie [\w.]+/,trailingSlash=/\/$/,pathStripper=/[?#].*$/,History=Backbone.History;Backbone.History.prototype.start=function(e){if(History.started)throw new Error("Backbone.history has already been started");History.started=!0,this.options=_.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var t=this.getFragment(),n=document.documentMode,i=isExplorer.exec(navigator.userAgent.toLowerCase())&&(!n||7>=n);this.root=("/"+this.root+"/").replace(rootStripper,"/"),i&&this._wantsHashChange&&(this.iframe=Backbone.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?Backbone.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!i?Backbone.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t,this.search=this.location.search;var a=this.location,r=a.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!r)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._hasPushState&&r&&a.hash&&(this.fragment=this.getHash().replace(routeStripper,""),this.history.replaceState({},document.title,this.root+this.fragment+a.search))}return this.options.silent?void 0:this.loadUrl()},Backbone.History.prototype.checkUrl=function(){var e=this.getFragment(),t=this.location.search;return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment&&t===this.search?!1:(this.iframe&&this.navigate(e),this.loadUrl(),void 0)},Backbone.History.prototype.loadUrl=function(e){return e=this.fragment=this.getFragment(e),this.search=this.location.search,_.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0})},Backbone.History.prototype.navigate=function(e,t){if(!History.started)return!1;t&&t!==!0||(t={trigger:!!t});var n=this.root+(e=this.getFragment(e||""));e=e.replace(pathStripper,"");var i=n.replace(/^.*\?/,"?");if(this.fragment!==e||this.search!==i){if(this.fragment=e,this.search=i,""===e&&"/"!==n&&"/"===n.charAt(n.length-1)&&(n=n.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):void 0}},Backbone.history=new History,function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(e){return o.raw?e:encodeURIComponent(e)}function n(e){return o.raw?e:decodeURIComponent(e)}function i(e){return t(o.json?JSON.stringify(e):String(e))}function a(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(s," ")),o.json?JSON.parse(e):e}catch(t){}}function r(t,n){var i=o.raw?t:a(t);return e.isFunction(n)?n(i):i}var s=/\+/g,o=e.cookie=function(a,s,l){if(void 0!==s&&!e.isFunction(s)){if(l=e.extend({},o.defaults,l),"number"==typeof l.expires){var c=l.expires,u=l.expires=new Date;u.setDate(u.getDate()+c)}return document.cookie=[t(a),"=",i(s),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var h=a?void 0:{},d=document.cookie?document.cookie.split("; "):[],p=0,g=d.length;g>p;p++){var f=d[p].split("="),m=n(f.shift()),_=f.join("=");if(a&&a===m){h=r(_,s);break}a||void 0===(_=r(_))||(h[m]=_)}return h};o.defaults={},e.removeCookie=function(t,n){return void 0===e.cookie(t)?!1:(e.cookie(t,"",e.extend({},n,{expires:-1})),!e.cookie(t))}}),function(e){e.deparam=function(t,n){var i={},a={"true":!0,"false":!1,"null":null};return e.each(t.replace(/\+/g," ").split("&"),function(t,r){var s,o=r.split("="),l=decodeURIComponent(o[0]),c=i,u=0,h=l.split("]["),d=h.length-1;if(/\[/.test(h[0])&&/\]$/.test(h[d])?(h[d]=h[d].replace(/\]$/,""),h=h.shift().split("[").concat(h),d=h.length-1):d=0,2===o.length)if(o=decodeURIComponent(o[1]),n&&(o=o&&!isNaN(o)?+o:"undefined"===o?void 0:void 0!==a[o]?a[o]:o),d)for(;d>=u;u++)l=""===h[u]?c.length:h[u],s=c[l]=d>u?c[l]||(h[u+1]&&isNaN(h[u+1])?{}:[]):o,c=s;else e.isArray(i[l])?i[l].push(o):i[l]=void 0!==i[l]?[i[l],o]:o;else l&&(i[l]=n?void 0:"")}),i}}(jQuery),function(e){var t,n={className:"autosizejs",id:"autosizejs",append:"",callback:!1,resizeDelay:10,placeholder:!0},i='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>',a=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],r=e(i).data("autosize",!0)[0];r.style.lineHeight="99px","99px"===e(r).css("lineHeight")&&a.push("lineHeight"),r.style.lineHeight="",e.fn.autosize=function(i){return this.length?(i=e.extend({},n,i||{}),r.parentNode!==document.body&&e(document.body).append(r),this.each(function(){function n(){var t,n=window.getComputedStyle?window.getComputedStyle(d,null):!1;n?(t=d.getBoundingClientRect().width,0===t&&(t=parseInt(n.width,10)),e.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(e,i){t-=parseInt(n[i],10)})):t=Math.max(p.width(),0),r.style.width=t+"px"}function s(){var s={};if(t=d,r.className=i.className,r.id=i.id,c=parseInt(p.css("maxHeight"),10),e.each(a,function(e,t){s[t]=p.css(t)}),e(r).css(s).attr("wrap",p.attr("wrap")),n(),window.chrome){var o=d.style.width;d.style.width="0px";{d.offsetWidth}d.style.width=o}}function o(){var e,a;t!==d?s():n(),r.value=!d.value&&i.placeholder?(p.attr("placeholder")||"")+i.append:d.value+i.append,r.style.overflowY=d.style.overflowY,a=parseInt(d.style.height,10),r.scrollTop=0,r.scrollTop=9e4,e=r.scrollTop,c&&e>c?(d.style.overflowY="scroll",e=c):(d.style.overflowY="hidden",u>e&&(e=u)),e+=g,a!==e&&(d.style.height=e+"px",f&&i.callback.call(d,d))}function l(){clearTimeout(h),h=setTimeout(function(){var e=p.width();e!==_&&(_=e,o())},parseInt(i.resizeDelay,10))}var c,u,h,d=this,p=e(d),g=0,f=e.isFunction(i.callback),m={height:d.style.height,overflow:d.style.overflow,overflowY:d.style.overflowY,wordWrap:d.style.wordWrap,resize:d.style.resize},_=p.width();p.data("autosize")||(p.data("autosize",!0),("border-box"===p.css("box-sizing")||"border-box"===p.css("-moz-box-sizing")||"border-box"===p.css("-webkit-box-sizing"))&&(g=p.outerHeight()-p.height()),u=Math.max(parseInt(p.css("minHeight"),10)-g||0,p.height()),p.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word",resize:"none"===p.css("resize")||"vertical"===p.css("resize")?"none":"horizontal"}),"onpropertychange"in d?"oninput"in d?p.on("input.autosize keyup.autosize",o):p.on("propertychange.autosize",function(){"value"===event.propertyName&&o()}):p.on("input.autosize",o),i.resizeDelay!==!1&&e(window).on("resize.autosize",l),p.on("autosize.resize",o),p.on("autosize.resizeIncludeStyle",function(){t=null,o()}),p.on("autosize.destroy",function(){t=null,clearTimeout(h),e(window).off("resize",l),p.off("autosize").off(".autosize").css(m).removeData("autosize")}),o())})):this}}(window.jQuery||window.$),function(e){function t(e,t){return function(n){return l(e.call(this,n),t)}}function n(e,t){return function(n){return this.lang().ordinal(e.call(this,n),t)}}function i(){}function a(e){w(e),s(this,e)}function r(e){var t=g(e),n=t.year||0,i=t.month||0,a=t.week||0,r=t.day||0,s=t.hour||0,o=t.minute||0,l=t.second||0,c=t.millisecond||0;this._input=e,this._milliseconds=+c+1e3*l+6e4*o+36e5*s,this._days=+r+7*a,this._months=+i+12*n,this._data={},this._bubble()}function s(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return t.hasOwnProperty("toString")&&(e.toString=t.toString),t.hasOwnProperty("valueOf")&&(e.valueOf=t.valueOf),e}function o(e){return 0>e?Math.ceil(e):Math.floor(e)}function l(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n}function c(e,t,n,i){var a,r,s=t._milliseconds,o=t._days,l=t._months;s&&e._d.setTime(+e._d+s*n),(o||l)&&(a=e.minute(),r=e.hour()),o&&e.date(e.date()+o*n),l&&e.month(e.month()+l*n),s&&!i&&tt.updateOffset(e),(o||l)&&(e.minute(a),e.hour(r))}function u(e){return"[object Array]"===Object.prototype.toString.call(e)}function h(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function d(e,t,n){var i,a=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),s=0;for(i=0;a>i;i++)(n&&e[i]!==t[i]||!n&&m(e[i])!==m(t[i]))&&s++;return s+r}function p(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=Ht[e]||$t[t]||t}return e}function g(e){var t,n,i={};for(n in e)e.hasOwnProperty(n)&&(t=p(n),t&&(i[t]=e[n]));return i}function f(t){var n,i;if(0===t.indexOf("week"))n=7,i="day";else{if(0!==t.indexOf("month"))return;n=12,i="month"}tt[t]=function(a,r){var s,o,l=tt.fn._lang[t],c=[];if("number"==typeof a&&(r=a,a=e),o=function(e){var t=tt().utc().set(i,e);return l.call(tt.fn._lang,t,a||"")},null!=r)return o(r);for(s=0;n>s;s++)c.push(o(s));return c}}function m(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function _(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function v(e){return b(e)?366:365}function b(e){return 0===e%4&&0!==e%100||0===e%400}function w(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[st]<0||e._a[st]>11?st:e._a[ot]<1||e._a[ot]>_(e._a[rt],e._a[st])?ot:e._a[lt]<0||e._a[lt]>23?lt:e._a[ct]<0||e._a[ct]>59?ct:e._a[ut]<0||e._a[ut]>59?ut:e._a[ht]<0||e._a[ht]>999?ht:-1,e._pf._overflowDayOfYear&&(rt>t||t>ot)&&(t=ot),e._pf.overflow=t)}function y(e){e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function x(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length)),e._isValid}function T(e){return e?e.toLowerCase().replace("_","-"):e}function k(e,t){return t.abbr=e,dt[e]||(dt[e]=new i),dt[e].set(t),dt[e]}function S(e){delete dt[e]}function C(e){var t,n,i,a,r=0,s=function(e){if(!dt[e]&&pt)try{require("./lang/"+e)}catch(t){}return dt[e]};if(!e)return tt.fn._lang;if(!u(e)){if(n=s(e))return n;e=[e]}for(;r<e.length;){for(a=T(e[r]).split("-"),t=a.length,i=T(e[r+1]),i=i?i.split("-"):null;t>0;){if(n=s(a.slice(0,t).join("-")))return n;if(i&&i.length>=t&&d(a,i,!0)>=t-1)break;t--}r++}return tt.fn._lang}function F(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function j(e){var t,n,i=e.match(_t);for(t=0,n=i.length;n>t;t++)i[t]=It[i[t]]?It[i[t]]:F(i[t]);return function(a){var r="";for(t=0;n>t;t++)r+=i[t]instanceof Function?i[t].call(a,e):i[t];return r}}function L(e,t){return e.isValid()?(t=A(t,e.lang()),Dt[t]||(Dt[t]=j(t)),Dt[t](e)):e.lang().invalidDate()}function A(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(vt.lastIndex=0;i>=0&&vt.test(e);)e=e.replace(vt,n),vt.lastIndex=0,i-=1;return e}function E(e,t){var n;switch(e){case"DDDD":return yt;case"YYYY":case"GGGG":case"gggg":return xt;case"YYYYY":case"GGGGG":case"ggggg":return Tt;case"S":case"SS":case"SSS":case"DDD":return wt;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return St;case"a":case"A":return C(t._l)._meridiemParse;case"X":return jt;case"Z":case"ZZ":return Ct;case"T":return Ft;case"SSSS":return kt;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"ww":case"W":case"WW":case"e":case"E":return bt;default:return n=new RegExp(P(D(e.replace("\\","")),"i"))}}function M(e){var t=(Ct.exec(e)||[])[0],n=(t+"").match(Nt)||["-",0,0],i=+(60*n[1])+m(n[2]);return"+"===n[0]?-i:i}function N(e,t,n){var i,a=n._a;switch(e){case"M":case"MM":null!=t&&(a[st]=m(t)-1);break;case"MMM":case"MMMM":i=C(n._l).monthsParse(t),null!=i?a[st]=i:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(a[ot]=m(t));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=m(t));break;case"YY":a[rt]=m(t)+(m(t)>68?1900:2e3);break;case"YYYY":case"YYYYY":a[rt]=m(t);break;case"a":case"A":n._isPm=C(n._l).isPM(t);break;case"H":case"HH":case"h":case"hh":a[lt]=m(t);break;case"m":case"mm":a[ct]=m(t);break;case"s":case"ss":a[ut]=m(t);break;case"S":case"SS":case"SSS":case"SSSS":a[ht]=m(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=M(t);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":e=e.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=t)}}function q(e){var t,n,i,a,r,s,o,l,c,u,h=[];if(!e._d){for(i=H(e),e._w&&null==e._a[ot]&&null==e._a[st]&&(r=function(t){return t?t.length<3?parseInt(t,10)>68?"19"+t:"20"+t:t:null==e._a[rt]?tt().weekYear():e._a[rt]},s=e._w,null!=s.GG||null!=s.W||null!=s.E?o=G(r(s.GG),s.W||1,s.E,4,1):(l=C(e._l),c=null!=s.d?B(s.d,l):null!=s.e?parseInt(s.e,10)+l._week.dow:0,u=parseInt(s.w,10)||1,null!=s.d&&c<l._week.dow&&u++,o=G(r(s.gg),u,c,l._week.doy,l._week.dow)),e._a[rt]=o.year,e._dayOfYear=o.dayOfYear),e._dayOfYear&&(a=null==e._a[rt]?i[rt]:e._a[rt],e._dayOfYear>v(a)&&(e._pf._overflowDayOfYear=!0),n=Y(a,0,e._dayOfYear),e._a[st]=n.getUTCMonth(),e._a[ot]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=h[t]=i[t];for(;7>t;t++)e._a[t]=h[t]=null==e._a[t]?2===t?1:0:e._a[t];h[lt]+=m((e._tzm||0)/60),h[ct]+=m((e._tzm||0)%60),e._d=(e._useUTC?Y:U).apply(null,h)}}function V(e){var t;e._d||(t=g(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],q(e))}function H(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function $(e){e._a=[],e._pf.empty=!0;var t,n,i,a,r,s=C(e._l),o=""+e._i,l=o.length,c=0;for(i=A(e._f,s).match(_t)||[],t=0;t<i.length;t++)a=i[t],n=(E(a,e).exec(o)||[])[0],n&&(r=o.substr(0,o.indexOf(n)),r.length>0&&e._pf.unusedInput.push(r),o=o.slice(o.indexOf(n)+n.length),c+=n.length),It[a]?(n?e._pf.empty=!1:e._pf.unusedTokens.push(a),N(a,n,e)):e._strict&&!n&&e._pf.unusedTokens.push(a);e._pf.charsLeftOver=l-c,o.length>0&&e._pf.unusedInput.push(o),e._isPm&&e._a[lt]<12&&(e._a[lt]+=12),e._isPm===!1&&12===e._a[lt]&&(e._a[lt]=0),q(e),w(e)}function D(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,a){return t||n||i||a})}function P(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function J(e){var t,n,i,a,r;if(0===e._f.length)return e._pf.invalidFormat=!0,e._d=new Date(0/0),void 0;for(a=0;a<e._f.length;a++)r=0,t=s({},e),y(t),t._f=e._f[a],$(t),x(t)&&(r+=t._pf.charsLeftOver,r+=10*t._pf.unusedTokens.length,t._pf.score=r,(null==i||i>r)&&(i=r,n=t));s(e,n||t)}function I(e){var t,n=e._i,i=Lt.exec(n);if(i){for(e._pf.iso=!0,t=4;t>0;t--)if(i[t]){e._f=Et[t-1]+(i[6]||" ");break}for(t=0;4>t;t++)if(Mt[t][1].exec(n)){e._f+=Mt[t][0];break}Ct.exec(n)&&(e._f+="Z"),$(e)}else e._d=new Date(n)}function z(t){var n=t._i,i=gt.exec(n);n===e?t._d=new Date:i?t._d=new Date(+i[1]):"string"==typeof n?I(t):u(n)?(t._a=n.slice(0),q(t)):h(n)?t._d=new Date(+n):"object"==typeof n?V(t):t._d=new Date(n)}function U(e,t,n,i,a,r,s){var o=new Date(e,t,n,i,a,r,s);return 1970>e&&o.setFullYear(e),o}function Y(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function B(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function O(e,t,n,i,a){return a.relativeTime(t||1,!!n,e,i)}function W(e,t,n){var i=at(Math.abs(e)/1e3),a=at(i/60),r=at(a/60),s=at(r/24),o=at(s/365),l=45>i&&["s",i]||1===a&&["m"]||45>a&&["mm",a]||1===r&&["h"]||22>r&&["hh",r]||1===s&&["d"]||25>=s&&["dd",s]||45>=s&&["M"]||345>s&&["MM",at(s/30)]||1===o&&["y"]||["yy",o];return l[2]=t,l[3]=e>0,l[4]=n,O.apply({},l)}function R(e,t,n){var i,a=n-t,r=n-e.day();return r>a&&(r-=7),a-7>r&&(r+=7),i=tt(e).add("d",r),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function G(e,t,n,i,a){var r,s,o=new Date(Date.UTC(e,0)).getUTCDay();return n=null!=n?n:a,r=a-o+(o>i?7:0),s=7*(t-1)+(n-a)+r+1,{year:s>0?e:e-1,dayOfYear:s>0?s:v(e-1)+s}}function X(e){var t=e._i,n=e._f;return"undefined"==typeof e._pf&&y(e),null===t?tt.invalid({nullInput:!0}):("string"==typeof t&&(e._i=t=C().preparse(t)),tt.isMoment(t)?(e=s({},t),e._d=new Date(+t._d)):n?u(n)?J(e):$(e):z(e),new a(e))}function Z(e,t){tt.fn[e]=tt.fn[e+"s"]=function(e){var n=this._isUTC?"UTC":"";return null!=e?(this._d["set"+n+t](e),tt.updateOffset(this),this):this._d["get"+n+t]()}}function Q(e){tt.duration.fn[e]=function(){return this._data[e]}}function K(e,t){tt.duration.fn["as"+e]=function(){return+this/t}}function et(e){var t=!1,n=tt;"undefined"==typeof ender&&(this.moment=e?function(){return!t&&console&&console.warn&&(t=!0,console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")),n.apply(null,arguments)}:tt)}for(var tt,nt,it="2.4.0",at=Math.round,rt=0,st=1,ot=2,lt=3,ct=4,ut=5,ht=6,dt={},pt="undefined"!=typeof module&&module.exports,gt=/^\/?Date\((\-?\d+)/i,ft=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,mt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,_t=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,vt=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,bt=/\d\d?/,wt=/\d{1,3}/,yt=/\d{3}/,xt=/\d{1,4}/,Tt=/[+\-]?\d{1,6}/,kt=/\d+/,St=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ct=/Z|[\+\-]\d\d:?\d\d/i,Ft=/T/i,jt=/[\+\-]?\d+(\.\d{1,3})?/,Lt=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d:?\d\d|Z)?)?$/,At="YYYY-MM-DDTHH:mm:ssZ",Et=["YYYY-MM-DD","GGGG-[W]WW","GGGG-[W]WW-E","YYYY-DDD"],Mt=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Nt=/([\+\-]|\d\d)/gi,qt="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),Vt={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},Ht={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},$t={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},Dt={},Pt="DDD w W M D d".split(" "),Jt="M D H h m s w W".split(" "),It={M:function(){return this.month()+1
},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return l(this.year()%100,2)},YYYY:function(){return l(this.year(),4)},YYYYY:function(){return l(this.year(),5)},gg:function(){return l(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return l(this.weekYear(),5)},GG:function(){return l(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return l(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return m(this.milliseconds()/100)},SS:function(){return l(m(this.milliseconds()/10),2)},SSS:function(){return l(this.milliseconds(),3)},SSSS:function(){return l(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+l(m(e/60),2)+":"+l(m(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+l(m(10*e/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}},zt=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];Pt.length;)nt=Pt.pop(),It[nt+"o"]=n(It[nt],nt);for(;Jt.length;)nt=Jt.pop(),It[nt+nt]=t(It[nt],2);for(It.DDDD=t(It.DDD,3),s(i.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n,i;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(n=tt.utc([2e3,t]),i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(i.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=tt([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,i){var a=this._relativeTime[n];return"function"==typeof a?a(e,t,n,i):a.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return R(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),tt=function(t,n,i,a){return"boolean"==typeof i&&(a=i,i=e),X({_i:t,_f:n,_l:i,_strict:a,_isUTC:!1})},tt.utc=function(t,n,i,a){var r;return"boolean"==typeof i&&(a=i,i=e),r=X({_useUTC:!0,_isUTC:!0,_l:i,_i:t,_f:n,_strict:a}).utc()},tt.unix=function(e){return tt(1e3*e)},tt.duration=function(e,t){var n,i,a,s=tt.isDuration(e),o="number"==typeof e,l=s?e._input:o?{}:e,c=null;return o?t?l[t]=e:l.milliseconds=e:(c=ft.exec(e))?(n="-"===c[1]?-1:1,l={y:0,d:m(c[ot])*n,h:m(c[lt])*n,m:m(c[ct])*n,s:m(c[ut])*n,ms:m(c[ht])*n}):(c=mt.exec(e))&&(n="-"===c[1]?-1:1,a=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*n},l={y:a(c[2]),M:a(c[3]),d:a(c[4]),h:a(c[5]),m:a(c[6]),s:a(c[7]),w:a(c[8])}),i=new r(l),s&&e.hasOwnProperty("_lang")&&(i._lang=e._lang),i},tt.version=it,tt.defaultFormat=At,tt.updateOffset=function(){},tt.lang=function(e,t){var n;return e?(t?k(T(e),t):null===t?(S(e),e="en"):dt[e]||C(e),n=tt.duration.fn._lang=tt.fn._lang=C(e),n._abbr):tt.fn._lang._abbr},tt.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),C(e)},tt.isMoment=function(e){return e instanceof a},tt.isDuration=function(e){return e instanceof r},nt=zt.length-1;nt>=0;--nt)f(zt[nt]);for(tt.normalizeUnits=function(e){return p(e)},tt.invalid=function(e){var t=tt.utc(0/0);return null!=e?s(t._pf,e):t._pf.userInvalidated=!0,t},tt.parseZone=function(e){return tt(e).parseZone()},s(tt.fn=a.prototype,{clone:function(){return tt(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return L(tt(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return x(this)},isDSTShifted:function(){return this._a?this.isValid()&&d(this._a,(this._isUTC?tt.utc(this._a):tt(this._a)).toArray())>0:!1},parsingFlags:function(){return s({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var t=L(this,e||tt.defaultFormat);return this.lang().postformat(t)},add:function(e,t){var n;return n="string"==typeof e?tt.duration(+t,e):tt.duration(e,t),c(this,n,1),this},subtract:function(e,t){var n;return n="string"==typeof e?tt.duration(+t,e):tt.duration(e,t),c(this,n,-1),this},diff:function(e,t,n){var i,a,r=this._isUTC?tt(e).zone(this._offset||0):tt(e).local(),s=6e4*(this.zone()-r.zone());return t=p(t),"year"===t||"month"===t?(i=432e5*(this.daysInMonth()+r.daysInMonth()),a=12*(this.year()-r.year())+(this.month()-r.month()),a+=(this-tt(this).startOf("month")-(r-tt(r).startOf("month")))/i,a-=6e4*(this.zone()-tt(this).startOf("month").zone()-(r.zone()-tt(r).startOf("month").zone()))/i,"year"===t&&(a/=12)):(i=this-r,a="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-s)/864e5:"week"===t?(i-s)/6048e5:i),n?a:o(a)},from:function(e,t){return tt.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},fromNow:function(e){return this.from(tt(),e)},calendar:function(){var e=this.diff(tt().zone(this.zone()).startOf("day"),"days",!0),t=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse";return this.format(this.lang().calendar(t,this))},isLeapYear:function(){return b(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=B(e,this.lang()),this.add({d:e-t})):t},month:function(e){var t,n=this._isUTC?"UTC":"";return null!=e?"string"==typeof e&&(e=this.lang().monthsParse(e),"number"!=typeof e)?this:(t=this.date(),this.date(1),this._d["set"+n+"Month"](e),this.date(Math.min(t,this.daysInMonth())),tt.updateOffset(this),this):this._d["get"+n+"Month"]()},startOf:function(e){switch(e=p(e)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),this},endOf:function(e){return e=p(e),this.startOf(e).add("isoWeek"===e?"week":e,1).subtract("ms",1)},isAfter:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)>+tt(e).startOf(t)},isBefore:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)<+tt(e).startOf(t)},isSame:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)===+tt(e).startOf(t)},min:function(e){return e=tt.apply(null,arguments),this>e?this:e},max:function(e){return e=tt.apply(null,arguments),e>this?this:e},zone:function(e){var t=this._offset||0;return null==e?this._isUTC?t:this._d.getTimezoneOffset():("string"==typeof e&&(e=M(e)),Math.abs(e)<16&&(e=60*e),this._offset=e,this._isUTC=!0,t!==e&&c(this,tt.duration(t-e,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?tt(e).zone():0,0===(this.zone()-e)%60},daysInMonth:function(){return _(this.year(),this.month())},dayOfYear:function(e){var t=at((tt(this).startOf("day")-tt(this).startOf("year"))/864e5)+1;return null==e?t:this.add("d",e-t)},weekYear:function(e){var t=R(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==e?t:this.add("y",e-t)},isoWeekYear:function(e){var t=R(this,1,4).year;return null==e?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},isoWeek:function(e){var t=R(this,1,4).week;return null==e?t:this.add("d",7*(e-t))},weekday:function(e){var t=(this.day()+7-this.lang()._week.dow)%7;return null==e?t:this.add("d",e-t)},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},get:function(e){return e=p(e),this[e]()},set:function(e,t){return e=p(e),"function"==typeof this[e]&&this[e](t),this},lang:function(t){return t===e?this._lang:(this._lang=C(t),this)}}),nt=0;nt<qt.length;nt++)Z(qt[nt].toLowerCase().replace(/s$/,""),qt[nt]);Z("year","FullYear"),tt.fn.days=tt.fn.day,tt.fn.months=tt.fn.month,tt.fn.weeks=tt.fn.week,tt.fn.isoWeeks=tt.fn.isoWeek,tt.fn.toJSON=tt.fn.toISOString,s(tt.duration.fn=r.prototype,{_bubble:function(){var e,t,n,i,a=this._milliseconds,r=this._days,s=this._months,l=this._data;l.milliseconds=a%1e3,e=o(a/1e3),l.seconds=e%60,t=o(e/60),l.minutes=t%60,n=o(t/60),l.hours=n%24,r+=o(n/24),l.days=r%30,s+=o(r/30),l.months=s%12,i=o(s/12),l.years=i},weeks:function(){return o(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*m(this._months/12)},humanize:function(e){var t=+this,n=W(t,!e,this.lang());return e&&(n=this.lang().pastFuture(t,n)),this.lang().postformat(n)},add:function(e,t){var n=tt.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=tt.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=p(e),this[e.toLowerCase()+"s"]()},as:function(e){return e=p(e),this["as"+e.charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:tt.fn.lang,toIsoString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),i=Math.abs(this.hours()),a=Math.abs(this.minutes()),r=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(i||a||r?"T":"")+(i?i+"H":"")+(a?a+"M":"")+(r?r+"S":""):"P0D"}});for(nt in Vt)Vt.hasOwnProperty(nt)&&(K(nt,Vt[nt]),Q(nt.toLowerCase()));K("Weeks",6048e5),tt.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},tt.lang("en",{ordinal:function(e){var t=e%10,n=1===m(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),pt?(module.exports=tt,et(!0)):"function"==typeof define&&define.amd?define("moment",function(t,n,i){return i.config().noGlobal!==!0&&et(i.config().noGlobal===e),tt}):et()}.call(this),function(e){e.flexslider=function(t,n){var i=e(t);i.vars=e.extend({},e.flexslider.defaults,n);var a,r=i.vars.namespace,s=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,o=("ontouchstart"in window||s||window.DocumentTouch&&document instanceof DocumentTouch)&&i.vars.touch,l="click touchend MSPointerUp",c="",u="vertical"===i.vars.direction,h=i.vars.reverse,d=i.vars.itemWidth>0,p="fade"===i.vars.animation,g=""!==i.vars.asNavFor,f={},m=!0;e.data(t,"flexslider",i),f={init:function(){i.animating=!1,i.currentSlide=parseInt(i.vars.startAt?i.vars.startAt:0,10),isNaN(i.currentSlide)&&(i.currentSlide=0),i.animatingTo=i.currentSlide,i.atEnd=0===i.currentSlide||i.currentSlide===i.last,i.containerSelector=i.vars.selector.substr(0,i.vars.selector.search(" ")),i.slides=e(i.vars.selector,i),i.container=e(i.containerSelector,i),i.count=i.slides.length,i.syncExists=e(i.vars.sync).length>0,"slide"===i.vars.animation&&(i.vars.animation="swing"),i.prop=u?"top":"marginLeft",i.args={},i.manualPause=!1,i.stopped=!1,i.started=!1,i.startTimeout=null,i.transitions=!i.vars.video&&!p&&i.vars.useCSS&&function(){var e=document.createElement("div"),t=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var n in t)if(void 0!==e.style[t[n]])return i.pfx=t[n].replace("Perspective","").toLowerCase(),i.prop="-"+i.pfx+"-transform",!0;return!1}(),""!==i.vars.controlsContainer&&(i.controlsContainer=e(i.vars.controlsContainer).length>0&&e(i.vars.controlsContainer)),""!==i.vars.manualControls&&(i.manualControls=e(i.vars.manualControls).length>0&&e(i.vars.manualControls)),i.vars.randomize&&(i.slides.sort(function(){return Math.round(Math.random())-.5}),i.container.empty().append(i.slides)),i.doMath(),i.setup("init"),i.vars.controlNav&&f.controlNav.setup(),i.vars.directionNav&&f.directionNav.setup(),i.vars.keyboard&&(1===e(i.containerSelector).length||i.vars.multipleKeyboard)&&e(document).bind("keyup",function(e){var t=e.keyCode;if(!i.animating&&(39===t||37===t)){var n=39===t?i.getTarget("next"):37===t?i.getTarget("prev"):!1;i.flexAnimate(n,i.vars.pauseOnAction)}}),i.vars.mousewheel&&i.bind("mousewheel",function(e,t){e.preventDefault();var n=0>t?i.getTarget("next"):i.getTarget("prev");i.flexAnimate(n,i.vars.pauseOnAction)}),i.vars.pausePlay&&f.pausePlay.setup(),i.vars.slideshow&&i.vars.pauseInvisible&&f.pauseInvisible.init(),i.vars.slideshow&&(i.vars.pauseOnHover&&i.hover(function(){i.manualPlay||i.manualPause||i.pause()},function(){i.manualPause||i.manualPlay||i.stopped||i.play()}),i.vars.pauseInvisible&&f.pauseInvisible.isHidden()||(i.vars.initDelay>0?i.startTimeout=setTimeout(i.play,i.vars.initDelay):i.play())),g&&f.asNav.setup(),o&&i.vars.touch&&f.touch(),(!p||p&&i.vars.smoothHeight)&&e(window).bind("resize orientationchange focus",f.resize),i.find("img").attr("draggable","false"),setTimeout(function(){i.vars.start(i)},200)},asNav:{setup:function(){i.asNav=!0,i.animatingTo=Math.floor(i.currentSlide/i.move),i.currentItem=i.currentSlide,i.slides.removeClass(r+"active-slide").eq(i.currentItem).addClass(r+"active-slide"),s?(t._slider=i,i.slides.each(function(){var t=this;t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",function(e){e.preventDefault(),e.currentTarget._gesture&&e.currentTarget._gesture.addPointer(e.pointerId)},!1),t.addEventListener("MSGestureTap",function(t){t.preventDefault();var n=e(this),a=n.index();e(i.vars.asNavFor).data("flexslider").animating||n.hasClass("active")||(i.direction=i.currentItem<a?"next":"prev",i.flexAnimate(a,i.vars.pauseOnAction,!1,!0,!0))})})):i.slides.on(l,function(t){t.preventDefault();var n=e(this),a=n.index(),s=n.offset().left-e(i).scrollLeft();0>=s&&n.hasClass(r+"active-slide")?i.flexAnimate(i.getTarget("prev"),!0):e(i.vars.asNavFor).data("flexslider").animating||n.hasClass(r+"active-slide")||(i.direction=i.currentItem<a?"next":"prev",i.flexAnimate(a,i.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){i.manualControls?f.controlNav.setupManual():f.controlNav.setupPaging()},setupPaging:function(){var t,n,a="thumbnails"===i.vars.controlNav?"control-thumbs":"control-paging",s=1;if(i.controlNavScaffold=e('<ol class="'+r+"control-nav "+r+a+'"></ol>'),i.pagingCount>1)for(var o=0;o<i.pagingCount;o++){if(n=i.slides.eq(o),t="thumbnails"===i.vars.controlNav?'<img src="'+n.attr("data-thumb")+'"/>':"<a>"+s+"</a>","thumbnails"===i.vars.controlNav&&!0===i.vars.thumbCaptions){var u=n.attr("data-thumbcaption");""!=u&&void 0!=u&&(t+='<span class="'+r+'caption">'+u+"</span>")}i.controlNavScaffold.append("<li>"+t+"</li>"),s++}i.controlsContainer?e(i.controlsContainer).append(i.controlNavScaffold):i.append(i.controlNavScaffold),f.controlNav.set(),f.controlNav.active(),i.controlNavScaffold.delegate("a, img",l,function(t){if(t.preventDefault(),""===c||c===t.type){var n=e(this),a=i.controlNav.index(n);n.hasClass(r+"active")||(i.direction=a>i.currentSlide?"next":"prev",i.flexAnimate(a,i.vars.pauseOnAction))}""===c&&(c=t.type),f.setToClearWatchedEvent()})},setupManual:function(){i.controlNav=i.manualControls,f.controlNav.active(),i.controlNav.bind(l,function(t){if(t.preventDefault(),""===c||c===t.type){var n=e(this),a=i.controlNav.index(n);n.hasClass(r+"active")||(i.direction=a>i.currentSlide?"next":"prev",i.flexAnimate(a,i.vars.pauseOnAction))}""===c&&(c=t.type),f.setToClearWatchedEvent()})},set:function(){var t="thumbnails"===i.vars.controlNav?"img":"a";i.controlNav=e("."+r+"control-nav li "+t,i.controlsContainer?i.controlsContainer:i)},active:function(){i.controlNav.removeClass(r+"active").eq(i.animatingTo).addClass(r+"active")},update:function(t,n){i.pagingCount>1&&"add"===t?i.controlNavScaffold.append(e("<li><a>"+i.count+"</a></li>")):1===i.pagingCount?i.controlNavScaffold.find("li").remove():i.controlNav.eq(n).closest("li").remove(),f.controlNav.set(),i.pagingCount>1&&i.pagingCount!==i.controlNav.length?i.update(n,t):f.controlNav.active()}},directionNav:{setup:function(){var t=e('<ul class="'+r+'direction-nav"><li><a class="'+r+'prev" href="#">'+i.vars.prevText+'</a></li><li><a class="'+r+'next" href="#">'+i.vars.nextText+"</a></li></ul>");i.controlsContainer?(e(i.controlsContainer).append(t),i.directionNav=e("."+r+"direction-nav li a",i.controlsContainer)):(i.append(t),i.directionNav=e("."+r+"direction-nav li a",i)),f.directionNav.update(),i.directionNav.bind(l,function(t){t.preventDefault();var n;(""===c||c===t.type)&&(n=e(this).hasClass(r+"next")?i.getTarget("next"):i.getTarget("prev"),i.flexAnimate(n,i.vars.pauseOnAction)),""===c&&(c=t.type),f.setToClearWatchedEvent()})},update:function(){var e=r+"disabled";1===i.pagingCount?i.directionNav.addClass(e).attr("tabindex","-1"):i.vars.animationLoop?i.directionNav.removeClass(e).removeAttr("tabindex"):0===i.animatingTo?i.directionNav.removeClass(e).filter("."+r+"prev").addClass(e).attr("tabindex","-1"):i.animatingTo===i.last?i.directionNav.removeClass(e).filter("."+r+"next").addClass(e).attr("tabindex","-1"):i.directionNav.removeClass(e).removeAttr("tabindex")}},pausePlay:{setup:function(){var t=e('<div class="'+r+'pauseplay"><a></a></div>');i.controlsContainer?(i.controlsContainer.append(t),i.pausePlay=e("."+r+"pauseplay a",i.controlsContainer)):(i.append(t),i.pausePlay=e("."+r+"pauseplay a",i)),f.pausePlay.update(i.vars.slideshow?r+"pause":r+"play"),i.pausePlay.bind(l,function(t){t.preventDefault(),(""===c||c===t.type)&&(e(this).hasClass(r+"pause")?(i.manualPause=!0,i.manualPlay=!1,i.pause()):(i.manualPause=!1,i.manualPlay=!0,i.play())),""===c&&(c=t.type),f.setToClearWatchedEvent()})},update:function(e){"play"===e?i.pausePlay.removeClass(r+"pause").addClass(r+"play").html(i.vars.playText):i.pausePlay.removeClass(r+"play").addClass(r+"pause").html(i.vars.pauseText)}},touch:function(){function e(e){i.animating?e.preventDefault():(window.navigator.msPointerEnabled||1===e.touches.length)&&(i.pause(),m=u?i.h:i.w,v=Number(new Date),w=e.touches[0].pageX,y=e.touches[0].pageY,f=d&&h&&i.animatingTo===i.last?0:d&&h?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:d&&i.currentSlide===i.last?i.limit:d?(i.itemW+i.vars.itemMargin)*i.move*i.currentSlide:h?(i.last-i.currentSlide+i.cloneOffset)*m:(i.currentSlide+i.cloneOffset)*m,c=u?y:w,g=u?w:y,t.addEventListener("touchmove",n,!1),t.addEventListener("touchend",a,!1))}function n(e){w=e.touches[0].pageX,y=e.touches[0].pageY,_=u?c-y:c-w,b=u?Math.abs(_)<Math.abs(w-g):Math.abs(_)<Math.abs(y-g);var t=500;(!b||Number(new Date)-v>t)&&(e.preventDefault(),!p&&i.transitions&&(i.vars.animationLoop||(_/=0===i.currentSlide&&0>_||i.currentSlide===i.last&&_>0?Math.abs(_)/m+2:1),i.setProps(f+_,"setTouch")))}function a(){if(t.removeEventListener("touchmove",n,!1),i.animatingTo===i.currentSlide&&!b&&null!==_){var e=h?-_:_,r=e>0?i.getTarget("next"):i.getTarget("prev");i.canAdvance(r)&&(Number(new Date)-v<550&&Math.abs(e)>50||Math.abs(e)>m/2)?i.flexAnimate(r,i.vars.pauseOnAction):p||i.flexAnimate(i.currentSlide,i.vars.pauseOnAction,!0)}t.removeEventListener("touchend",a,!1),c=null,g=null,_=null,f=null}function r(e){e.stopPropagation(),i.animating?e.preventDefault():(i.pause(),t._gesture.addPointer(e.pointerId),x=0,m=u?i.h:i.w,v=Number(new Date),f=d&&h&&i.animatingTo===i.last?0:d&&h?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:d&&i.currentSlide===i.last?i.limit:d?(i.itemW+i.vars.itemMargin)*i.move*i.currentSlide:h?(i.last-i.currentSlide+i.cloneOffset)*m:(i.currentSlide+i.cloneOffset)*m)}function o(e){e.stopPropagation();var n=e.target._slider;if(n){var i=-e.translationX,a=-e.translationY;return x+=u?a:i,_=x,b=u?Math.abs(x)<Math.abs(-i):Math.abs(x)<Math.abs(-a),e.detail===e.MSGESTURE_FLAG_INERTIA?(setImmediate(function(){t._gesture.stop()}),void 0):((!b||Number(new Date)-v>500)&&(e.preventDefault(),!p&&n.transitions&&(n.vars.animationLoop||(_=x/(0===n.currentSlide&&0>x||n.currentSlide===n.last&&x>0?Math.abs(x)/m+2:1)),n.setProps(f+_,"setTouch"))),void 0)}}function l(e){e.stopPropagation();var t=e.target._slider;if(t){if(t.animatingTo===t.currentSlide&&!b&&null!==_){var n=h?-_:_,i=n>0?t.getTarget("next"):t.getTarget("prev");t.canAdvance(i)&&(Number(new Date)-v<550&&Math.abs(n)>50||Math.abs(n)>m/2)?t.flexAnimate(i,t.vars.pauseOnAction):p||t.flexAnimate(t.currentSlide,t.vars.pauseOnAction,!0)}c=null,g=null,_=null,f=null,x=0}}var c,g,f,m,_,v,b=!1,w=0,y=0,x=0;s?(t.style.msTouchAction="none",t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",r,!1),t._slider=i,t.addEventListener("MSGestureChange",o,!1),t.addEventListener("MSGestureEnd",l,!1)):t.addEventListener("touchstart",e,!1)},resize:function(){!i.animating&&i.is(":visible")&&(d||i.doMath(),p?f.smoothHeight():d?(i.slides.width(i.computedW),i.update(i.pagingCount),i.setProps()):u?(i.viewport.height(i.h),i.setProps(i.h,"setTotal")):(i.vars.smoothHeight&&f.smoothHeight(),i.newSlides.width(i.computedW),i.setProps(i.computedW,"setTotal")))},smoothHeight:function(e){if(!u||p){var t=p?i:i.viewport;e?t.animate({height:i.slides.eq(i.animatingTo).height()},e):t.height(i.slides.eq(i.animatingTo).height())}},sync:function(t){var n=e(i.vars.sync).data("flexslider"),a=i.animatingTo;switch(t){case"animate":n.flexAnimate(a,i.vars.pauseOnAction,!1,!0);break;case"play":n.playing||n.asNav||n.play();break;case"pause":n.pause()}},uniqueID:function(t){return t.find("[id]").each(function(){var t=e(this);t.attr("id",t.attr("id")+"_clone")}),t},pauseInvisible:{visProp:null,init:function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)e[t]+"Hidden"in document&&(f.pauseInvisible.visProp=e[t]+"Hidden");if(f.pauseInvisible.visProp){var n=f.pauseInvisible.visProp.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(n,function(){f.pauseInvisible.isHidden()?i.startTimeout?clearTimeout(i.startTimeout):i.pause():i.started?i.play():i.vars.initDelay>0?setTimeout(i.play,i.vars.initDelay):i.play()})}},isHidden:function(){return document[f.pauseInvisible.visProp]||!1}},setToClearWatchedEvent:function(){clearTimeout(a),a=setTimeout(function(){c=""},3e3)}},i.flexAnimate=function(t,n,a,s,l){if(i.vars.animationLoop||t===i.currentSlide||(i.direction=t>i.currentSlide?"next":"prev"),g&&1===i.pagingCount&&(i.direction=i.currentItem<t?"next":"prev"),!i.animating&&(i.canAdvance(t,l)||a)&&i.is(":visible")){if(g&&s){var c=e(i.vars.asNavFor).data("flexslider");if(i.atEnd=0===t||t===i.count-1,c.flexAnimate(t,!0,!1,!0,l),i.direction=i.currentItem<t?"next":"prev",c.direction=i.direction,Math.ceil((t+1)/i.visible)-1===i.currentSlide||0===t)return i.currentItem=t,i.slides.removeClass(r+"active-slide").eq(t).addClass(r+"active-slide"),!1;i.currentItem=t,i.slides.removeClass(r+"active-slide").eq(t).addClass(r+"active-slide"),t=Math.floor(t/i.visible)}if(i.animating=!0,i.animatingTo=t,n&&i.pause(),i.vars.before(i),i.syncExists&&!l&&f.sync("animate"),i.vars.controlNav&&f.controlNav.active(),d||i.slides.removeClass(r+"active-slide").eq(t).addClass(r+"active-slide"),i.atEnd=0===t||t===i.last,i.vars.directionNav&&f.directionNav.update(),t===i.last&&(i.vars.end(i),i.vars.animationLoop||i.pause()),p)o?(i.slides.eq(i.currentSlide).css({opacity:0,zIndex:1}),i.slides.eq(t).css({opacity:1,zIndex:2}),i.wrapup(b)):(i.slides.eq(i.currentSlide).css({zIndex:1}).animate({opacity:0},i.vars.animationSpeed,i.vars.easing),i.slides.eq(t).css({zIndex:2}).animate({opacity:1},i.vars.animationSpeed,i.vars.easing,i.wrapup));else{var m,_,v,b=u?i.slides.filter(":first").height():i.computedW;d?(m=i.vars.itemMargin,v=(i.itemW+m)*i.move*i.animatingTo,_=v>i.limit&&1!==i.visible?i.limit:v):_=0===i.currentSlide&&t===i.count-1&&i.vars.animationLoop&&"next"!==i.direction?h?(i.count+i.cloneOffset)*b:0:i.currentSlide===i.last&&0===t&&i.vars.animationLoop&&"prev"!==i.direction?h?0:(i.count+1)*b:h?(i.count-1-t+i.cloneOffset)*b:(t+i.cloneOffset)*b,i.setProps(_,"",i.vars.animationSpeed),i.transitions?(i.vars.animationLoop&&i.atEnd||(i.animating=!1,i.currentSlide=i.animatingTo),i.container.unbind("webkitTransitionEnd transitionend"),i.container.bind("webkitTransitionEnd transitionend",function(){i.wrapup(b)})):i.container.animate(i.args,i.vars.animationSpeed,i.vars.easing,function(){i.wrapup(b)})}i.vars.smoothHeight&&f.smoothHeight(i.vars.animationSpeed)}},i.wrapup=function(e){p||d||(0===i.currentSlide&&i.animatingTo===i.last&&i.vars.animationLoop?i.setProps(e,"jumpEnd"):i.currentSlide===i.last&&0===i.animatingTo&&i.vars.animationLoop&&i.setProps(e,"jumpStart")),i.animating=!1,i.currentSlide=i.animatingTo,i.vars.after(i)},i.animateSlides=function(){!i.animating&&m&&i.flexAnimate(i.getTarget("next"))},i.pause=function(){clearInterval(i.animatedSlides),i.animatedSlides=null,i.playing=!1,i.vars.pausePlay&&f.pausePlay.update("play"),i.syncExists&&f.sync("pause")},i.play=function(){i.playing&&clearInterval(i.animatedSlides),i.animatedSlides=i.animatedSlides||setInterval(i.animateSlides,i.vars.slideshowSpeed),i.started=i.playing=!0,i.vars.pausePlay&&f.pausePlay.update("pause"),i.syncExists&&f.sync("play")},i.stop=function(){i.pause(),i.stopped=!0},i.canAdvance=function(e,t){var n=g?i.pagingCount-1:i.last;return t?!0:g&&i.currentItem===i.count-1&&0===e&&"prev"===i.direction?!0:g&&0===i.currentItem&&e===i.pagingCount-1&&"next"!==i.direction?!1:e!==i.currentSlide||g?i.vars.animationLoop?!0:i.atEnd&&0===i.currentSlide&&e===n&&"next"!==i.direction?!1:i.atEnd&&i.currentSlide===n&&0===e&&"next"===i.direction?!1:!0:!1},i.getTarget=function(e){return i.direction=e,"next"===e?i.currentSlide===i.last?0:i.currentSlide+1:0===i.currentSlide?i.last:i.currentSlide-1},i.setProps=function(e,t,n){var a=function(){var n=e?e:(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo,a=function(){if(d)return"setTouch"===t?e:h&&i.animatingTo===i.last?0:h?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:i.animatingTo===i.last?i.limit:n;switch(t){case"setTotal":return h?(i.count-1-i.currentSlide+i.cloneOffset)*e:(i.currentSlide+i.cloneOffset)*e;case"setTouch":return h?e:e;case"jumpEnd":return h?e:i.count*e;case"jumpStart":return h?i.count*e:e;default:return e}}();return-1*a+"px"}();i.transitions&&(a=u?"translate3d(0,"+a+",0)":"translate3d("+a+",0,0)",n=void 0!==n?n/1e3+"s":"0s",i.container.css("-"+i.pfx+"-transition-duration",n),i.container.css("transition-duration",n)),i.args[i.prop]=a,(i.transitions||void 0===n)&&i.container.css(i.args),i.container.css("transform",a)},i.setup=function(t){if(p)i.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===t&&(o?i.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+i.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(i.currentSlide).css({opacity:1,zIndex:2}):i.slides.css({opacity:0,display:"block",zIndex:1}).eq(i.currentSlide).css({zIndex:2}).animate({opacity:1},i.vars.animationSpeed,i.vars.easing)),i.vars.smoothHeight&&f.smoothHeight();else{var n,a;"init"===t&&(i.viewport=e('<div class="'+r+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(i).append(i.container),i.cloneCount=0,i.cloneOffset=0,h&&(a=e.makeArray(i.slides).reverse(),i.slides=e(a),i.container.empty().append(i.slides))),i.vars.animationLoop&&!d&&(i.cloneCount=2,i.cloneOffset=1,"init"!==t&&i.container.find(".clone").remove(),i.container.append(i.slides.first().clone().addClass("clone").attr("aria-hidden","true")).prepend(i.slides.last().clone().addClass("clone").attr("aria-hidden","true")),f.uniqueID(i.slides.first().clone().addClass("clone")).appendTo(i.container),f.uniqueID(i.slides.last().clone().addClass("clone")).prependTo(i.container)),i.newSlides=e(i.vars.selector,i),n=h?i.count-1-i.currentSlide+i.cloneOffset:i.currentSlide+i.cloneOffset,u&&!d?(i.container.height(200*(i.count+i.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){i.newSlides.css({display:"block"}),i.doMath(),i.viewport.height(i.h),i.setProps(n*i.h,"init")},"init"===t?100:0)):(i.container.width(200*(i.count+i.cloneCount)+"%"),i.setProps(n*i.computedW,"init"),setTimeout(function(){i.doMath(),i.newSlides.css({width:i.computedW,"float":"left",display:"block"}),i.vars.smoothHeight&&f.smoothHeight()},"init"===t?100:0))}d||i.slides.removeClass(r+"active-slide").eq(i.currentSlide).addClass(r+"active-slide"),i.vars.init(i)},i.doMath=function(){var e=i.slides.first(),t=i.vars.itemMargin,n=i.vars.minItems,a=i.vars.maxItems;i.w=void 0===i.viewport?i.width():i.viewport.width(),i.h=e.height(),i.boxPadding=e.outerWidth()-e.width(),d?(i.itemT=i.vars.itemWidth+t,i.minW=n?n*i.itemT:i.w,i.maxW=a?a*i.itemT-t:i.w,i.itemW=i.minW>i.w?(i.w-t*(n-1))/n:i.maxW<i.w?(i.w-t*(a-1))/a:i.vars.itemWidth>i.w?i.w:i.vars.itemWidth,i.visible=Math.floor(i.w/i.itemW),i.move=i.vars.move>0&&i.vars.move<i.visible?i.vars.move:i.visible,i.pagingCount=Math.ceil((i.count-i.visible)/i.move+1),i.last=i.pagingCount-1,i.limit=1===i.pagingCount?0:i.vars.itemWidth>i.w?i.itemW*(i.count-1)+t*(i.count-1):(i.itemW+t)*i.count-i.w-t):(i.itemW=i.w,i.pagingCount=i.count,i.last=i.count-1),i.computedW=i.itemW-i.boxPadding},i.update=function(e,t){i.doMath(),d||(e<i.currentSlide?i.currentSlide+=1:e<=i.currentSlide&&0!==e&&(i.currentSlide-=1),i.animatingTo=i.currentSlide),i.vars.controlNav&&!i.manualControls&&("add"===t&&!d||i.pagingCount>i.controlNav.length?f.controlNav.update("add"):("remove"===t&&!d||i.pagingCount<i.controlNav.length)&&(d&&i.currentSlide>i.last&&(i.currentSlide-=1,i.animatingTo-=1),f.controlNav.update("remove",i.last))),i.vars.directionNav&&f.directionNav.update()},i.addSlide=function(t,n){var a=e(t);i.count+=1,i.last=i.count-1,u&&h?void 0!==n?i.slides.eq(i.count-n).after(a):i.container.prepend(a):void 0!==n?i.slides.eq(n).before(a):i.container.append(a),i.update(n,"add"),i.slides=e(i.vars.selector+":not(.clone)",i),i.setup(),i.vars.added(i)
},i.removeSlide=function(t){var n=isNaN(t)?i.slides.index(e(t)):t;i.count-=1,i.last=i.count-1,isNaN(t)?e(t,i.slides).remove():u&&h?i.slides.eq(i.last).remove():i.slides.eq(t).remove(),i.doMath(),i.update(n,"remove"),i.slides=e(i.vars.selector+":not(.clone)",i),i.setup(),i.vars.removed(i)},f.init()},e(window).blur(function(){focused=!1}).focus(function(){focused=!0}),e.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}},e.fn.flexslider=function(t){if(void 0===t&&(t={}),"object"==typeof t)return this.each(function(){var n=e(this),i=t.selector?t.selector:".slides > li",a=n.find(i);1===a.length&&t.allowOneSlide===!0||0===a.length?(a.fadeIn(400),t.start&&t.start(n)):void 0===n.data("flexslider")&&new e.flexslider(this,t)});var n=e(this).data("flexslider");switch(t){case"play":n.play();break;case"pause":n.pause();break;case"stop":n.stop();break;case"next":n.flexAnimate(n.getTarget("next"),!0);break;case"prev":case"previous":n.flexAnimate(n.getTarget("prev"),!0);break;default:"number"==typeof t&&n.flexAnimate(t,!0)}}}(jQuery),Category=Backbone.Model,Client=new(Backbone.Model.extend({defaults:{formatted_address:"San Francisco, CA",redo_search:!0,zoom:15},parseParams:function(){var e=$.deparam(decodeURIComponent(window.location.search.slice(1)));e.client&&(e.client.zoom&&(e.client.zoom=Number(e.client.zoom)),e.client.redo_search&&(e.client.redo_search="true"===e.client.redo_search)),this.set(e.client)},predicate:function(){return{client:{formatted_address:this.get("formatted_address"),redo_search:this.get("redo_search"),zoom:this.get("zoom")}}}})),Comment=Backbone.Model.extend({urlRoot:"/api/comments",initialize:function(){this.format_time(),this.on("sync",this.format_time)},format_time:function(){var e=new Date(this.get("updated_at")),t=moment(e).format("MMM Do YYYY");this.set("formatted_time",t)}}),CurrentUser=new(Backbone.Model.extend({urlRoot:"/api/users",initialize:function(){$.cookie("current_user")&&this.set(JSON.parse($.cookie("current_user"))),this.fetch({success:$.proxy(function(e,t){this.setLocation(e,t)},this)})},setLocation:function(){this.get("location")&&(MainSearch.geocode(this.get("location")),EstablishmentSearch.set("location_name",this.get("location")))},logged_in:function(){return $.cookie("current_user")?!0:!1},authenticate:function(){ModalView.show(new AuthenticationOptionsView({el:"#inner_modal_content"}))}})),EndorseButton=Backbone.Model.extend({urlRoot:"/api/users/endorsing",toggle:function(){CurrentUser.logged_in()?this.get("user_endorsing")?this.unendorse():this.endorse():CurrentUser.authenticate()},unendorse:function(){var e=this;$.ajax({url:"/api/users/endorse",method:"DELETE",dataType:"json",data:{establishment_id:this.get("establishment_id")},success:function(t){e.set(t)},error:function(e,t){console.log(t)}})},endorse:function(){var e=this;$.ajax({url:"/api/users/endorse",method:"POST",dataType:"json",data:{establishment_id:this.get("establishment_id")},success:function(t){e.set(t)},error:function(e,t){console.log(t)}})}}),Establishment=Backbone.Model.extend({urlRoot:"/api/establishments",type:"Establishment",initialize:function(){this.assignHours(),this.assignCategories(),this.setFormattedAttributes(),this.on("sync",this.assignHours),this.on("sync",this.assignCategories),this.on("sync",this.setFormattedAttributes)},assignHours:function(){this.hours=new HoursCollection(this.get("hours"))},assignCategories:function(){this.categories=new CategoriesCollection(this.get("categories"))},setFormattedAttributes:function(){if(this.get("price")){var e="";_.each(_.range(this.get("price")),function(){e+="$"}),this.set("price_symbol",e)}if(this.get("website")){var t=this.get("website").replace(/\/$/,"").replace(/^http.*\/\//,"").replace(/^www[.]/,"");this.set("formatted_url",t)}else this.set("formatted_url",""),this.set("website","")}}),EstablishmentSearch=new(Backbone.Model.extend({defaults:{lat:37.7749295,lng:-122.4194155,location_name:"San Francisco, CA"},initialize:function(){$.cookie("establishment_search")&&this.set(JSON.parse($.cookie("establishment_search")));var e=$.deparam(decodeURIComponent(window.location.search.slice(1)));"undefined"!=typeof e.lat&&this.set("lat",Number(e.lat)),"undefined"!=typeof e.lng&&this.set("lng",Number(e.lng)),this.googleGeocoder=new google.maps.Geocoder},writeCookie:function(){$.cookie("establishment_search",JSON.stringify(this.attributes),{path:"/"})},geocode:function(e){this.googleGeocoder.geocode({address:e},$.proxy(this.updateFromGeocoder,this))},updateFromGeocoder:function(e,t){if("OK"==t){var n=e[0].geometry.location,i=n.lat(),a=n.lng(),r=e[0].formatted_address;this.set({lat:i,lng:a,location_name:r}),this.trigger("geocode")}else this.trigger("error")},predicate:function(){var e={lat:this.get("lat"),lng:this.get("lng")};return e}})),FavoriteButton=Backbone.Model.extend({urlRoot:"/api/users/favorite",toggle:function(){CurrentUser.logged_in()?this.get("user_favoriting")?this.unfavorite():this.favorite():CurrentUser.authenticate()},unfavorite:function(){var e=this;$.ajax({url:"/api/users/favorite",method:"DELETE",dataType:"json",data:{list_id:this.get("list_id")},success:function(t){e.set(t)},error:function(e,t){console.log(t)}})},favorite:function(){var e=this;$.ajax({url:"/api/users/favorite",method:"POST",dataType:"json",data:{list_id:this.get("list_id")},success:function(t){e.set(t)},error:function(e,t){console.log(t)}})}}),Filter=new(Backbone.Model.extend({defaults:{relation:"all",categories:[]},parseParams:function(){var e=$.deparam(decodeURIComponent(window.location.search.slice(1)));e.where&&e.where.relation&&this.set("relation",e.where.relation,{silent:!0})},predicate:function(){return{where:{relation:this.get("relation"),categories:this.get("categories")}}}})),FollowButton=Backbone.Model.extend({urlRoot:"/api/users/following",toggle:function(){CurrentUser.logged_in()?this.get("following")?this.unfollow():this.follow():CurrentUser.authenticate()},unfollow:function(){var e=this;$.ajax({url:"/api/users/follow",method:"DELETE",dataType:"json",data:{user_id:this.get("user_id")},success:function(t){e.set(t)},error:function(e,t){console.log(t)}})},follow:function(){var e=this;$.ajax({url:"/api/users/follow",method:"POST",dataType:"json",data:{user_id:this.get("user_id")},success:function(t){e.set(t)},error:function(e,t){console.log(t)}})}}),FollowedEndorser=Backbone.Model,Hours=Backbone.Model,List=Backbone.Model.extend({urlRoot:"/api/lists",initialize:function(){this.on("sync",this.format_time),this.format_time()},format_time:function(){var e=new Date(this.get("updated_at")),t=moment(e).format("MMM Do YYYY");this.set("formatted_time",t)}}),Listing=Backbone.Model.extend({urlRoot:"/api/listings",type:"Listing",initialize:function(){this.assignCategories(),this.setFormattedAttributes(),this.assignUrl(this.get("list_id")),this.on("sync",this.assignCategories),this.on("sync",this.setFormattedAttributes)},assignCategories:function(){this.categories=new CategoriesCollection(this.get("categories"))},assignUrl:function(e){this.urlRoot="/api/lists/"+e+"/listings"},setFormattedAttributes:function(){if(this.get("price")){var e="";_.each(_.range(this.get("price")),function(){e+="$"}),this.set("price_symbol",e)}if(this.get("website")){var t=this.get("website").replace(/\/$/,"").replace(/^http.*\/\//,"").replace(/^www[.]/,"");this.set("formatted_url",t)}else this.set("formatted_url",""),this.set("website","")}}),Location=new(Backbone.Model.extend({defaults:{center:{lat:37.7749295,lng:-122.4194155},radius:50,contained_in:"radius"},parseParams:function(){var e=$.deparam(decodeURIComponent(window.location.search.slice(1)));e.location&&(e.location.center&&(e.location.center.lat=Number(e.location.center.lat),e.location.center.lng=Number(e.location.center.lng)),e.location.radius&&(e.location.radius=Number(e.location.radius)),e.location.bounds&&(e.location.bounds.ne&&(e.location.bounds.ne.lat=Number(e.location.bounds.ne.lat),e.location.bounds.ne.lng=Number(e.location.bounds.ne.lng)),e.location.bounds.sw&&(e.location.bounds.sw.lat=Number(e.location.bounds.sw.lat),e.location.bounds.sw.lng=Number(e.location.bounds.sw.lng))),_.isEmpty(e.location.bounds)&&delete e.location.bounds,this.set(e.location,{silent:!0}))},predicate:function(){return{location:{center:this.get("center"),radius:this.get("radius"),bounds:this.get("bounds"),contained_in:this.get("contained_in")}}}})),MainSearch=new(Backbone.Model.extend({initialize:function(){this.googleGeocoder=new google.maps.Geocoder},geocode:function(e){this.query=e,this.googleGeocoder.geocode({address:e},$.proxy(this.updatePositionFromGeocoder,this))},updatePositionFromGeocoder:function(e,t){if("OK"===t){var n=e[0].geometry.location,i=n.lat(),a=n.lng(),r=e[0].formatted_address,s={lat:i,lng:a};Client.set("formatted_address",r),Location.set({center:s,contained_in:"radius"})}else"ZERO_RESULTS"===t?alert("We could not find a location named "+this.query+"."):alert("There was a problem with your request. Please try again.")}})),MapMarker=Backbone.Model.extend({initialize:function(e,t,n){var i=new google.maps.LatLng(e.get("lat"),e.get("lng")),a=24,r=34.286,s=a*n;this.marker=new google.maps.Marker({map:t,position:i,title:e.get("name"),icon:{origin:new google.maps.Point(s,0),size:new google.maps.Size(a,r),url:"http://i1324.photobucket.com/albums/u608/jenniferdewalt/dev/map_markers_zpsdd19adfe.png"}}),10!=n&&google.maps.event.addListener(this.marker,"click",function(){App.navigate(e.get("path"),{trigger:!0})})},remove:function(){this.marker.setMap(null)}}),Photo=Backbone.Model.extend({urlRoot:"/api/photos",readFile:function(e,t){var n=new FileReader;n.onload=$.proxy(function(n){var i=n.target.result,a=i.replace(/^data:/,"").replace(/;base64.*/,""),r=i.replace(/^.*base64,/,"");this.set({original_filename:e.name,content_type:a,image_data:r}),this.save({},{success:t})},this),n.readAsDataURL(e)}}),User=Backbone.Model.extend({urlRoot:"/api/users",initialize:function(){this.on("sync",this.validateWebsite),this.on("sync",this.assignUrls)},assignUrls:function(){this.set("url","/"+this.get("path")),this.set({lists_url:this.get("url")+"/lists",favorites_url:this.get("url")+"/favorites",following_url:this.get("url")+"/following",followers_url:this.get("url")+"/followers"})},validateWebsite:function(){var e=this.get("website");e&&(e.match(/^http:\/\//)||e.match(/^https:\/\//)||this.set("website","http://"+e))}}),WishListButton=Backbone.Model.extend({wishList:function(){$.ajax({url:"/api/lists/"+this.get("wish_list_id")+"/listings/",method:"POST",dataType:"json",data:{establishment_id:this.get("establishment_id"),list_id:this.get("wish_list_id")},error:function(e,t){console.log(t)}})}}),CategoriesCollection=Backbone.Collection.extend({model:Category,url:"api/categories",parse:function(e){return e.categories}}),CommentsCollection=Backbone.Collection.extend({model:Comment,url:"/api/comments",parse:function(e){return this.current_page=e.current_page,this.per_page=e.per_page,this.total_pages=e.total_pages,this.offset=e.offset,this.total=e.total,e.comments},comparator:function(e,t){return e.get("updated_at")<t.get("updated_at")}}),EndorsementsCollection=Backbone.Collection.extend({model:Establishment,url:"/api/users/endorsements",parse:function(e){return this.current_page=e.current_page,this.per_page=e.per_page,this.total_pages=e.total_pages,this.offset=e.offset,this.total=e.total,e.establishments}}),EndorsersCollection=Backbone.Collection.extend({model:User,url:"/api/establishments/endorsers",parse:function(e){return this.current_page=e.current_page,this.per_page=e.per_page,this.total_pages=e.total_pages,this.offset=e.offset,this.total=e.total,e.endorsers}}),EstablishmentSuggestionsCollection=Backbone.Collection.extend({model:Establishment,url:"/api/establishments/search",parse:function(e){return e.establishments}}),EstablishmentsCollection=Backbone.Collection.extend({model:Establishment,url:"/api/establishments",initialize:function(){var e=$.deparam(decodeURIComponent(window.location.search.slice(1)));this.requested_page=e.page?Number(e.page):1},parse:function(e){return this.current_page=e.current_page,this.per_page=e.per_page,this.total_pages=e.total_pages,this.offset=e.offset,this.total=e.total,e.establishments},predicate:function(){return{page:this.requested_page}}}),FollowedEndorsersCollection=Backbone.Collection.extend({model:FollowedEndorser}),FollowedUsersCollection=Backbone.Collection.extend({model:User,url:"/api/users/followed_users",parse:function(e){return this.current_page=e.current_page,this.per_page=e.per_page,this.total_pages=e.total_pages,this.offset=e.offset,this.total=e.total,e.followed_users}}),FollowersCollection=Backbone.Collection.extend({model:User,url:"/api/users/followers",parse:function(e){return this.current_page=e.current_page,this.per_page=e.per_page,this.total_pages=e.total_pages,this.offset=e.offset,this.total=e.total,e.followers}}),HoursCollection=Backbone.Collection.extend({model:Hours,comparator:"open_in_minutes"}),ListingsCollection=Backbone.Collection.extend({model:Listing,comparator:"created_at",initialize:function(){var e=$.deparam(decodeURIComponent(window.location.search.slice(1)));this.requested_page=e.page?Number(e.page):1,this.assignUrl(this.list_id)},parse:function(e){return this.current_page=e.current_page,this.per_page=e.per_page,this.total_pages=e.total_pages,this.offset=e.offset,this.total=e.total,e.listings},assignUrl:function(e){this.url="/api/lists/"+e+"/listings"},predicate:function(){return{page:this.requested_page}}}),ListsCollection=Backbone.Collection.extend({model:List,url:"/api/lists",initialize:function(){var e=$.deparam(decodeURIComponent(window.location.search.slice(1)));this.requested_page=e.page?Number(e.page):1},parse:function(e){return this.current_page=e.current_page,this.per_page=e.per_page,this.total_pages=e.total_pages,this.offset=e.offset,this.total=e.total,e.lists},predicate:function(){return{where:this.where,order:this.order,page:this.requested_page,per_page:this.per_page}}}),PhotosCollection=Backbone.Collection.extend({model:Photo,url:"/api/photos",parse:function(e){return e.photos}}),PreviewPhotosCollection=Backbone.Collection.extend({model:Photo,url:"/api/photos/preview_photos",parse:function(e){return e.photos}}),UserFacebookFriendsCollection=Backbone.Collection.extend({model:User,url:"/api/users/find_facebook_friends",parse:function(e){return e.friends}}),UserSuggestionsCollection=Backbone.Collection.extend({model:User,url:"/api/users/search",parse:function(e){return e.users}}),function(){this.JST||(this.JST={}),this.JST["templates/application/add_to_list_button"]=function(obj){var __p=[];with(obj||{})__p.push("<a class='add_to_list_btn btn unengaged text'>Add To List</a>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/authentication_options"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='authentication_container'>\n    <div class='logo'><img alt=\"Logo\" src=\"/assets/logo-c155e4aa82d7bb58be010311f7db5193.svg\" /></div>\n\n    <p>Find restaurants recommended by people you trust.</p>\n\n    <div class='btn_container'>\n        <a href=\"/users/sign_in\" class='btn text blue_btn'>Sign In</a>\n        <a href=\"/users/sign_up\" class='btn text blue_btn'>Sign Up</a>\n    </div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/change_current_location_modal"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='main_search_view_container'></div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/contact"]=function(obj){var __p=[];with(obj||{})__p.push('<div class=\'contact_container\'>\n    <h3>Comments, questions, feedback?</h3>\n\n    <div class=\'card border\'>\n        <a href="mailto:jen@yumhacker.com" target="_blank">jen@yumhacker.com</a>\n        <a href="https://twitter.com/JenniferDewalt" target="_blank">Twitter</a>\n        <a href="https://github.com/jendewalt/yumhacker" target="_blank">GitHub</a>\n    </div>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/endorse_button"]=function(obj){var __p=[];with(obj||{})__p.push(""),get("user_endorsing")?__p.push("\n    <a class='endorse_btn btn engaged hover text'>Unendorse</a>\n"):__p.push("\n    <a class='endorse_btn btn unengaged text'>Endorse</a>\n"),__p.push("\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/favorite_button"]=function(obj){var __p=[];with(obj||{})__p.push(""),get("user_favoriting")?__p.push("\n    <a class='favorite_btn blue_btn btn engaged hover text'>Unfavorite</a>\n"):__p.push("\n    <a class='favorite_btn blue_btn btn unengaged text'>favorite</a>\n"),__p.push("\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/filter"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='main_filter'>\n    <div id='filter_left'>\n        "),CurrentUser.logged_in()&&__p.push("\n            <div id='following_filter_container' class='option'>\n                <p class='small label'>Show:</p>\n                <div class='radio_container'>\n                    <input type='radio' name='following_filter' id='from_all' value='all' ",(""+("all"==Filter.get("relation")?"checked":"")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),">        \n                    <label class='small' for='from_all'>From All</label>\n                </div>\n                \n                <div class='radio_container'>\n                    <input type='radio' name='following_filter' id='from_followed' value='followed' ",(""+("followed"==Filter.get("relation")?"checked":"")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),">        \n                    <label class='small' for='from_followed'>From Friends</label>\n                </div>\n\n                <div class='radio_container'>\n                    <input type='radio' name='following_filter' id='from_me' value='me' ",(""+("me"==Filter.get("relation")?"checked":"")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),">        \n                    <label class='small' for='from_me'>Just Mine</label>                     \n                </div>\n            </div>\n        "),__p.push("\n        \n        <div id='filter_categories_container'></div>\n    </div>\n\n    <div id='filter_right'>\n        <div id='redo_search_container'>\n            <input type='checkbox' name='redo_search' id='redo_search' ",Client.get("redo_search")?"checked":"",">\n            <label for='redo_search'>Redo search when map moved</label>\n        </div>\n    </div>\n\n    <br class='clear'>\n\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/filter_categories_list"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='category_selector'>\n    <p class='small label'>Category:</p>\n          \n    <select id='categories_options_container'>\n        <option id='cat_0' value=''>All</option>\n    </select>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/filter_categories_option"]=function(obj){var __p=[];with(obj||{})__p.push("<option id=",("cat_"+get("id")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")," value=",(""+get("id")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),">",(""+get("name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</option>\n\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/follow_button"]=function(obj){var __p=[];with(obj||{})__p.push(""),get("following")?__p.push("\n    <a class='follow_btn btn engaged text'>Unfollow</a>\n"):__p.push("\n    <a class='follow_btn btn not_engaged text'>Follow</a>\n"),__p.push("\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/footer"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='subfooter'>\n    <p>Browse all <a href=\"/users\">YumHackers</a></p>\n</div>\n\n<div id='footer_wrap'>\n    <ul class='horizontal'>\n        <li id='blog_link'>\n            <a href=\"http://blog.yumhacker.com\">Blog</a>\n        </li>\n        <li>\n            <a href=\"/contact\" class='nav'>Contact</a>\n        </li>\n        <li>\n            <a href=\"/privacy\" class='nav'>Privacy Policy</a>\n        </li>\n        <li>\n            <a href=\"/terms\" class='nav'>Terms</a>\n        </li>\n    </ul>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/geocode_error"]=function(obj){var __p=[];with(obj||{})__p.push("<p class='geocode_error'>There was a problem with your location request.</p>\n<p class='geocode_error'>Please check your spelling and try again.</p>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/header"]=function(obj){var __p=[];with(obj||{})__p.push('<nav>\n    <a href="',("/?"+encodeURIComponent($.param(_.extend(Location.predicate(),Filter.predicate(),Client.predicate())))).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'" class="logo nav"><img alt="Logo" src="/assets/logo-c155e4aa82d7bb58be010311f7db5193.svg" /></a>\n    \n    <div id=\'current_location_container\'></div>\n\n    <div id=\'new_list_btn_container\'></div>\n\n    <div id="navigation_links_container">\n        <ul class=\'user_nav\'>\n\n            '),CurrentUser.logged_in()?__p.push('\n\n                <li>\n                    <a class="nav user img" href="/',(""+CurrentUser.get("path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'"><img src="',(""+CurrentUser.get("thumb_url")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'"></a>\n                </li>\n\n                <li>\n                    <a class="nav user name" href="/',(""+CurrentUser.get("path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'">',(""+CurrentUser.get("first_name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'</a>\n                </li>\n                \n                <li id=\'search_options_container\'></li>\n\n                <li>\n                    <a data-method="delete" href="/users/sign_out" rel="nofollow">Sign Out</a>\n                </li>\n\n            '):__p.push('\n                <li id=\'search_options_container\'></li>\n                \n                <li>\n                    <a href="/users/sign_in" >Sign In</a>\n                </li>\n                <li>\n                    <a href="/users/sign_up" >Sign Up</a>\n                </li>\n                \n            '),__p.push('            \n        </ul>\n    </div>\n    <br class="clear">\n</nav>\n\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/header_current_location"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='current_location_text'>\n    <div id='current_location'>",(""+Client.get("formatted_address")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</div>\n</div>\n\n<div id='current_location_links'>\n    <a href=\"\" id='change_location'>Change Location</a>\n    <a href=\"",("/restaurants?"+encodeURIComponent($.param(_.extend(Location.predicate(),Filter.predicate(),Client.predicate())))).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\" class='btn text map_btn nav'>Map</a>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/header_search_options"]=function(obj){var __p=[];with(obj||{})__p.push("<ul class='dropdown'>\n    <li>\n        <a>Search</a>\n        <ul class='sub_menu'>\n            <li>\n                <a href=\"/restaurants/search\" class='nav'>Find Restaurants</a>\n            </li>\n\n            <li>\n                <a href=\"/users/search\" class='nav'>Find Friends</a>\n            </li>\n        </ul>\n    </li>\n</ul>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/main_search"]=function(obj){var __p=[];with(obj||{})__p.push("<h1>Change Location</h1>\n<form id='main_search_form'>\n    <fieldset>        \n        <div id='location_container'>\n            <input id='location_input' type='text' value=\"",(""+Client.get("formatted_address")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\">\n            <a href='/' id='nearby_btn'><img alt=\"Current location\" src=\"/assets/current_location-f224f7efcf4a8a7baef2428d0257cb5e.svg\" /></a>\n            <br class=\"clear\">\n        </div>\n        \n        <div id='submit_container'>\n            <button class='btn' type='submit' value='submit'>\n                <span><img alt=\"Search icon\" src=\"/assets/search_icon-5b59e1c1dfed2b2e7056858903439b06.svg\" /></span>\n            </button>\n        </div>\n    </fieldset>\n</form>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/modal"]=function(obj){var __p=[];with(obj||{})__p.push("<div class='inner_modal'>\n    <button class='cancel'>X</button>\n    <div id='inner_modal_content'></div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/new_list_button"]=function(obj){var __p=[];with(obj||{})__p.push("<a class='btn text new_list_btn'>New Yum List</a>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/no_results"]=function(obj){var __p=[];with(obj||{})__p.push("<p class='no_results'>No matches found.</p>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/pagination"]=function(obj){var __p=[];with(obj||{}){if(__p.push("<div class='pagination_controls'>\n    <div class='pagination prev'>\n        "),1!==current_page){__p.push("\n            ");var prev_page=Number(current_page)-1;__p.push("\n            <a class='page prev' rel='",(""+prev_page).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"'>Prev</a>\n        ")}if(__p.push("\n    </div>\n\n    <div class='pagination counter'>\n        <p>Page ",(""+current_page).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")," of ",(""+(0==total_pages?1:total_pages)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")," </p>\n    </div>\n\n    <div class='pagination next'>\n        "),current_page!==total_pages&&0!==total_pages){__p.push("\n            ");var next_page=Number(current_page)+1;__p.push("\n            <a class='page next' rel='",(""+next_page).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"'>Next</a>\n        ")}__p.push("\n    </div>\n\n    <br class='clear'>\n</div>\n")}return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/privacy"]=function(obj){var __p=[];with(obj||{})__p.push("<div class='privacy_container'>\n\n    <div class='card border'>\n        <h1>Privacy Policy</h1>\n        \n        <p>This privacy policy (&ldquo;Policy&rdquo;) describes how YumHacker and its related companies (&ldquo;Company&rdquo;) collect, use and share personal information of consumer users of this website, http://yumhacker.com (the &ldquo;Site&rdquo;). This Policy also applies to any of our other websites that post this Policy. This Policy does not apply to websites that post different statements.</p>\n\n        <h3>WHAT WE COLLECT</h3>\n\n        <p>We get information about you in a range of ways. </p>\n\n        <h3>Information You Give Us. </h3>\n\n        <p>We collect your name, email address, password and other information you directly give us on our Site.</p>\n\n        <h3>Information We Get from Others. </h3>\n\n        <p>We may get information about you from other sources. We may add this to information we get from this Site.</p>\n\n        <h3>Information Automatically Collected. </h3>\n\n        <p>We automatically log information about you and your computer. For example, when visiting our Site, we log information about your use of and actions on our Site. </p>\n\n        <h3>Cookies.</h3> \n\n        <p>We may log information using &quot;cookies.&quot; Cookies are small data files stored on your hard drive by a website. Cookies help us make our Site and your visit better. We use cookies to see which parts of our Site people use and like and to count visits to our Site.</p>\n\n        <h3>Web Beacons. </h3>\n        <p>We may log information using digital images called Web beacons on our Site or in our emails. We use Web beacons to manage cookies, count visits, and to learn what marketing works and what does not. We also use Web Beacons to tell if you open or act on our emails.</p>\n\n        <h3>USE OF PERSONAL INFORMATION</h3>\n\n        <h3>We use your personal information as follows:</h3>\n\n        <p>We use your personal information to operate, maintain, and improve our sites, products, and services. We use your personal information to respond to comments and questions and provide customer service. We use your personal information to send information including confirmations, invoices, technical notices, updates, security alerts, and support and administrative messages. We use your personal information to communicate about promotions, upcoming events, and other news about products and services offered by us and our selected partners.</p> \n\n        <h3>SHARING OF PERSONAL INFORMATION</h3>\n\n        <h3>We may share personal information as follows:</h3>\n\n        <p>We may share personal information with your consent. For example, you may let us share personal information with others for their own marketing uses. Those uses will be subject to their privacy policies. We may share personal information when we do a business deal, or negotiate a business deal, involving sale or transfer of all or a part of our business or assets. These deals can include any merger, financing, acquisition, or bankruptcy transaction or proceeding. We may share personal information for legal, protection, and safety purposes. We may share information to comply with laws. We may share information to respond to lawful requests and legal process. We may share information to protect the rights and property of YumHacker, our agents, customers, and others. This includes enforcing our agreements, policies, and terms of use. We may share information in an emergency. This includes protecting the safety of our employees and agents, our customers, or any person.  We may share information with those who need it to do work for us. We may also share aggregated and/or anonymized data with others for their own uses.</p>\n\n        <h3>INFORMATION CHOICES AND CHANGES</h3>\n\n        <p>Our marketing emails tell you how to &ldquo;opt-out.&rdquo; If you opt out, we may still send you non-marketing emails. Non-marketing emails include emails about your accounts and our business dealings with you.</p>\n\n        <p>You may send requests about personal information to our Contact Information below. You can request to change contact choices, opt-out of our sharing with others, and update your personal information.</p>\n\n        <p>You can typically remove and reject cookies from our Site with your browser settings. Many browsers are set to accept cookies until you change your settings. If you remove or reject our cookies, it could affect how our Site works for you. </p>\n\n        <h3>SECURITY OF YOUR PERSONAL INFORMATION</h3>\n\n        <p>We take steps to help protect personal information. No company can fully prevent security risks, however. Mistakes may happen. Bad actors may defeat even the best safeguards.</p>\n\n        <h3>CONTACT INFORMATION</h3>\n\n        <p>We welcome your comments or questions about this Privacy Policy. You may also contact us at: jen@yumhacker.com</p>\n\n        <h3>CHANGES TO THIS PRIVACY POLICY</h3>\n\n        <p>We may change this Privacy Policy. If we make any changes, we will change the Last Updated date below. </p>\n\n        <p>This Privacy Policy was last Updated on 1/11/2014.</p> \n        <p>This Privacy Policy was published on 1/11/2014.</p>\n\n    </div>\n</div>\n");
return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/social_buttons"]=function(obj){var __p=[];with(obj||{})__p.push('\n<img alt="Fb share icon" class="social_btn at-share-btn" id="facebook_share" src="/assets/fb_share_icon-604fe538cd37e70b91b545459cb73675.svg" />\n<div class="addthis_sharing_toolbox social_btn" addthis:title="',(""+get("title")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'" addthis:description="',(""+get("description")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'" ></div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/terms"]=function(obj){var __p=[];with(obj||{})__p.push("<div class='terms_container'>\n    <a class='toggle' data-state='canvas'>Read None Cascading Terms</a>    \n    \n    <canvas></canvas>\n    \n    <div class='boring_terms card border'>\n        <h1>Terms of Service </h1>\n\n        <p>The following terms and conditions govern all use of the yumhacker.com website and all content, services and products available at or through the website (the Website). The Website is owned and operated by YumHacker. (&ldquo;YumHacker&rdquo;). The Website is offered subject to your acceptance without modification of all of the terms and conditions contained herein and all other operating rules, policies (including, without limitation, YumHacker&rsquo;s Privacy Policy) and procedures that may be published from time to time on this Site by YumHacker (collectively, the &ldquo;Agreement&rdquo;). Please read this Agreement carefully before accessing or using the Website. By accessing or using any part of the web site, you agree to become bound by the terms and conditions of this agreement. If you do not agree to all the terms and conditions of this agreement, then you may not access the Website or use any services. If these terms and conditions are considered an offer by YumHacker, acceptance is expressly limited to these terms. </p>\n\n        <h3>Your yumhacker.com Account and Site. </h3>\n\n        <p>If you create an account on the Website, you are responsible for maintaining the security of your account, and you are fully responsible for all activities that occur under the account and any other actions taken in connection with the account. You must not describe or assign keywords to your account in a misleading or unlawful manner, including in a manner intended to trade on the name or reputation of others, and YumHacker may change or remove any description or keyword that it considers inappropriate or unlawful, or otherwise likely to cause YumHacker liability. You must immediately notify YumHacker of any unauthorized uses of your account, your account or any other breaches of security. YumHacker will not be liable for any acts or omissions by You, including any damages of any kind incurred as a result of such acts or omissions. </p>\n\n        <h3>Responsibility of Contributors. </h3>\n\n        <p>If you operate an account, comment on a account, post material to the Website, post links on the Website, or otherwise make (or allow any third party to make) material available by means of the Website (any such material, &ldquo;Content&rdquo;), You are entirely responsible for the content of, and any harm resulting from, that Content. That is the case regardless of whether the Content in question constitutes text, graphics, an audio file, or computer software. By making Content available, you represent and warrant that: the downloading, copying and use of the Content will not infringe the proprietary rights, including but not limited to the copyright, patent, trademark or trade secret rights, of any third party; if your employer has rights to intellectual property you create, you have either (i) received permission from your employer to post or make available the Content, including but not limited to any software, or (ii) secured from your employer a waiver as to all rights in or to the Content; you have fully complied with any third-party licenses relating to the Content, and have done all things necessary to successfully pass through to end users any required terms; the Content does not contain or install any viruses, worms, malware, Trojan horses or other harmful or destructive content; the Content is not spam, is not machine- or randomly-generated, and does not contain unethical or unwanted commercial content designed to drive traffic to third party sites or boost the search engine rankings of third party sites, or to further unlawful acts (such as phishing) or mislead recipients as to the source of the material (such as spoofing); the Content is not pornographic, does not contain threats or incite violence, and does not violate the privacy or publicity rights of any third party; your account is not getting advertised via unwanted electronic messages such as spam links on newsgroups, email lists, other accounts and web sites, and similar unsolicited promotional methods; your account is not named in a manner that misleads your readers into thinking that you are another person or company. For example, your account&rsquo;s URL or name is not the name of a person other than yourself or company other than your own; and you have, in the case of Content that includes computer code, accurately categorized and/or described the type, nature, uses and effects of the materials, whether requested to do so by YumHacker or otherwise. </p>\n\n        <p>By submitting Content to YumHacker for inclusion on your Website, you grant YumHacker a world-wide, royalty-free, and non-exclusive license to reproduce, modify, adapt and publish the Content solely for the purpose of displaying, distributing and promoting your account. If you delete Content, YumHacker will use reasonable efforts to remove it from the Website, but you acknowledge that caching or references to the Content may not be made immediately unavailable. Without limiting any of those representations or warranties, YumHacker has the right (though not the obligation) to, in YumHacker&rsquo;s sole discretion (i) refuse or remove any content that, in YumHacker&rsquo;s reasonable opinion, violates any YumHacker policy or is in any way harmful or objectionable, or (ii) terminate or deny access to and use of the Website to any individual or entity for any reason, in YumHacker&rsquo;s sole discretion. YumHacker will have no obligation to provide a refund of any amounts previously paid. </p>\n\n        <h3>Responsibility of Website Visitors. </h3>\n\n        <p>YumHacker has not reviewed, and cannot review, all of the material, including computer software, posted to the Website, and cannot therefore be responsible for that material&rsquo;s content, use or effects. By operating the Website, YumHacker does not represent or imply that it endorses the material there posted, or that it believes such material to be accurate, useful or non-harmful. You are responsible for taking precautions as necessary to protect yourself and your computer systems from viruses, worms, Trojan horses, and other harmful or destructive content. The Website may contain content that is offensive, indecent, or otherwise objectionable, as well as content containing technical inaccuracies, typographical mistakes, and other errors. The Website may also contain material that violates the privacy or publicity rights, or infringes the intellectual property and other proprietary rights, of third parties, or the downloading, copying or use of which is subject to additional terms and conditions, stated or unstated. YumHacker disclaims any responsibility for any harm resulting from the use by visitors of the Website, or from any downloading by those visitors of content there posted. Content Posted on Other Websites. We have not reviewed, and cannot review, all of the material, including computer software, made available through the websites and webpages to which yumhacker.com links, and that link to yumhacker.com. YumHacker does not have any control over those non-yumhacker.com websites and webpages, and is not responsible for their contents or their use. By linking to a non-yumhacker.com website or webpage, YumHacker does not represent or imply that it endorses such website or webpage. You are responsible for taking precautions as necessary to protect yourself and your computer systems from viruses, worms, Trojan horses, and other harmful or destructive content. YumHacker disclaims any responsibility for any harm resulting from your use of non-yumhacker.com websites and webpages. </p>\n\n        <h3>Copyright Infringement and DMCA Policy. </h3>\n\n        <p>As YumHacker asks others to respect its intellectual property rights, it respects the intellectual property rights of others. If you believe that material located on or linked to by yumhacker.com violates your copyright, you are encouraged to notify YumHacker in accordance with YumHacker&rsquo;s Digital Millennium Copyright Act (&ldquo;DMCA&rdquo;) Policy. YumHacker will respond to all such notices, including as required or appropriate by removing the infringing material or disabling all links to the infringing material. YumHacker will terminate a visitor&rsquo;s access to and use of the Website if, under appropriate circumstances, the visitor is determined to be a repeat infringer of the copyrights or other intellectual property rights of YumHacker or others. In the case of such termination, YumHacker will have no obligation to provide a refund of any amounts previously paid to YumHacker. </p>\n\n        <h3>Intellectual Property.</h3>\n\n        <p>This Agreement does not transfer from YumHacker to you any YumHacker or third party intellectual property, and all right, title and interest in and to such property will remain (as between the parties) solely with YumHacker. YumHacker, yumhacker.com, the yumhacker.com logo, and all other trademarks, service marks, graphics and logos used in connection with yumhacker.com, or the Website are trademarks or registered trademarks of YumHacker or YumHacker&rsquo;s licensors. Other trademarks, service marks, graphics and logos used in connection with the Website may be the trademarks of other third parties. Your use of the Website grants you no right or license to reproduce or otherwise use any YumHacker or third-party trademarks. </p>\n\n        <h3>Advertisements. </h3>\n\n        <p>YumHacker reserves the right to display advertisements on your account. </p>\n\n        <h3>Changes.</h3>\n\n        <p>YumHacker reserves the right, at its sole discretion, to modify or replace any part of this Agreement. It is your responsibility to check this Agreement periodically for changes. Your continued use of or access to the Website following the posting of any changes to this Agreement constitutes acceptance of those changes. YumHacker may also, in the future, offer new services and/or features through the Website (including, the release of new tools and resources). Such new features and/or services shall be subject to the terms and conditions of this Agreement. </p>\n\n        <h3>Termination. </h3>\n\n        <p>YumHacker may terminate your access to all or any part of the Website at any time, with or without cause, with or without notice, effective immediately. If you wish to terminate this Agreement or your yumhacker.com account (if you have one), you may simply discontinue using the Website. All provisions of this Agreement which by their nature should survive termination shall survive termination, including, without limitation, ownership provisions, warranty disclaimers, indemnity and limitations of liability. </p>\n\n        <h3>Disclaimer of Warranties. </h3>\n\n        <p>The Website is provided &ldquo;as is&rdquo;. YumHacker and its suppliers and licensors hereby disclaim all warranties of any kind, express or implied, including, without limitation, the warranties of merchantability, fitness for a particular purpose and non-infringement. Neither YumHacker nor its suppliers and licensors, makes any warranty that the Website will be error free or that access thereto will be continuous or uninterrupted. You understand that you download from, or otherwise obtain content or services through, the Website at your own discretion and risk. </p>\n\n        <h3>Limitation of Liability. </h3>\n\n        <p>In no event will YumHacker, or its suppliers or licensors, be liable with respect to any subject matter of this agreement under any contract, negligence, strict liability or other legal or equitable theory for: (i) any special, incidental or consequential damages; (ii) the cost of procurement for substitute products or services; (iii) for interruption of use or loss or corruption of data; or (iv) for any amounts that exceed the fees paid by you to YumHacker under this agreement during the twelve (12) month period prior to the cause of action. YumHacker shall have no liability for any failure or delay due to matters beyond their reasonable control. The foregoing shall not apply to the extent prohibited by applicable law. </p>\n\n        <h3>General Representation and Warranty. </h3>\n\n        <p>You represent and warrant that (i) your use of the Website will be in strict accordance with the YumHacker with this Agreement and with all applicable laws and regulations (including without limitation any local laws or regulations in your country, state, city, or other governmental area, regarding online conduct and acceptable content, and including all applicable laws regarding the transmission of technical data exported from the United States or the country in which you reside) and (ii) your use of the Website will not infringe or misappropriate the intellectual property rights of any third party. </p>\n\n        <h3>Indemnification. </h3>\n\n        <p>You agree to indemnify and hold harmless YumHacker, its contractors, and its licensors, and their respective directors, officers, employees and agents from and against any and all claims and expenses, including attorneys&rsquo; fees, arising out of your use of the Website, including but not limited to your violation of this Agreement. </p>\n\n        <h3>Miscellaneous. </h3>\n\n        <p>This Agreement constitutes the entire agreement between YumHacker and you concerning the subject matter hereof, and they may only be modified by a written amendment signed by an authorized executive of YumHacker, or by the posting by YumHacker of a revised version. Except to the extent applicable law, if any, provides otherwise, this Agreement, any access to or use of the Website will be governed by the laws of the state of California, U.S.A., excluding its conflict of law provisions, and the proper venue for any disputes arising out of or relating to any of the same will be the state and federal courts located in San Francisco County, California. Except for claims for injunctive or equitable relief or claims regarding intellectual property rights (which may be brought in any competent court without the posting of a bond), any dispute arising under this Agreement shall be finally settled in accordance with the Comprehensive Arbitration Rules of the Judicial Arbitration and Mediation Service, Inc. (&ldquo;JAMS&rdquo;) by three arbitrators appointed in accordance with such Rules. The arbitration shall take place in San Francisco, California, in the English language and the arbitral decision may be enforced in any court. The prevailing party in any action or proceeding to enforce this Agreement shall be entitled to costs and attorneys&rsquo; fees. If any part of this Agreement is held invalid or unenforceable, that part will be construed to reflect the parties&rsquo; original intent, and the remaining portions will remain in full force and effect. A waiver by either party of any term or condition of this Agreement or any breach thereof, in any one instance, will not waive such term or condition or any subsequent breach thereof. You may assign your rights under this Agreement to any party that consents to, and agrees to be bound by, its terms and conditions; YumHacker may assign its rights under this Agreement without condition. This Agreement will be binding upon and will inure to the benefit of the parties, their successors and permitted assigns. </p>\n    </div>\n\n    <p class='mod'>This Agreement was last modified on January, 11 2013.</p>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/throbber_small"]=function(obj){var __p=[];with(obj||{})__p.push('<div class=\'throbber\'>\n    <img alt="Throbber sm" src="/assets/throbber_sm-43bd6bd9f3cccc4f6b2a82d162d242b5.gif" />\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/upload_throbber"]=function(obj){var __p=[];with(obj||{})__p.push('<div class=\'throbber upload\'>\n    <img alt="Throbber sm" src="/assets/throbber_sm-43bd6bd9f3cccc4f6b2a82d162d242b5.gif" />\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/wish_list_button"]=function(obj){var __p=[];with(obj||{})__p.push(""),get("wish_listed")?__p.push("\n    <a class='wish_list_btn btn engaged disabled text'>Wish Listed</a>\n"):__p.push("\n    <a class='wish_list_btn green_btn btn unengaged text'>Wish List</a>\n"),__p.push("\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/establishments/establishment_category"]=function(obj){var __p=[];with(obj||{})__p.push("<div class='category details'>",(""+formatted_name).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/establishments/establishment_hour"]=function(obj){var __p=[];with(obj||{})__p.push("<td>",(""+moment(day,"d").format("ddd")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</td>\n"),_.each(hours,function(e,t){__p.push("\n    "),Number(e.get("open_time"))===Number(e.get("close_time"))?__p.push("\n        <td>Open 24 hours</td>\n    "):__p.push("\n        <td>\n            ",(""+moment(e.get("open_time"),"HHmm").format("h:mm a")+" - "+moment(e.get("close_time"),"HHmm").format("h:mm a")+(t<hours.length-1?",":"")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\n        </td>\n    "),__p.push("\n")}),__p.push("\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/establishments/followed_endorser"]=function(obj){var __p=[];with(obj||{})__p.push("<div class='user_container'>\n    <a href='/",(""+get("path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"' class='user img' title=\"",(""+get("full_name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'"><img src="',(""+get("avatar_url_thumb")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'"></a>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/establishments/followed_endorser_list"]=function(obj){var __p=[];with(obj||{})__p.push("<div class='endorsers_container'>\n    <p>Recommended by:</p>\n    <ul class='endorsers_list'></ul>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/establishments/index_establishment"]=function(obj){var __p=[];with(obj||{})__p.push('<div class="establishment_info">\n    <a href=\'',(""+get("path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"' class='biz_name'>",(""+get("name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a>\n    <div class='categories_container'></div>\n\n    "),get("street_number")&&get("street")&&__p.push('\n        <p class="details">',(""+get("street_number")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")," ",(""+get("street")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</p>\n    "),__p.push("\n\n     "),get("city")&&get("state")&&get("zip_code")&&__p.push("\n        <p class='details'>",(""+get("city")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),", ",(""+get("state")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")," ",(""+get("zip_code")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</p>\n    "),__p.push("\n    \n    "),get("phone")&&__p.push("\n        <a href='",("tel:"+get("phone")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'\' class="details phone">',(""+get("phone")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a>\n    "),__p.push("\n\n    <div class='details extra'>\n        <p class='price'>",get("price_symbol")?get("price_symbol"):"","</p>\n        "),get("website")&&__p.push('\n            <a class="details website" href="',(""+get("website")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\" target='_blank'>",(""+get("formatted_url")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a>\n        "),__p.push("\n        <br class='clear'>\n    </div>\n\n    <div class='hours_container'></div>\n\n</div>\n\n<div class='establishment_action_btn_container'>\n    <div class='add_to_list_btn_container'>\n        <a class='add_to_list_btn btn unengaged text'>Add to List</a>\n    </div>\n\n    <div class='wish_list_btn_container'></div>\n</div>\n<br class='clear'>\n\n<div class='endorsers_wrapper'></div>\n\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/establishments/index_establishment_hours"]=function(obj){var __p=[];with(obj||{})__p.push("<table></table>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/establishments/index_no_results"]=function(obj){var __p=[];with(obj||{})__p.push("<li id='no_results_message'>\n    <h1>Bummer! No results found.</h1>\n    <p>Try searching in a different location or<br> \n       give one of these links a try.</p>\n\n    <div id='links_container'>\n        <a href='/users/search' class='nav'>Find Friends</a>\n        <a href='/restaurants/search' class='nav'>Endorse a Restaurant</a>    \n    </div>\n</li>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/establishments/pagination"]=function(obj){var __p=[];with(obj||{}){if(__p.push("<div class='pagination_controls'>\n    <div class='pagination prev'>\n        "),1!==current_page){__p.push("\n            ");var prev_page=Number(current_page)-1;__p.push("\n            <a class='page prev' href='",(""+window.location.pathname+"?"+encodeURIComponent($.param(_.extend(Location.predicate(),Filter.predicate(),Client.predicate(),{page:prev_page})))).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"' rel='",(""+prev_page).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"'>Prev</a>\n        ")}if(__p.push("\n    </div>\n\n    <div class='pagination counter'>\n        <p>Page ",(""+current_page).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")," of ",(""+(0==total_pages?1:total_pages)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")," </p>\n    </div>\n\n    <div class='pagination next'>\n        "),current_page!==total_pages&&0!==total_pages){__p.push("\n            ");var next_page=Number(current_page)+1;__p.push("\n            <a class='page next' href='",(""+window.location.pathname+"?"+encodeURIComponent($.param(_.extend(Location.predicate(),Filter.predicate(),Client.predicate(),{page:next_page})))).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"' rel='",(""+next_page).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"'>Next</a>\n        ")}__p.push("\n    </div>\n\n    <br class='clear'>\n</div>\n")}return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/establishments/photos_index"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='photos_index_container'>\n    <h1>Photos: <a href=\"",("/"+get("path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\" id='biz_name'>",(""+get("name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a></h1>\n    \n    <div id='media_viewer_container'></div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/establishments/search"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='search_wrapper'>\n    <div id='find_establishment_container' class='search_container card border'>\n        <h3>Search for a Restaurant</h3>\n\n        <form id='establishment_search_form'>\n            <div class='field'>\n                <label for='query'>Restaurant Name:</label><br>\n                <input id='query' class='text_input' type='text' autocomplete='off' placeholder='Brickhouse Cafe' autofocus>\n            </div>\n\n            <div class='field'>\n                <label for='location'>Near:</label><br>\n                <input id='location' class='text_input' type='text' autocomplete='off' value=\"",(""+EstablishmentSearch.get("location_name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\">\n            </div>\n\n            <div class='center'>\n                <input class='btn text' type='submit' value='Submit'>\n            </div>\n        </form>\n    </div>\n\n    <div id='find_establishment_results_container'></div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/establishments/search_establishment"]=function(obj){var __p=[];with(obj||{})__p.push("<div class='establishment_info'>\n    "),get("path")?__p.push("\n        <a class='biz_name' href='",("/"+get("path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"'>",(""+get("name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a>\n    "):__p.push("\n        <div class='biz_name'>",(""+get("name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</div>\n    "),__p.push("\n\n    <div class='details'>",(""+get("formatted_address")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</div>\n</div>\n\n<div class='establishment_action_btn_container'>\n    <div class='add_to_list_btn_container'>\n        <a class='create_btn add_to_list_btn btn unengaged text' data-action='add_to_list'>Add to List</a>\n    </div>\n\n    <div class='wish_list_btn_container'>\n        <a class='create_btn wish_list_btn green_btn btn unengaged text' data-action='wish_list'>Wish List</a>\n    </div>\n</div>\n        \n<br class='clear'>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/establishments/search_suggestion_list"]=function(obj){var __p=[];with(obj||{})__p.push("<ul id='find_establishment_results' class='establishments_list card border grey'></ul>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/establishments/show"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='establishment_show_container'>\n    <div class='column left'>\n        <div id='establishment_info_container' class='card border'></div>\n        \n        <div id='lists_list_container' class='card'></div>\n    </div>\n    \n    <div class=\"column right\">\n        <div class='map_canvas_container'>\n            <div id='map_canvas'></div>\n        </div>\n\n        <div id='establishment_comments_container' class='card border grey'>\n            <div id='comments_form_container'></div>\n\n            <ul id='comments_list'></ul>\n\n            <div class='pagination_container comments'></div>\n        </div>\n        \n    </div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/establishments/show_comment"]=function(obj){var __p=[];with(obj||{})__p.push(""),CurrentUser.get("id")==get("user_id")&&__p.push("\n    <a class='delete_comment'>delete</a>\n"),__p.push("\n\n<div class='comment_container'>\n    <a href='/",(""+get("user_path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"' class='avatar'><img class='avatar' src=\"",(""+get("thumb_url")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\"></a>\n    \n    <div class='content_container'>\n\n        <a href='/",(""+get("user_path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"' class='user_name'>",(""+get("full_name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a>\n\n        <span class='comment_body'>",(""+get("body")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</span>\n    </div>\n    <div class='date'>",(""+get("formatted_time")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/establishments/show_comment_form"]=function(obj){var __p=[];with(obj||{})__p.push("<form id='comment_form'>\n    <h3>What makes ",(""+get("name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")," awesome?</h3>\n    <input id='comment_input' class='text_input' type='text' placeholder='Great burgers? Huge burritos? Friendly staff?'>\n    <button class='btn text' type='submit'><img alt=\"Add symbol\" src=\"/assets/add_symbol-913d2bd6423c34026c715dc3167f4f65.svg\" /></button>\n    <br class='clear'>\n</form>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/establishments/show_establishment_hours"]=function(obj){var __p=[];with(obj||{})__p.push("<table></table>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/establishments/show_establishment_info"]=function(obj){var __p=[];with(obj||{})__p.push("<div class='establishment_info left column'>\n    <p class='biz_name'>",(""+get("name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</p>\n    <div class='categories_container'></div>\n\n    "),get("street_number")&&get("street")&&(__p.push('\n        <p class="details">',(""+get("street_number")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")," ",(""+get("street")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</p>\n\n        "),get("city")&&get("state")&&get("zip_code")&&__p.push("\n            <p class='details'>",(""+get("city")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),", ",(""+get("state")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")," ",(""+get("zip_code")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</p>\n        "),__p.push("\n    ")),__p.push("\n    \n    "),get("phone")&&__p.push("\n        <a href='",("tel:"+get("phone")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'\' class="details phone">',(""+get("phone")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a>\n    "),__p.push("\n\n    <div class='details extra'>\n        <p class='price'>",get("price_symbol")?get("price_symbol"):"","</p>\n        "),get("website")&&__p.push('\n            <a class="details website" href="',(""+get("website")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\" target='_blank'>",(""+get("formatted_url")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a>\n        "),__p.push("\n        <br class='clear'>\n    </div>\n    \n    <div class='hours_container'></div>\n    \n</div>\n\n<div class='right column'>\n    <div id='establishment_photos_container'></div>\n</div>\n\n<div class='establishment_action_btn_container'>\n    <div class='add_to_list_btn_container btn_container'></div>\n    <div class='wish_list_btn_container btn_container'></div>\n</div>\n\n<br class='clear'>\n");
return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/establishments/show_establishment_preview_photo"]=function(obj){var __p=[];with(obj||{})__p.push(""),get("preview_photo")&&__p.push("\n    <a href='",(""+get("photos_path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"' id='preview_photos_container'>\n        <img src=\"",(""+get("preview_photo")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'">\n    </a>\n'),__p.push("\n\n<div id='upload_image_form_container' class='upload_prompt_btn'></div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/establishments/show_lists_container"]=function(obj){var __p=[];with(obj||{})__p.push("<h4>Lists featuring ",(""+get("name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</h4>\n<ul id='lists_list' class='lists'></ul>\n<div class='pagination_container'></div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/establishments/show_lists_index_list_no_results"]=function(obj){var __p=[];with(obj||{})__p.push("<li>\n    <p class='no_results'>",(""+get("name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")," isn't on any lists, yet.</p>\n</li>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/followed_users/index_followed_users_list_container"]=function(obj){var __p=[];with(obj||{})__p.push('<div class="followed_users_container">\n    <ul class=\'followed_users users_list\'>\n        <img alt="Throbber sm" src="/assets/throbber_sm-43bd6bd9f3cccc4f6b2a82d162d242b5.gif" />\n    </ul>\n    <div class=\'pagination_container\'></div>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/followed_users/index_no_results"]=function(obj){var __p=[];with(obj||{})__p.push("<li class='no_results'>",(""+get("first_name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")," isn't following anyone yet.</li>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/followers/index_followers_list_container"]=function(obj){var __p=[];with(obj||{})__p.push('<div class="followers_container">\n    <ul class=\'followers users_list\'>\n        <img alt="Throbber sm" src="/assets/throbber_sm-43bd6bd9f3cccc4f6b2a82d162d242b5.gif" />\n    </ul>\n    <div class=\'pagination_container\'></div>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/followers/index_no_results"]=function(obj){var __p=[];with(obj||{})__p.push("<li class='no_results'>No one is following ",(""+get("first_name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")," yet.</li>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/home_page/create_list"]=function(obj){var __p=[];with(obj||{})__p.push("<!-- TODO: Maybe make this a link to a new list with prompt title -->\n<h1>What Places Do You Love?</h1>\n\n<div id='home_page_new_list_btn_container'>\n    <a class='btn text new_list_btn'>Make a Yum List</a>\n</div>\n\n<p>Need some inspiration? How about</p>\n<h3>",(""+prompt).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"?</h3>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/home_page/featured"]=function(obj){var __p=[];with(obj||{})__p.push("<h4>Featured Yum List</h4>\n<div id='featured_list'></div>\n<!-- <div id='featured_user'></div> -->\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/home_page/featured_list"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='featured_list_info'>\n    <div class='list_info_container'>\n        <div class='list_title_container'>\n            <a href=\"",(""+get("path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\" class='nav'>",(""+get("title")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a>\n        </div>\n\n        <div class='list_photo_container'>\n            <a href=\"",(""+get("path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\" class='nav'>\n                <img class='list_photo' src=\"",(""+get("small_url")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\">\n            </a>\n        </div>\n\n        <div class='list_description'>\n            <p>",(""+get("description")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</p>\n        </div>\n    </div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/home_page/featured_user"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='featured_user_info'>\n    <div id='featured_user_image_container'>\n        <a href=\"",(""+get("path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\" id='featured_user_image' class='nav'>\n            <img src=\"",(""+get("avatar_url_small")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\">\n        </a>\n    </div>\n\n    <div id='featured_user_text_container'>\n        <a href=\"",(""+get("path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\" id='featured_user_name' class='nav'>\n            ",(""+get("full_name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'\n        </a>\n\n        <a href="',(""+get("website")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\" id='featured_user_website'>SPADY LADY</a>\n\n        <p>From coffee on the run to full on boozy brunch, this list of my favorite places to enjoy breakfast has something for everyone!</p>\n    </div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/home_page/home_page"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='home_page_container'>\n    <div class='column left'>\n        <div id='create_list_container' class='card border'></div>\n\n        <div id='home_page_user_info_container'></div>\n    </div>\n\n    <div class='column right'>\n        <div id='featured_container' class='card'></div>\n\n        <div id='home_page_lists_container' class='card'>\n            <h4>Recent Lists</h4>\n            <ul id='home_page_lists' class='lists'></ul>\n            <div class='pagination_container'></div>\n        </div>\n    </div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/home_page/list"]=function(obj){var __p=[];with(obj||{})__p.push("<div class='list_photo_container'>\n    <a href=\"",(""+get("path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\" class='nav'>\n        <img class='list_photo' src=\"",(""+get("small_url")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\">\n    </a>\n</div>\n\n<div class='list_info_container'>\n    <div class='list_title_container'>\n        <a href=\"",(""+get("path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\" class='nav'>",(""+get("title")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a>\n    </div>\n\n    <div class='list_user_container'>\n        <div class=\"list_user_info_container\">\n            <a class='list_user_photo nav' href=\"/",(""+get("user_path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'">\n                <img src="',(""+get("user_thumb_url")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'" alt="',(""+get("user_full_name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'">\n            </a>\n\n            <div class="list_user_text">\n                <a class=\'list_user_name nav\' href="/',(""+get("user_path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'">',(""+get("user_full_name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a>\n                <p>",get("user_location")?get("user_location"):"","</p>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div class='favorite_btn_container'></div>\n\n<br class='clear'>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/home_page/signed_in_user_info"]=function(obj){var __p=[];with(obj||{}){__p.push("<div id='current_user_stats_container' class='card border grey'>\n    <div id='current_user_img_container'>\n        <a href=\"",(""+get("url")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\" class='nav'>\n            <img src=\"",(""+get("avatar_url_thumb")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\">\n        </a>\n    </div>\n\n    <div id='current_user_info_container'>\n        <a href=\"",(""+get("url")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\" class='nav name'>",(""+get("full_name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a>\n        "),get("location")&&__p.push("\n            <p>",(""+get("location")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</p>\n        "),__p.push("\n    </div>\n\n    <br class='clear'>\n\n    <div id='tabs_data_container'>\n        ");var tabs=get("tabs_data");__p.push('\n        <table>\n            <tr>\n                <td>\n                    <a href="',(""+tabs.lists.url).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\" class='nav'>",(""+tabs.lists.name+": "+tabs.lists.count).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'</a>\n                </td>\n                <td>\n                    <a href="',(""+tabs.followers.url).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\" class='nav'>",(""+tabs.followers.name+": "+tabs.followers.count).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'</a>\n                </td>\n            </tr>\n            <tr>\n                <td>\n                    <a href="',(""+tabs.favorites.url).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\" class='nav'>",(""+tabs.favorites.name+": "+tabs.favorites.count).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'</a>\n                </td>\n                <td>\n                    <a href="',(""+tabs.following.url).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\" class='nav'>",(""+tabs.following.name+": "+tabs.following.count).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a>\n                </td>\n            </tr>\n        </table>\n    </div>\n</div>\n")}return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/home_page/signed_out_user_info"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='signed_out_user_info_container' class='card'>\n    <h1>What do you<br>\n        recommend?</h1>\n\n    <h3>Collect the restaurants you love into sharable lists and discover exciting, new dining experiences from people you trust.</h3>\n\n    <div id='home_page_login_buttons'>\n        <a href=\"/users/sign_up\" class='btn text login_btn'>Sign Up</a>   \n        <a href=\"/users/sign_in\" class='btn text login_btn'>Sign In</a>\n    </div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/lists/add_to_list_modal"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='add_to_list_modal_container'>\n    <div class='biz_name'>",(""+get("name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</div>\n    "),get("street_number")&&get("street")&&(__p.push('\n        <p class="details">',(""+get("street_number")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")," ",(""+get("street")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</p>\n\n        "),get("city")&&get("state")&&get("zip_code")&&__p.push("\n            <p class='details'>",(""+get("city")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),", ",(""+get("state")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")," ",(""+get("zip_code")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</p>\n        "),__p.push("\n    ")),__p.push("\n\n    <form id='add_listing_to_list_form'>\n        <div id='list_selection_container'>\n            <select id='list_selector'>\n            </select>\n        </div>\n        <textarea id='listing_comment_input' class='text_input' type='text' placeholder='Add a comment' autofocus></textarea>\n        <input type='submit' class='btn text'>\n    </form>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/lists/add_to_list_selection_option"]=function(obj){var __p=[];with(obj||{})__p.push("<option class='list_option' value='",(""+get("id")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"'>",(""+get("title")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</option>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/lists/create_new_list_modal"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='create_new_list_modal'>\n    <h1>Create a new list</h1>\n\n    <form id='create_new_list_form'>\n        <div id='text_fields'>\n            <label>List Title:</label>\n            <textarea id='list_title_input' class='text_input' maxlength='255' placeholder='Best Burritos, Cheap and Tasty, Date Night...' autofocus></textarea>\n\n            <label>List Description:</label>\n            <textarea id='list_desc_input' class='text_input' placeholder='These are all of my favorite Thai Restaurants!'></textarea>\n        </div>\n\n        <input type='submit' id=\"save_new_list\" class='btn text' value='Create'>\n    </form>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/lists/edit"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='list_edit_container' class='sticky_map_container'>\n    "),get("user_id")!==CurrentUser.get("id")&&CurrentUser.get("admin")&&__p.push("\n        <div id='admin_flag' class='card'>\n            <p>EDITING LIST AS ADMIN</p>\n        </div>\n    "),__p.push("\n\n    <div id='list_title_container' class='card border'></div>\n\n    <div id='columns_container'>\n        <div class='column left'>\n            <div id='list_description_container' class='card border grey'></div>\n            \n            <div id='listings_container' class='card'></div>\n        </div>\n\n        <div class='column right sticky_column'>\n            <div id='main_map_pane'>\n                <div class='map_canvas_container'>\n                    <div id='map_canvas'></div>\n                </div>\n            </div>\n        </div>\n        <br class='clear'>\n    </div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/lists/edit_add_listing_search"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='search_wrapper'>\n    <div id='find_establishment_container' class='search_container'>\n        <h3>Search for a Restaurant</h3>\n\n        <form id='establishment_search_form'>\n            <div class='field'>\n                <label for='query'>Restaurant Name:</label><br>\n                <input id='query' class='text_input' type='text' autocomplete='off' placeholder='Brickhouse Cafe' autofocus>\n            </div>\n\n            <div class='field'>\n                <label for='location'>Near:</label><br>\n                <input id='location' class='text_input' type='text' autocomplete='off' value=\"",(""+EstablishmentSearch.get("location_name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\">\n            </div>\n\n            <div class='center'>\n                <input class='btn text' type='submit' value='Submit'>\n            </div>\n        </form>\n    </div>\n\n    <div id='find_establishment_results_container'></div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/lists/edit_add_listing_search_establishment"]=function(obj){var __p=[];with(obj||{})__p.push("<div class='establishment_info'>\n    "),get("path")?__p.push("\n        <a class='biz_name' href='",("/"+get("path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"'>",(""+get("name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a>\n    "):__p.push("\n        <div class='biz_name'>",(""+get("name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</div>\n    "),__p.push("\n\n    <div class='details'>",(""+get("formatted_address")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</div>\n</div>\n\n<div class='establishment_action_btn_container'>\n    "),get("listed")?__p.push("\n        <a class='engaged btn text'>Listed</a>\n    "):__p.push("\n        <a class='add_btn btn text'>Add to List</a>\n    "),__p.push("\n</div>\n\n<br class='clear'>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/lists/edit_add_listing_search_suggestion_list"]=function(obj){var __p=[];with(obj||{})__p.push("<ul id='find_establishment_results' class='establishments_list'></ul>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/lists/edit_description"]=function(obj){var __p=[];with(obj||{})__p.push("<textarea class='list_info_input' id='description_input' placeholder='Tell us a little more about your awesome Yum List!'>",(""+get("description")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</textarea>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/lists/edit_list_photo"]=function(obj){var __p=[];with(obj||{})__p.push(""),get("small_url")?__p.push("\n    <img id='list_photo' src=\"",(""+get("small_url")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'">\n'):__p.push("\n    <img id='list_photo' src=\"/no_photo.svg\">\n"),__p.push("\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/lists/edit_list_photo_container"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='list_photo_image_container'></div>\n\n<div id='add_photo_modal_btn_container' class='upload_prompt_btn'>\n    <label id='add_photo_modal_btn'>Pick a new photo<button><img alt=\"Camera icon\" src=\"/assets/camera_icon-75c5a14baac60aadac5a44aa73cd12ef.svg\" /></button></label>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/lists/edit_list_photo_selector_modal"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='edit_list_image_selector_container' class='image_search_container'>\n    <h1>Upload a New Photo</h1>\n    <div id='upload_image_form_container' class='upload_prompt_btn'></div>\n\n    <p>- OR -</p>\n\n    <h1>Choose from Your Existing Photos</h1>\n    <ul id='user_images_list' class=\"image_search_list\"></ul>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/lists/edit_list_photo_upload_image_form"]=function(obj){var __p=[];with(obj||{})__p.push("<div class='btn' id='upload_btn_container'>\n    <label>Add Photo<button><img alt=\"Camera icon\" src=\"/assets/camera_icon-75c5a14baac60aadac5a44aa73cd12ef.svg\" /></button></label>\n    <div class='upload_throbber_container'></div>\n</div>\n\n"),CurrentUser.logged_in()&&__p.push('\n    <form class=\'photo_upload_form\' method="post" enctype="multipart/form-data" action=\'/api/users/photo\'>\n        <input name="authenticity_token" value="',(""+$('meta[name="csrf-token"]')[0].content).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'" type="hidden">\n        <input name="establishment_id" value="',(""+get("id")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\" type=\"hidden\">\n        <input type='file' name='image' capture='camera'>\n    </form>\n"),__p.push("\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/lists/edit_list_photo_user_image"]=function(obj){var __p=[];with(obj||{})__p.push('<img src="',(""+get("small_url")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'">\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/lists/edit_listing"]=function(obj){var __p=[];with(obj||{})__p.push("<a class='delete_listing delete'>x</a>\n\n<div class=\"establishment_info\">\n    <a href='/",(""+get("path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"' class='biz_name'>",(""+get("name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a>\n    <div class='categories_container'></div>\n\n    "),get("street_number")&&get("street")&&__p.push('\n        <p class="details">',(""+get("street_number")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")," ",(""+get("street")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</p>\n    "),__p.push("\n\n     "),get("city")&&get("state")&&__p.push("\n        <p class='details'>",(""+get("city")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),", ",(""+get("state")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</p>\n    "),__p.push("\n\n    "),get("phone")&&__p.push("\n        <a href='",("tel:"+get("phone")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'\' class="details phone">',(""+get("phone")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a>\n    "),__p.push("\n\n    <div class='details extra'>\n        <p class='price'>",get("price_symbol")?get("price_symbol"):"","</p>\n        "),get("website")&&__p.push('\n            <a class="details website" href="',(""+get("website")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\" target='_blank'>",(""+get("formatted_url")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a>\n        "),__p.push("\n        <br class='clear'>\n    </div>\n</div>\n\n<div class='listing_photo_container'></div>\n\n<div class='listing_comment_container'></div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/lists/edit_listing_comment"]=function(obj){var __p=[];with(obj||{})__p.push("<div class='comment_container'>\n    <div class='content_container'>\n        <form class='comment_form'>\n            "),get("body")?__p.push("\n                <textarea class='comment_input text_input'>",(""+get("body")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</textarea>\n                <div class='date'>",(""+get("formatted_time")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</div>\n            "):__p.push("\n                <textarea class='comment_input text_input' placeholder='What do you love about this place?'></textarea>\n            "),__p.push("\n            \n            <input type='submit' value='Save' class='btn text'>\n        </form>\n    </div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/lists/edit_listing_photo"]=function(obj){var __p=[];with(obj||{})__p.push(""),get("small_url")?__p.push("\n    <img class='listing_photo' src=\"",(""+get("small_url")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'">\n'):__p.push("\n    <img class='listing_photo' src=\"/no_photo.svg\">\n"),__p.push("\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/lists/edit_listing_photo_container"]=function(obj){var __p=[];with(obj||{})__p.push("<div class='listing_photo_image_container'></div>\n\n<div class='upload_prompt_btn'>\n    <label class='add_listing_photo_modal_btn'>Pick a new photo<button><img alt=\"Camera icon\" src=\"/assets/camera_icon-75c5a14baac60aadac5a44aa73cd12ef.svg\" /></button></label>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/lists/edit_listing_photo_selector_modal"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='edit_listing_image_selector_container' class='image_search_container'>\n    <h1>Choose a Photo</h1>\n    <ul id='establishment_images_list' class='image_search_list'></ul>\n\n    <p id=\"add_a_photo\">\n      Add a new photo for <a href=\"/",(""+get("path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\" class='nav'>",(""+get("name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a>.\n    </p>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/lists/edit_listings_container"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='add_listing_btn_container'>\n    <button id='listing_container_add_listing_btn' class='btn'>Add A Restaurant to List</button>\n</div>\n<ol class='establishments_list'></ol>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/lists/edit_title"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='list_photo_container'></div>\n\n<div id='list_title_info_container'>\n    <div id='title_container'>\n        "),"WishList"===get("type")?__p.push("\n            <h1 title='Wish List title cannot be changed.'>",(""+get("title")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</h1>            \n        "):__p.push("\n            <textarea name='title' class='list_info_input' id='title_input' maxlength='255'>",(""+get("title")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</textarea>\n            <a id='delete_list' class='delete'>Delete List</a>\n        "),__p.push("\n    </div>\n\n    <div id='title_lower_row'>\n        <div id=\"list_user_info_container\">\n            <a id='list_user_photo' class='nav' href=\"/",(""+CurrentUser.get("path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'">\n                <img src="',(""+CurrentUser.get("thumb_url")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'" alt="',(""+CurrentUser.get("full_name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\">\n            </a>\n\n            <div id=\"list_user_text\">\n                <a id='list_user_name' class='nav' href=\"/",(""+CurrentUser.get("path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'">',(""+CurrentUser.get("full_name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a>\n                <p id='list_updated_at'>Updated ",(""+get("formatted_time")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</p>\n            </div>\n        </div>\n\n        <div class='list_action_btn_container'>\n            <div id='edit_list_button'>\n                <a href=\"",("/lists/"+get("slug")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\" id='save_btn' class='btn text green_btn'>Save List</a>\n            </div>\n            <br class='clear'>\n        </div>\n    </div>\n</div>\n\n<br class='clear'>\n\n");
return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/lists/index_list"]=function(obj){var __p=[];with(obj||{})__p.push("<div class='list_photo_container'>\n    <a href=\"/",(""+get("path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\" class='nav'>\n        <img class='list_photo' src=\"",(""+get("small_url")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\">\n    </a>\n</div>\n\n<div class='list_info_container'>\n    <div class='list_title_container'>\n        <a href=\"/",(""+get("path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\" class='nav'>",(""+get("title")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a>\n    </div>\n\n    "),get("show_description")&&get("description")?__p.push("\n        <p class='description'>",(""+get("description")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</p>\n    "):__p.push("\n        <div class='list_user_container'>\n            <div class=\"list_user_info_container\">\n                <a class='list_user_photo nav' href=\"/",(""+get("user_path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'">\n                    <img src="',(""+get("user_thumb_url")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'" alt="',(""+get("user_full_name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'">\n                </a>\n\n                <div class="list_user_text">\n                    <a class=\'list_user_name nav\' href="/',(""+get("user_path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'">',(""+get("user_full_name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a>\n                    <p>Updated ",(""+get("formatted_time")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</p>\n                </div>\n            </div>\n        </div>\n    "),__p.push("\n</div>\n\n<div class='favorite_btn_container'></div>\n<br class='clear'>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/lists/no_listing_results"]=function(obj){var __p=[];with(obj||{})__p.push("<p id='no_results_message' class='card'>No listings in this list, yet!</p>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/lists/pagination"]=function(obj){var __p=[];with(obj||{}){if(__p.push("<div class='pagination_controls'>\n    <div class='pagination prev'>\n        "),1!==current_page){__p.push("\n            ");var prev_page=Number(current_page)-1;__p.push("\n            <a class='page prev' href='",(""+window.location.pathname+"?"+encodeURIComponent($.param({page:prev_page}))).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"' rel='",(""+prev_page).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"'>Prev</a>\n        ")}if(__p.push("\n    </div>\n\n    <div class='pagination counter'>\n        <p>Page ",(""+current_page).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")," of ",(""+(0==total_pages?1:total_pages)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")," </p>\n    </div>\n\n    <div class='pagination next'>\n        "),current_page!==total_pages&&0!==total_pages){__p.push("\n            ");var next_page=Number(current_page)+1;__p.push("\n            <a class='page next' href='",(""+window.location.pathname+"?"+encodeURIComponent($.param({page:next_page}))).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"' rel='",(""+next_page).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"'>Next</a>\n        ")}__p.push("\n    </div>\n\n    <br class='clear'>\n</div>\n")}return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/lists/show"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='list_show_container' class='sticky_map_container'>\n    <div id='list_title_container' class='card border'></div>\n\n    <div id='columns_container'>\n        <div class='column left'>\n            <div id='list_description_container' class='card border grey'></div>\n            \n            <div id='listings_container' class='card'>\n                <ol class='establishments_list'></ol>\n                <div class='pagination_container'></div>\n            </div>\n        </div>\n\n        <div class='column right sticky_column'>\n            <div id='main_map_pane'>\n                <div class='map_canvas_container'>\n                    <div id='map_canvas'></div>\n                </div>\n            </div>\n        </div>\n        <br class='clear'>\n    </div>\n</div>\n\n<!-- Google Code for View Web Form AdWords Conversion Page -->\n<script type=\"text/javascript\">\n    /* <![CDATA[ */\n    var google_conversion_id = 978474554;\n    var google_conversion_language = \"en\";\n    var google_conversion_format = \"3\";\n    var google_conversion_color = \"ffffff\";\n    var google_conversion_label = \"ZNFqCIa4pwgQuqzJ0gM\";\n    var google_remarketing_only = false;\n    /* ]]> */\n\n    // save old document.write\n    var oldDocumentWrite = document.write; \n\n    // change document.write temporary\n    document.write = function (node){\n        $(\"body\").append(node);\n    }\n\n    // get script\n    $.getScript( \"http://www.googleadservices.com/pagead/conversion.js\", function () {\n\n        new Image().src = \"http://www.googleadservices.com/pagead/conversion/978474554/?label=ZNFqCIa4pwgQuqzJ0gM&amp;guid=ON&amp;script=0\"\n\n        // replace the temp document.write with the original version\n        setTimeout(function() {\n            document.write = oldDocumentWrite;\n        }, 100)\n    });\n    \n</script>\n\n\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/lists/show_description"]=function(obj){var __p=[];with(obj||{})__p.push("<p>",(""+get("description")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</p>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/lists/show_listing"]=function(obj){var __p=[];with(obj||{})__p.push('<div class="establishment_info">\n    <a href=\'/',(""+get("path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"' class='biz_name nav'>",(""+get("name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a>\n    <div class='categories_container'></div>\n\n    "),get("street_number")&&get("street")&&__p.push('\n        <p class="details">',(""+get("street_number")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")," ",(""+get("street")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</p>\n    "),__p.push("\n\n     "),get("city")&&get("state")&&__p.push("\n        <p class='details'>",(""+get("city")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),", ",(""+get("state")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</p>\n    "),__p.push("\n\n    "),get("phone")&&__p.push("\n        <a href='",("tel:"+get("phone")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'\' class="details phone">',(""+get("phone")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a>\n    "),__p.push("\n\n    <div class='details extra'>\n        <p class='price'>",get("price_symbol")?get("price_symbol"):"","</p>\n        "),get("website")&&__p.push('\n            <a class="details website" href="',(""+get("website")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\" target='_blank'>",(""+get("formatted_url")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a>\n        "),__p.push("\n        <br class='clear'>\n    </div>\n\n    <div class='establishment_action_btn_container'>\n        <div class='add_to_list_btn_container'>\n            <a class='add_to_list_btn btn unengaged text'>Add to List</a>\n        </div>\n\n        <div class='wish_list_btn_container'></div>\n    </div>\n</div>\n\n<div class='listing_photo_container'>\n    "),get("small_url")&&"/no_photo.svg"!==get("small_url")&&__p.push("\n        <a href='/",(""+get("path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"/photos' class='nav'>\n            <img class='listing_photo' src=\"",(""+get("small_url")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'">\n        </a>\n    '),__p.push("\n</div>\n\n<br class='clear'>\n\n<div class='listing_comment_container'></div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/lists/show_listing_comment"]=function(obj){var __p=[];with(obj||{})__p.push("<div class='comment_container'>\n    <div class='content_container'>\n        <span class='comment_body'>",(""+get("body")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</span>\n    </div>\n    <div class='date'>",(""+get("formatted_time")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/lists/show_title"]=function(obj){var __p=[];with(obj||{})__p.push(""),get("small_url")&&__p.push("\n    <div id='list_photo_container'>\n        <img id='list_photo' src=\"",(""+get("small_url")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'">\n    </div>\n'),__p.push("\n\n<div id='list_title_info_container'>\n    <div id='title_container'>\n        <h1>",(""+get("title")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</h1>\n    </div>\n\n    <div id='title_lower_row'>\n        <div id=\"list_user_info_container\">\n            <a id='list_user_photo' class='nav' href=\"/",(""+get("user_path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'">\n                <img src="',(""+get("user_thumb_url")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'" alt="',(""+get("user_full_name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\">\n            </a>\n\n            <div id=\"list_user_text\">\n                <a id='list_user_name' class='nav' href=\"/",(""+get("user_path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'">',(""+get("user_full_name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a>\n                <p id='list_updated_at'>Updated ",(""+get("formatted_time")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</p>\n                <div id='social_buttons_container'></div>\n            </div>\n\n        </div>\n\n        <div class='list_action_btn_container'>\n            "),CurrentUser.logged_in()&&CurrentUser.id===get("user_id")&&__p.push("\n                <div id='edit_list_button'>\n                    <a href=\"",("/"+get("edit_path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\" class='edit btn text nav'>Edit List</a>\n                </div>\n            "),__p.push("\n\n            <div id='list_favorite_button'></div>\n            <br class='clear'>\n        </div>\n    </div>\n</div>\n\n<br class='clear'>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/main/index"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='main_index_establishments_container' class='sticky_map_container'>\n    <div id='main_filter_container' class='card border grey'></div>\n\n    <div id='columns_container'>\n        <div class='column left'>\n            <div id='establishments_list_container' class='card border'>\n                <ol class='establishments_list'></ol>\n                <div class='pagination_container'></div>\n            </div>\n        </div>\n\n        <div class='column right sticky_column'>\n            <div id='main_map_pane'>\n                <div class='map_canvas_container'>\n                    <div id='map_canvas'></div>\n                </div>\n            </div>\n        </div>\n        <br class='clear'>\n    </div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/photos/media_viewer"]=function(obj){var __p=[];with(obj||{})__p.push("<div class='flex-viewport'>\n    <ul class='slides'></ul>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/photos/media_viewer_container"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='flexslider_container'>\n    <div class='flexslider'></div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/photos/media_viewer_photo"]=function(obj){var __p=[];with(obj||{})__p.push('<img src="',(""+get("medium_url")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\">\n<div class='flex-caption'>\n    "),CurrentUser.get("id")==get("user_id")&&__p.push("\n        <a class='delete_photo'>delete</a>\n    "),__p.push("\n    \n    <a href='/users/",(""+get("user_id")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"' class='user_name'>",(""+get("full_name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a>\n\n    "),get("caption")&&__p.push("\n        <p class='caption'>",(""+get("caption")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</p>\n    "),__p.push("\n\n    <p class='date'>",(""+get("formatted_time")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</p>\n</div>\n<br class='clear'>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/photos/no_results"]=function(obj){var __p=[];with(obj||{})__p.push("<p id='no_results_message' class='card no_result'>",(""+get("name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")," doesn't have any photos, yet!</p>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/photos/photo_upload_caption_form"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='caption_form_container'>\n    <h1>Add a Caption</h1>\n    \n    <img src=\"",(""+get("medium_url")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\">\n\n    <form id='caption_form'>\n        <textarea id='caption_input' class='text_input' placeholder='Leave a comment' maxlength='255' autofocus></textarea>\n        <div id='char_counter'>Characters remaining: <span>255</span></div>\n\n        <input type='submit' class='btn text'>\n        <a class='skip'>Skip</a>\n    </form>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/photos/photo_upload_image_form"]=function(obj){var __p=[];with(obj||{})__p.push('<div class=\'upload_throbber_container\'></div>\n\n<label>Add Photo<button><img alt="Camera icon" src="/assets/camera_icon-75c5a14baac60aadac5a44aa73cd12ef.svg" /></button></label>\n\n'),CurrentUser.logged_in()&&__p.push('\n    <form class=\'photo_upload_form\' method="post" enctype="multipart/form-data" action=\'/api/users/photo\'>\n        <input name="authenticity_token" value="',(""+$('meta[name="csrf-token"]')[0].content).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'" type="hidden">\n        <input name="establishment_id" value="',(""+get("id")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\" type=\"hidden\">\n        <input type='file' name='image' capture='camera'>\n    </form>\n"),__p.push("\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/photos/preview_photo"]=function(obj){var __p=[];with(obj||{})__p.push("<img class='preview_photo' src=\"",(""+get("thumb_url")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'">\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/users/access_token_login"]=function(obj){var __p=[];with(obj||{})__p.push('<a href="',(""+obj.renew_url).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'">\n    <img alt="Fb find friends" class="facebook" src="/assets/fb_find_friends-3da2f10b1ab63dd4fc460329fe4a2c9e.svg" />\n</a>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/users/find_facebook_friends"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='search_wrapper'>\n    <div id='find_user_container' class='search_container card border'>\n        <h3>Facebook Friends on YumHacker</h3>\n        <div class='done'>\n            <a class='btn text nav' href='",("/?"+encodeURIComponent($.param(_.extend(Location.predicate(),Filter.predicate(),Client.predicate())))).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"'>Done</a>\n        </div>\n    </div>\n        \n    <div id='find_user_results_container'></div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/users/index_user"]=function(obj){var __p=[];with(obj||{})__p.push("<div class='user_container'>\n    <a href='/",(""+get("path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"' class='user img'><img src=\"",(""+get("avatar_url_thumb")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\"></a>\n    <a href='/",(""+get("path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"' class='user name'>",(""+get("full_name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a>\n</div>\n<div class='follow_btn_container'></div>\n<br class='clear'>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/users/search"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='search_wrapper'>\n    <div id='find_user_container' class='search_container card border'>\n        <h3>Search for Friends</h3>\n\n        "),"facebook"===CurrentUser.get("provider")&&__p.push('\n            <a id=\'find_friends_button\' href="/users/find_facebook_friends">\n                <img alt="Fb find friends" class="facebook" src="/assets/fb_find_friends-3da2f10b1ab63dd4fc460329fe4a2c9e.svg" />\n            </a>\n            <p class=\'or\'>- or -</p>\n        '),__p.push("\n\n        <form id='user_search_form'>\n\n            <div class='field'>\n                <label for='query'>Search by first name, last name, or email:</label><br>\n                <input id='query' type='text' autocomplete='off' placeholder='bob.smith@example.com' autofocus class='text_input'>\n            </div>\n\n            <div class='center'>\n                <input class='btn text' type='submit' value='Submit'>\n            </div>\n        </form>\n    </div>\n        \n    <div id='find_user_results_container'></div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/users/search_suggestion_list"]=function(obj){var __p=[];with(obj||{})__p.push("<ul id='find_user_results' class='lists card border grey'></ul>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/users/show"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='user_show_container'>\n    <div id='user_model_container' class='column left'></div>\n\n    <div id='following_container' class='column right'>\n        <div class=\"card\" id='follow_tabs_container'></div>\n        <div class=\"card following_list_container\" id='following_list_container'>\n            <div class=\"lists_container\">\n            </div>\n        </div>\n    </div>\n    <br class='clear'>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/users/show_favorites_no_results"]=function(obj){var __p=[];with(obj||{})__p.push("<li class='no_results'>",(""+get("first_name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")," hasn't favorited any lists, yet.</li>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/users/show_lists_index_list_container"]=function(obj){var __p=[];with(obj||{})__p.push('<div class="lists_container">\n    <ul class=\'lists\'>\n        <img alt="Throbber sm" src="/assets/throbber_sm-43bd6bd9f3cccc4f6b2a82d162d242b5.gif" />\n    </ul>\n    <div class=\'pagination_container\'></div>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/users/show_lists_no_results"]=function(obj){var __p=[];with(obj||{})__p.push("<li class='no_results'>",(""+get("first_name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")," hasn't created any lists, yet.</li>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/users/show_stuff"]=function(obj){var __p=[];with(obj||{})__p.push("<ul class='lists'>\n    <img alt=\"Throbber sm\" src=\"/assets/throbber_sm-43bd6bd9f3cccc4f6b2a82d162d242b5.gif\" />\n</ul>\n<div class='pagination_container'></div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/users/show_tabs"]=function(obj){var __p=[];with(obj||{})__p.push('<a href="',(""+lists.url).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\" id='lists_tab' class=\"tab ",(""+(lists.selected?"current_tab":"")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'">Yum Lists: ',(""+lists.count).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'</a>\n<a href="',(""+favorites.url).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\" id='favorites_tab' class=\"tab ",(""+(favorites.selected?"current_tab":"")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'">Favorites: ',(""+favorites.count).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'</a>\n<a href="',(""+following.url).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\" id='followed_users_tab' class=\"tab ",(""+(following.selected?"current_tab":"")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'">Following: ',(""+following.count).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'</a>\n<a href="',(""+followers.url).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\" id='followers_tab' class=\"tab ",(""+(followers.selected?"current_tab":"")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'">Followers: ',(""+followers.count).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a>\n<br class='clear'>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/users/show_user"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='profile_container' class='card border'>\n    <h1 class='user_name'>",(""+get("full_name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</h1>\n\n    <div class='photo_container'>\n        <img src=\"",(""+get("avatar_url_small")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'" >\n    </div>\n\n    '),get("location")&&__p.push("\n        <p class='location details'>",(""+get("location")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</p>\n    "),__p.push("\n    \n    "),get("website")&&__p.push('\n        <a href="',(""+get("website")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\" class='website details'>",(""+get("website")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a>\n    "),__p.push("\n\n    "),get("description")&&__p.push("\n        <p class='description details'>",(""+get("description")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</p>\n    "),__p.push("\n\n    <div class='follow_btn_container'>\n        "),CurrentUser.logged_in()&&__p.push("\n            <a href='/users/edit' class='edit btn text'>Edit Profile</a>\n        "),__p.push("\n    </div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/users/sign_up_find_facebook_friends"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='search_wrapper'>\n    <div id='find_user_container' class='search_container card border'>\n        <h3>Your Facebook Friends on YumHacker</h3>\n        <h4>You're following all of your Facebook friends on YumHacker!</h4>\n        <div class='done'>\n            <a class='btn text nav' href=\"/\">Done</a>\n        </div>\n    </div>\n\n    \n    <div id='find_user_results_container'></div>\n</div>\n");return __p.join("")}}.call(this),ApplicationAddToListButtonView=Backbone.View.extend({events:{"click .add_to_list_btn":"showAddListingToListModal"},initialize:function(){this.render()},render:function(){this.$el.html(render("application/add_to_list_button",this.model))},showAddListingToListModal:function(){CurrentUser.logged_in()?ModalView.show(new ListsAddToListModalView({el:"#inner_modal_content",model:this.model})):CurrentUser.authenticate()}}),AuthenticationOptionsView=Backbone.View.extend({events:{},initialize:function(){this.render()},render:function(){this.$el.html(""),this.$el.html(render("application/authentication_options"))}}),ChangeLocationModalView=Backbone.View.extend({events:{},initialize:function(){this.render(),this.main_search_view=new MainSearchView({el:"#main_search_view_container"})},render:function(){this.$el.html(render("application/change_current_location_modal"))}}),ContactView=Backbone.View.extend({events:{"click .nav":"navigate"},title:"Contact | YumHacker",description:"Find "+Client.get("formatted_address")+" restaurants and bars endorsed by people you trust. Get restaurant and bar photos, reviews, hours and more!",initialize:function(){this.render(),App.eventAggregator.trigger("domchange:title",this.title),App.eventAggregator.trigger("domchange:description",this.description)},render:function(){this.$el.html(""),this.$el.html(render("application/contact")),window.scrollTo(0,0)},navigate:function(e){e.preventDefault(),App.navigate(e.target.pathname,{trigger:!0})}}),ApplicationEndorseButtonView=Backbone.View.extend({events:{"click .endorse_btn":"toggleEndorsing"},initialize:function(e){this.model=new EndorseButton,this.listenTo(this.model,"sync",this.render),this.listenTo(this.model,"change",this.render),this.model.set({establishment_id:e.establishment.get("id"),user_endorsing:e.establishment.get("user_endorsing")},{silent:!0}),this.render()},render:function(){this.$el.html(render("application/endorse_button",this.model))},toggleEndorsing:function(e){e.preventDefault(),this.model.toggle()}}),ApplicationFavoriteButtonView=Backbone.View.extend({events:{"click .favorite_btn":"toggleFavoriting"},initialize:function(){this.listenTo(this.model,"sync",this.render),this.listenTo(this.model,"change",this.render),this.render()},render:function(){this.$el.html(render("application/favorite_button",this.model))},toggleFavoriting:function(e){e.preventDefault(),this.model.toggle()}}),FilterCategoriesListView=Backbone.View.extend({events:{"change select":"setCategoriesFilter"},initialize:function(){this.collection=new CategoriesCollection,this.listenTo(this.collection,"reset",this.render),this.listenTo(Location,"change",this.render),this.collection.fetch({reset:!0})},render:function(){this.$el.html(""),this.currentCenterInSF()?(this.$el.html(render("application/filter_categories_list")),this.collection.each(function(e){this.renderCategory(e)},this),$("#categories_options_container #cat_"+Filter.get("categories")).attr("selected","selected")):Filter.set("categories",[])
},renderCategory:function(e){this.$("select").append(render("application/filter_categories_option",e))},currentCenterInSF:function(){var e=Location.get("center"),t=new google.maps.LatLng(e.lat,e.lng),n={lat:37.75771766222792,lng:-122.43554750805669},i=(new google.maps.LatLng(n.lat,n.lng),new google.maps.LatLng(37.82554488525898,-122.35143343334965)),a=new google.maps.LatLng(37.68982819423963,-122.51966158276372),r=new google.maps.LatLngBounds(a,i);return r.contains(t)},setCategoriesFilter:function(e){Filter.set("categories",$(e.target).val()),Filter.set("category_name",e.target.selectedOptions[0].innerHTML)}}),FilterView=Backbone.View.extend({events:{"click input:radio":"toggleFollowingFilter"},initialize:function(){this.render()},render:function(){this.$el.html(""),this.$el.html(render("application/filter")),this.filter_categories_list_view=new FilterCategoriesListView({el:this.$("#filter_categories_container")})},toggleFollowingFilter:function(e){Filter.set("relation",$(e.target).val())}}),ApplicationFollowButtonView=Backbone.View.extend({events:{"click .follow_btn":"toggleFollowing"},initialize:function(e){e.user.get("id")!=CurrentUser.get("id")&&(this.model=new FollowButton,this.listenTo(this.model,"sync",this.render),this.listenTo(this.model,"change",this.render),this.model.set({user_id:e.user.get("id"),following:e.user.get("following")},{silent:!0}),this.render())},render:function(){this.$el.html(render("application/follow_button",this.model))},toggleFollowing:function(e){e.preventDefault(),this.model.toggle()}}),FooterView=Backbone.View.extend({events:{"click .nav":"navigate"},initialize:function(){this.render()},render:function(){this.$el.html(""),this.$el.html(render("application/footer"))},navigate:function(e){e.preventDefault(),App.navigate(e.target.pathname,{trigger:!0})}}),HeaderCurrentLocationView=Backbone.View.extend({events:{"click a#change_location":"showChangeLocationModal","click .nav":"navigate"},initialize:function(){this.listenTo(Client,"change:formatted_address",this.render),this.render()},render:function(){this.$el.html(render("application/header_current_location"))},showChangeLocationModal:function(e){e.preventDefault(),ModalView.show(new ChangeLocationModalView({el:"#inner_modal_content"}))},navigate:function(e){e.preventDefault(),e.stopPropagation(),App.navigate(e.target.pathname+e.currentTarget.search,{trigger:!0})}}),HeaderSearchOptionsView=Backbone.View.extend({events:{"click .nav":"navigate"},initialize:function(){this.render()},render:function(){this.$el.html(""),this.$el.html(render("application/header_search_options"))},navigate:function(e){e.preventDefault(),App.navigate(e.currentTarget.pathname+e.currentTarget.search,{trigger:!0})}}),HeaderView=Backbone.View.extend({events:{"click .nav":"navigate"},initialize:function(){this.render(),this.listenTo(Location,"change",this.render)},render:function(){this.$el.html(""),this.$el.html(render("application/header")),this.current_location_view=new HeaderCurrentLocationView({el:"#current_location_container"}),this.header_search_view=new HeaderSearchOptionsView({el:"#search_options_container"}),this.new_list_view=new NewListButtonView({el:"#new_list_btn_container"})},navigate:function(e){e.preventDefault(),App.navigate(e.currentTarget.pathname+e.currentTarget.search,{trigger:!0})}}),MainSearchView=Backbone.View.extend({events:{submit:"getLatLng","click #nearby_btn":"getUserLocation"},initialize:function(){this.render(),this.listenTo(Client,"change:formatted_address",this.changeInputValue),this.listenTo(Client,"change:formatted_address",function(){ModalView.hide()})},render:function(){this.$el.html(""),this.$el.html(render("application/main_search"))},changeInputValue:function(){$("#location_container input").val(Client.get("formatted_address"))},getLatLng:function(e){e.preventDefault(),"Current Location"===e.target[1].value?this.getUserLocation():MainSearch.geocode(e.target[1].value)},getUserLocation:function(e){e&&e.preventDefault(),window.getCurrentLocation(function(e){var t={lat:e.coords.latitude,lng:e.coords.longitude};Client.set("formatted_address","Current Location"),Location.set({center:t,contained_in:"radius"})})}}),ApplicationModalView=Backbone.View.extend({events:{"click .cancel":"hide"},initialize:function(){this.render()},render:function(){this.$el.html(render("application/modal"))},show:function(e){this.view=e,this.$("inner_modal_content").html(e.el),this.$el.show()},hide:function(){var e=this;this.$el.fadeOut("20",function(){e.view.remove(),e.$(".inner_modal").append($("<div>",{id:"inner_modal_content"}))})}}),NewListButtonView=Backbone.View.extend({events:{"click .new_list_btn":"createNewList"},initialize:function(){this.render()},render:function(){this.$el.html(render("application/new_list_button"))},createNewList:function(e){e.preventDefault(),CurrentUser.logged_in()?App.navigate("/lists/new",{trigger:!0}):CurrentUser.authenticate()}}),PaginationView=Backbone.View.extend({events:{"click a.page":"pageChange"},initialize:function(){this.listenTo(this.collection,"reset",this.render)},render:function(){this.$el.html(render("application/pagination",this.collection))},pageChange:function(e){e.preventDefault(),e.target.rel&&this.collection.trigger("paginate",Number(e.target.rel))}}),PrivacyView=Backbone.View.extend({events:{},title:"Privacy | YumHacker",description:"Find "+Client.get("formatted_address")+" restaurants and bars endorsed by people you trust. Get restaurant and bar photos, reviews, hours and more!",initialize:function(){this.render(),App.eventAggregator.trigger("domchange:title",this.title),App.eventAggregator.trigger("domchange:description",this.description)},render:function(){this.$el.html(""),this.$el.html(render("application/privacy")),window.scrollTo(0,0)}}),SocialButtonsView=Backbone.View.extend({events:{"click #facebook_share":"postToFBFeed"},initialize:function(){this.render()},render:function(){this.$el.append(render("application/social_buttons",this.model))},postToFBFeed:function(e){e.preventDefault();var t={method:"feed",link:window.location.origin+"/"+this.model.get("path"),picture:window.location.origin+this.model.get("small_url"),name:this.model.get("title"),caption:"",description:this.model.get("description")};FB.ui(t)}}),TermsView=Backbone.View.extend({events:{"click a.toggle":"toggleTerms"},title:"Terms | YumHacker",description:"Find "+Client.get("formatted_address")+" restaurants and bars endorsed by people you trust. Get restaurant and bar photos, reviews, hours and more!",initialize:function(){this.render(),App.eventAggregator.trigger("domchange:title",this.title),App.eventAggregator.trigger("domchange:description",this.description)},render:function(){this.$el.html(""),this.$el.html(render("application/terms")),window.scrollTo(0,0),this.startStream()},toggleTerms:function(){$("canvas").hide(),$(".toggle").hide(),$(".boring_terms").show()},startStream:function(){function e(e){this.word=e,this.y=30,this.y0=30,this.x=l/2,this.color="#313136",this.time=0,this.draw=function(){s.textBaseline="middle",s.textAlign="center",s.fillStyle=this.color,s.font="20px Arial",s.fillText(this.word,this.x,this.y)}}function t(t){c.push(new e(t))}function n(){_.each(c,function(e){e.y>=o-50?e.y=o-30:(e.y=e.y0+.5*u*Math.pow(e.time,2),e.time+=h,e.color="rgba(0,0,0,0.3)")})}function i(){_.each(c,function(e){e.draw()}),n()}function a(){c.length<d.length&&t(d[c.length]),s.clearRect(0,0,l,o),i(),setTimeout(a,h)}var r=$("canvas")[0],s=r.getContext("2d"),o=window.innerHeight-300,l=800,c=[],u=1e-4,h=70,d=this.tos;r.height=o,r.width=l,a()},tos:"Terms of Service:   The following terms and conditions govern all use of the yumhacker.com website and all content, services and products available at or through the website (the Website). The Website is owned and operated by YumHacker. (“YumHacker”). The Website is offered subject to your acceptance without modification of all of the terms and conditions contained herein and all other operating rules, policies (including, without limitation, YumHacker’s Privacy Policy) and procedures that may be published from time to time on this Site by YumHacker (collectively, the “Agreement”). Please read this Agreement carefully before accessing or using the Website. By accessing or using any part of the web site, you agree to become bound by the terms and conditions of this agreement. If you do not agree to all the terms and conditions of this agreement, then you may not access the Website or use any services. If these terms and conditions are considered an offer by YumHacker, acceptance is expressly limited to these terms. Your yumhacker.com Account and Site. If you create an account on the Website, you are responsible for maintaining the security of your account, and you are fully responsible for all activities that occur under the account and any other actions taken in connection with the account. You must not describe or assign keywords to your account in a misleading or unlawful manner, including in a manner intended to trade on the name or reputation of others, and YumHacker may change or remove any description or keyword that it considers inappropriate or unlawful, or otherwise likely to cause YumHacker liability. You must immediately notify YumHacker of any unauthorized uses of your account, your account or any other breaches of security. YumHacker will not be liable for any acts or omissions by You, including any damages of any kind incurred as a result of such acts or omissions. Responsibility of Contributors. If you operate an account, comment on a account, post material to the Website, post links on the Website, or otherwise make (or allow any third party to make) material available by means of the Website (any such material, “Content”), You are entirely responsible for the content of, and any harm resulting from, that Content. That is the case regardless of whether the Content in question constitutes text, graphics, an audio file, or computer software. By making Content available, you represent and warrant that: the downloading, copying and use of the Content will not infringe the proprietary rights, including but not limited to the copyright, patent, trademark or trade secret rights, of any third party; if your employer has rights to intellectual property you create, you have either (i) received permission from your employer to post or make available the Content, including but not limited to any software, or (ii) secured from your employer a waiver as to all rights in or to the Content; you have fully complied with any third-party licenses relating to the Content, and have done all things necessary to successfully pass through to end users any required terms; the Content does not contain or install any viruses, worms, malware, Trojan horses or other harmful or destructive content; the Content is not spam, is not machine- or randomly-generated, and does not contain unethical or unwanted commercial content designed to drive traffic to third party sites or boost the search engine rankings of third party sites, or to further unlawful acts (such as phishing) or mislead recipients as to the source of the material (such as spoofing); the Content is not pornographic, does not contain threats or incite violence, and does not violate the privacy or publicity rights of any third party; your account is not getting advertised via unwanted electronic messages such as spam links on newsgroups, email lists, other accounts and web sites, and similar unsolicited promotional methods; your account is not named in a manner that misleads your readers into thinking that you are another person or company. For example, your account’s URL or name is not the name of a person other than yourself or company other than your own; and you have, in the case of Content that includes computer code, accurately categorized and/or described the type, nature, uses and effects of the materials, whether requested to do so by YumHacker or otherwise. By submitting Content to YumHacker for inclusion on your Website, you grant YumHacker a world-wide, royalty-free, and non-exclusive license to reproduce, modify, adapt and publish the Content solely for the purpose of displaying, distributing and promoting your account. If you delete Content, YumHacker will use reasonable efforts to remove it from the Website, but you acknowledge that caching or references to the Content may not be made immediately unavailable. Without limiting any of those representations or warranties, YumHacker has the right (though not the obligation) to, in YumHacker’s sole discretion (i) refuse or remove any content that, in YumHacker’s reasonable opinion, violates any YumHacker policy or is in any way harmful or objectionable, or (ii) terminate or deny access to and use of the Website to any individual or entity for any reason, in YumHacker’s sole discretion. YumHacker will have no obligation to provide a refund of any amounts previously paid. Responsibility of Website Visitors. YumHacker has not reviewed, and cannot review, all of the material, including computer software, posted to the Website, and cannot therefore be responsible for that material’s content, use or effects. By operating the Website, YumHacker does not represent or imply that it endorses the material there posted, or that it believes such material to be accurate, useful or non-harmful. You are responsible for taking precautions as necessary to protect yourself and your computer systems from viruses, worms, Trojan horses, and other harmful or destructive content. The Website may contain content that is offensive, indecent, or otherwise objectionable, as well as content containing technical inaccuracies, typographical mistakes, and other errors. The Website may also contain material that violates the privacy or publicity rights, or infringes the intellectual property and other proprietary rights, of third parties, or the downloading, copying or use of which is subject to additional terms and conditions, stated or unstated. YumHacker disclaims any responsibility for any harm resulting from the use by visitors of the Website, or from any downloading by those visitors of content there posted. Content Posted on Other Websites. We have not reviewed, and cannot review, all of the material, including computer software, made available through the websites and webpages to which yumhacker.com links, and that link to yumhacker.com. YumHacker does not have any control over those non-yumhacker.com websites and webpages, and is not responsible for their contents or their use. By linking to a non-yumhacker.com website or webpage, YumHacker does not represent or imply that it endorses such website or webpage. You are responsible for taking precautions as necessary to protect yourself and your computer systems from viruses, worms, Trojan horses, and other harmful or destructive content. YumHacker disclaims any responsibility for any harm resulting from your use of non-yumhacker.com websites and webpages. Copyright Infringement and DMCA Policy. As YumHacker asks others to respect its intellectual property rights, it respects the intellectual property rights of others. If you believe that material located on or linked to by yumhacker.com violates your copyright, you are encouraged to notify YumHacker in accordance with YumHacker’s Digital Millennium Copyright Act (“DMCA”) Policy. YumHacker will respond to all such notices, including as required or appropriate by removing the infringing material or disabling all links to the infringing material. YumHacker will terminate a visitor’s access to and use of the Website if, under appropriate circumstances, the visitor is determined to be a repeat infringer of the copyrights or other intellectual property rights of YumHacker or others. In the case of such termination, YumHacker will have no obligation to provide a refund of any amounts previously paid to YumHacker. Intellectual Property. This Agreement does not transfer from YumHacker to you any YumHacker or third party intellectual property, and all right, title and interest in and to such property will remain (as between the parties) solely with YumHacker. YumHacker, yumhacker, yumhacker.com, the yumhacker.com logo, and all other trademarks, service marks, graphics and logos used in connection with yumhacker.com, or the Website are trademarks or registered trademarks of YumHacker or YumHacker’s licensors. Other trademarks, service marks, graphics and logos used in connection with the Website may be the trademarks of other third parties. Your use of the Website grants you no right or license to reproduce or otherwise use any YumHacker or third-party trademarks. Advertisements. YumHacker reserves the right to display advertisements on your account. Changes. YumHacker reserves the right, at its sole discretion, to modify or replace any part of this Agreement. It is your responsibility to check this Agreement periodically for changes. Your continued use of or access to the Website following the posting of any changes to this Agreement constitutes acceptance of those changes. YumHacker may also, in the future, offer new services and/or features through the Website (including, the release of new tools and resources). Such new features and/or services shall be subject to the terms and conditions of this Agreement. Termination. YumHacker may terminate your access to all or any part of the Website at any time, with or without cause, with or without notice, effective immediately. If you wish to terminate this Agreement or your yumhacker.com account (if you have one), you may simply discontinue using the Website. All provisions of this Agreement which by their nature should survive termination shall survive termination, including, without limitation, ownership provisions, warranty disclaimers, indemnity and limitations of liability. Disclaimer of Warranties. The Website is provided “as is”. YumHacker and its suppliers and licensors hereby disclaim all warranties of any kind, express or implied, including, without limitation, the warranties of merchantability, fitness for a particular purpose and non-infringement. Neither YumHacker nor its suppliers and licensors, makes any warranty that the Website will be error free or that access thereto will be continuous or uninterrupted. You understand that you download from, or otherwise obtain content or services through, the Website at your own discretion and risk. Limitation of Liability. In no event will YumHacker, or its suppliers or licensors, be liable with respect to any subject matter of this agreement under any contract, negligence, strict liability or other legal or equitable theory for: (i) any special, incidental or consequential damages; (ii) the cost of procurement for substitute products or services; (iii) for interruption of use or loss or corruption of data; or (iv) for any amounts that exceed the fees paid by you to YumHacker under this agreement during the twelve (12) month period prior to the cause of action. YumHacker shall have no liability for any failure or delay due to matters beyond their reasonable control. The foregoing shall not apply to the extent prohibited by applicable law. General Representation and Warranty. You represent and warrant that (i) your use of the Website will be in strict accordance with the YumHacker with this Agreement and with all applicable laws and regulations (including without limitation any local laws or regulations in your country, state, city, or other governmental area, regarding online conduct and acceptable content, and including all applicable laws regarding the transmission of technical data exported from the United States or the country in which you reside) and (ii) your use of the Website will not infringe or misappropriate the intellectual property rights of any third party. Indemnification. You agree to indemnify and hold harmless YumHacker, its contractors, and its licensors, and their respective directors, officers, employees and agents from and against any and all claims and expenses, including attorneys’ fees, arising out of your use of the Website, including but not limited to your violation of this Agreement. Miscellaneous. This Agreement constitutes the entire agreement between YumHacker and you concerning the subject matter hereof, and they may only be modified by a written amendment signed by an authorized executive of YumHacker, or by the posting by YumHacker of a revised version. Except to the extent applicable law, if any, provides otherwise, this Agreement, any access to or use of the Website will be governed by the laws of the state of California, U.S.A., excluding its conflict of law provisions, and the proper venue for any disputes arising out of or relating to any of the same will be the state and federal courts located in San Francisco County, California. Except for claims for injunctive or equitable relief or claims regarding intellectual property rights (which may be brought in any competent court without the posting of a bond), any dispute arising under this Agreement shall be finally settled in accordance with the Comprehensive Arbitration Rules of the Judicial Arbitration and Mediation Service, Inc. (“JAMS”) by three arbitrators appointed in accordance with such Rules. The arbitration shall take place in San Francisco, California, in the English language and the arbitral decision may be enforced in any court. The prevailing party in any action or proceeding to enforce this Agreement shall be entitled to costs and attorneys’ fees. If any part of this Agreement is held invalid or unenforceable, that part will be construed to reflect the parties’ original intent, and the remaining portions will remain in full force and effect. A waiver by either party of any term or condition of this Agreement or any breach thereof, in any one instance, will not waive such term or condition or any subsequent breach thereof. You may assign your rights under this Agreement to any party that consents to, and agrees to be bound by, its terms and conditions; YumHacker may assign its rights under this Agreement without condition. This Agreement will be binding upon and will inure to the benefit of the parties, their successors and permitted assigns.".split(" ")}),UploadThrobberView=Backbone.View.extend({events:{},initialize:function(){this.render()},render:function(){this.$el.html(render("application/upload_throbber"))}}),ApplicationWishListButtonView=Backbone.View.extend({events:{"click .wish_list_btn.unengaged":"addToWishList"},initialize:function(){this.wish_list_btn=new WishListButton,this.listenTo(this.wish_list_btn,"sync",this.render),this.listenTo(this.wish_list_btn,"change",this.render),this.listenTo(this.model,"new_listing",this.render),this.listenTo(this.model,"change",this.render),this.render()},render:function(){this.wish_list_btn.set({establishment_id:this.model.get("establishment_id")?this.model.get("establishment_id"):this.model.get("id"),wish_list_id:this.model.get("wish_list_id"),wish_listed:this.model.get("wish_listed")}),this.$el.html(render("application/wish_list_button",this.wish_list_btn))},addToWishList:function(e){e.preventDefault(),CurrentUser.logged_in()?(this.wish_list_btn.wishList(),this.model.set("wish_listed",!0)):CurrentUser.authenticate()}}),EstablishmentHourView=Backbone.View.extend({events:{},initialize:function(){this.render()},render:function(){this.$el.html(render("establishments/establishment_hour",this.model))}}),FollowedEndorserView=Backbone.View.extend({events:{"click a.user":"navigate"},initialize:function(){this.render(),this.listenTo(this.model,"remove",this.remove)},render:function(){this.$el.html(render("establishments/followed_endorser",this.model))},navigate:function(e){e.preventDefault(),App.navigate(e.currentTarget.pathname,{trigger:!0})}}),FollowedEndorsersListView=Backbone.View.extend({initialize:function(){this.collection=new FollowedEndorsersCollection,this.listenTo(this.collection,"reset",this.render),this.collection.reset(this.model.get("endorsing_users"))},render:function(){this.$el.html(""),this.collection.length>0&&(this.$el.html(render("establishments/followed_endorser_list",this.model)),this.collection.each(function(e){this.renderUser(e)},this))},renderUser:function(e){var t=new FollowedEndorserView({tagName:"li",model:e});this.$(".endorsers_list").append(t.el)}}),EstablishmentsIndexEstablishmentCategoriesView=Backbone.View.extend({events:{},initialize:function(){this.render()},render:function(){this.collection.each(function(e,t){e.formatted_name=e.get("name")+(this.collection.length>t+1?",":""),this.$el.append(render("establishments/establishment_category",e))},this)}}),EstablishmentsIndexEstablishmentHoursView=Backbone.View.extend({events:{},initialize:function(){this.render(),this.renderTodaysHours()},render:function(){this.$el.html(render("establishments/index_establishment_hours",this.collection))},renderTodaysHours:function(){var e,t={},n=Number(moment().format("d"));e=1===this.collection.length&&Number(this.collection.models[0].get("open_time"))==Number(this.collection.models[0].get("close_time"))?[this.collection.models[0]]:this.collection.where({open_day:n}),e.length>0&&(t.day=n,t.hours=e,this.hour_view=new EstablishmentHourView({model:t,tagName:"tr"}),this.$("table").append(this.hour_view.el))}}),EstablishmentsIndexEstablishmentView=Backbone.View.extend({events:{"click .biz_name":"navigate"},initialize:function(){this.render(),this.application_wish_list_button_view=new ApplicationWishListButtonView({el:this.$(".wish_list_btn_container"),model:this.model}),this.add_to_list_button_view=new ApplicationAddToListButtonView({el:this.$(".add_to_list_btn_container"),model:this.model}),this.hours_view=new EstablishmentsIndexEstablishmentHoursView({el:this.$(".hours_container"),collection:this.model.hours}),this.categories_view=new EstablishmentsIndexEstablishmentCategoriesView({el:this.$(".categories_container"),collection:this.model.categories}),this.followed_endorsers_list=new FollowedEndorsersListView({el:this.$(".endorsers_wrapper"),model:this.model})},render:function(){this.$el.html(render("establishments/index_establishment",this.model))},navigate:function(e){e.preventDefault(),App.navigate(e.target.pathname,{trigger:!0})}}),EstablishmentsIndexPaginationView=Backbone.View.extend({events:{"click a.page":"goToPage"},initialize:function(){this.listenTo(this.collection,"reset",this.render)},render:function(){this.$el.html(render("establishments/pagination",this.collection))},goToPage:function(e){e.preventDefault(),this.collection.requested_page=e.target.rel;var t=_.extend(Location.predicate(),Filter.predicate(),Client.predicate(),this.collection.predicate());this.collection.fetch({reset:!0,data:t}),App.navigate(e.target.pathname+e.target.search,{trigger:!1,replace:!1}),window.scrollTo(0,0)}}),EstablishmentsPhotosIndexView=Backbone.View.extend({events:{"click #biz_name":"navigate"},initialize:function(){this.collection=new PhotosCollection({establishment_id:this.model.get("id")}),this.listenTo(this.model,"sync",this.render),this.model.fetch({reset:!0})},render:function(){this.$el.html(render("establishments/photos_index",this.model)),this.changeHeadInfo(),this.photos_gallery_view=new PhotosMediaViewerContainerView({collection:this.collection,model:this.model,el:"#media_viewer_container"}),this.collection.fetch({reset:!0,data:{establishment_id:this.model.get("id")}})},navigate:function(e){e.preventDefault(),App.navigate(e.target.pathname,{trigger:!0})},changeHeadInfo:function(){this.title=this.model.get("name")+"'s Photos | "+this.model.get("city")+" Restaurants | YumHacker",this.description="Photos of "+this.model.get("name")+" in "+this.model.get("city")+", "+this.model.get("state")+" on YumHacker.",App.eventAggregator.trigger("domchange:title",this.title),App.eventAggregator.trigger("domchange:description",this.description)}}),EstablishmentsSearchEstablishmentView=Backbone.View.extend({events:{"click .create_btn":"create"},initialize:function(){this.render(),this.listenTo(this.model,"sync",this.render)},render:function(){this.$el.html(render("establishments/search_establishment",this.model)),this.model.get("id")&&(this.application_wish_list_button_view=new ApplicationWishListButtonView({el:this.$(".wish_list_btn_container"),model:this.model}),this.add_to_list_button_view=new ApplicationAddToListButtonView({el:this.$(".add_to_list_btn_container"),model:this.model}))},create:function(e){var t=e.currentTarget.dataset.action;CurrentUser.logged_in()?"wish_list"==t?this.model.save({},{success:$.proxy(this.wishList,this)}):this.model.save({},{success:$.proxy(this.addToList,this)}):CurrentUser.authenticate()},wishList:function(){this.new_wish_list_listing=new Listing({url:"/api/lists/"+this.model.get("wish_list_id")+"/listings/",establishment_id:this.model.get("id"),list_id:this.model.get("wish_list_id")}),this.model.set("wish_listed",!0),this.new_wish_list_listing.save()},addToList:function(){CurrentUser.logged_in()?ModalView.show(new ListsAddToListModalView({el:"#inner_modal_content",model:this.model})):CurrentUser.authenticate()}}),EstablishmentsSearchSuggestionListView=Backbone.View.extend({events:{"click a.biz_name":"navigate"},initialize:function(){this.listenTo(this.collection,"reset",this.render)},render:function(){this.$el.html(""),this.collection.isEmpty()?this.$el.html(render("application/no_results")):(this.$el.html(render("establishments/search_suggestion_list")),this.collection.each(function(e){this.renderEstablishment(e)},this))},renderEstablishment:function(e){var t=new EstablishmentsSearchEstablishmentView({tagName:"li",model:e});this.$("ul").append(t.el)},navigate:function(e){e.preventDefault(),App.navigate(e.target.pathname,{trigger:!0})}}),EstablishmentsSearchView=Backbone.View.extend({events:{submit:"searchForEstablishments"},title:"Find a Restaurant | YumHacker",description:"Find "+Client.get("formatted_address")+" restaurants and bars endorsed by people you trust. Get restaurant and bar photos, reviews, hours and more!",initialize:function(){this.render(),App.eventAggregator.trigger("domchange:title",this.title),App.eventAggregator.trigger("domchange:description",this.description),this.collection=new EstablishmentSuggestionsCollection,this.establishment_search_suggestion_list_view=new EstablishmentsSearchSuggestionListView({el:"#find_establishment_results_container",collection:this.collection}),this.listenTo(EstablishmentSearch,"geocode",this.fetchResults),this.listenTo(EstablishmentSearch,"error",this.showError)},render:function(){this.$el.html(render("establishments/search"))},searchForEstablishments:function(e){e.preventDefault(),this.query=e.target[0].value;e.target[1].value;EstablishmentSearch.geocode(e.target[1].value),this.$("#find_establishment_results_container").html(render("application/throbber_small"))},fetchResults:function(){this.collection.fetch({reset:!0,data:_.extend(EstablishmentSearch.predicate(),{query:this.query})})},showError:function(){this.$("#find_establishment_results_container").html(render("application/geocode_error"))}}),EstablishmentShowCommentFormView=Backbone.View.extend({events:{submit:"handleSubmit"},initialize:function(){this.render()},render:function(){this.$el.html(""),this.$el.html(render("establishments/show_comment_form",this.model))},handleSubmit:function(e){function t(e){$("#comment_input").val(""),e.set("updated_at",moment().utc().format()),e.format_time(),a.collection.add(e)}e.preventDefault();var n=$.trim(e.target[0].value),i={body:n,establishment_id:this.model.get("id")};CurrentUser.logged_in()?n?(this.new_comment=new Comment(i),this.new_comment.save({},{success:t})):alert("Comments cannot be blank."):CurrentUser.authenticate();var a=this}}),EstablishmentShowCommentListView=Backbone.View.extend({events:{},initialize:function(){this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"remove",this.render),this.listenTo(this.collection,"add",this.newComment),this.listenTo(this.collection,"paginate",this.paginate),this.listenTo(this.collection,"request",this.showThrobber),this.collection.fetch({reset:!0,data:{establishment_id:this.model.get("id")}})},render:function(){this.$el.html(""),this.collection.each(function(e){this.renderComment(e)},this),window.scrollTo(0,0)},renderComment:function(e){var t=new EstablishmentShowCommentView({tagName:"li",model:e,className:"comment"});this.$el.append(t.el)},newComment:function(){this.collection.length>this.collection.per_page?this.collection.pop():this.render()},paginate:function(e){this.collection.fetch({reset:!0,data:{establishment_id:this.model.get("id"),page:e}})},showThrobber:function(){this.$el.html(render("application/throbber_small"))}}),EstablishmentShowCommentView=Backbone.View.extend({events:{"click .delete_comment":"deleteComment","click .user_name, a.avatar":"navigate"},initialize:function(){this.render()
},render:function(){this.$el.html(render("establishments/show_comment",this.model))},deleteComment:function(){CurrentUser.get("id")==this.model.get("user_id")&&this.model.destroy()},navigate:function(e){e.preventDefault(),App.navigate(e.currentTarget.pathname,{trigger:!0})}}),EstablishmentShowCommentsContainerView=Backbone.View.extend({events:{},initialize:function(){this.collection=new CommentsCollection,this.show_comments_form_view=new EstablishmentShowCommentFormView({el:"#comments_form_container",model:this.model,collection:this.collection}),this.show_comments_list_view=new EstablishmentShowCommentListView({el:"#comments_list",model:this.model,collection:this.collection}),this.pagination_view=new PaginationView({el:".pagination_container.comments",collection:this.collection})},render:function(){}}),EstablishmentsShowEstablishmentCategoriesView=Backbone.View.extend({events:{},initialize:function(){this.render()},render:function(){this.collection.each(function(e,t){e.formatted_name=e.get("name")+(this.collection.length>t+1?",":""),this.$el.append(render("establishments/establishment_category",e))},this)}}),EstablishmentsShowEstablishmentHoursView=Backbone.View.extend({events:{},initialize:function(){this.render(),this.renderHours()},render:function(){this.$el.html(render("establishments/show_establishment_hours"))},renderHours:function(){var e=[];if(1===this.collection.length&&Number(this.collection.models[0].get("open_time"))==Number(this.collection.models[0].get("close_time")))for(var t=0;6>=t;t++){var n=this.collection.models[0];e.push({day:t,hours:[n]})}else for(var t=0;6>=t;t++){var n=this.collection.where({open_day:t});n.length>0&&e.push({day:t,hours:n})}_.each(e,function(e){var t=e.day===Number(moment().format("d"))?"today":"";this.hour_view=new EstablishmentHourView({model:e,tagName:"tr",className:t}),this.$("table").append(this.hour_view.el)},this)}}),EstablishmentsShowEstablishmentInfoView=Backbone.View.extend({events:{},initialize:function(){this.render(),this.application_wish_list_button_view=new ApplicationWishListButtonView({el:this.$(".wish_list_btn_container"),model:this.model}),this.add_to_list_button_view=new ApplicationAddToListButtonView({el:this.$(".add_to_list_btn_container"),model:this.model}),this.preview_photo_view=new EstablishmentShowPreviewPhotoView({el:"#establishment_photos_container",model:this.model}),this.establishment_show_establishment_categories_view=new EstablishmentsShowEstablishmentCategoriesView({el:".categories_container",collection:this.model.categories}),this.hours_view=new EstablishmentsShowEstablishmentHoursView({el:this.$(".hours_container"),collection:this.model.hours})},render:function(){this.$el.html(render("establishments/show_establishment_info",this.model))}}),EstablishmentsShowListsContainerView=Backbone.View.extend({initialize:function(){this.collection=new ListsCollection,this.collection.where={listings:{establishment_id:this.model.get("id")}},this.collection.order={updated_at:"desc"},this.render()},render:function(){this.$el.html(render("establishments/show_lists_container",this.model)),this.list_index_list=new EstablishmentsShowListsIndexListView({el:"ul.lists",model:this.model,collection:this.collection}),this.pagination_view=new PaginationView({el:".pagination_container",collection:this.collection})}}),EstablishmentsShowListsIndexListView=Backbone.View.extend({events:{},initialize:function(){this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"paginate",this.paginate),this.listenTo(this.model,"new_listing",this.updateCollection);var e=this.collection.predicate();this.collection.fetch({reset:!0,data:e})},render:function(){this.changeHeadInfo(),this.collection.length>0?(this.$el.html(""),this.collection.each(function(e){this.renderList(e)},this),window.scrollTo(0,0)):this.$el.html(render("establishments/show_lists_index_list_no_results",this.model))},renderList:function(e){var t=new ListsIndexListView({tagName:"li",model:e,favorites:this.collection.favorites});"WishList"===e.get("type")?this.$el.prepend(t.el):this.$el.append(t.el)},paginate:function(e){this.collection.requested_page=e;var t=this.collection.predicate();this.collection.fetch({reset:!0,data:t})},updateCollection:function(){var e=this.collection.predicate();this.collection.fetch({reset:!0,data:e})},changeHeadInfo:function(){this.title=this.model.get("name")+" | "+this.model.get("city")+" Restaurants | YumHacker",this.description=this.model.get("name")+" is recommended on "+this.collection.length+" Yum Lists on YumHacker.",App.eventAggregator.trigger("domchange:title",this.title),App.eventAggregator.trigger("domchange:description",this.description)}}),EstablishmentShowPreviewPhotoView=Backbone.View.extend({events:{"click #preview_photos_container":"navigate"},initialize:function(){this.listenTo(this.model,"change:preview_photo",this.changePhoto),this.render(),this.establishment_show_upload_image_form_view=new EstablishmentShowUploadImageFormView({model:this.model,el:"#upload_image_form_container",collection:this.collection})},render:function(){this.$el.html(render("establishments/show_establishment_preview_photo",this.model))},changePhoto:function(){this.$("a img").attr("src",this.model.get("preview_photo"))},navigate:function(e){e.preventDefault(),App.navigate(e.currentTarget.pathname,{trigger:!0})}}),EstablishmentShowCaptionFormView=Backbone.View.extend({events:{submit:"submitCaption"},initialize:function(){this.render(),$("textarea").autosize()},render:function(){this.$el.html(render("photos/photo_upload_caption_form",this.model)),$("#caption_input").on("keyup",function(){$("#char_counter span").html(255-$(this).val().length)})},submitCaption:function(e){e.preventDefault();var t=$.trim(e.target[0].value);t.length<=255?(this.model.save({caption:t}),ModalView.hide()):alert("Captions must be fewer than 255 characters")}}),EstablishmentShowUploadImageFormView=Backbone.View.extend({events:{"change .photo_upload_form":"submitPhoto","click button":"showFileBrowser"},initialize:function(){this.render()},render:function(){this.$el.html(render("photos/photo_upload_image_form",this.model)),this.upload_throbber_view=new UploadThrobberView({el:".upload_throbber_container"})},showFileBrowser:function(){CurrentUser.logged_in()?$('input[type="file"]').click():CurrentUser.authenticate()},submitPhoto:function(e){function t(e){n.model.set("preview_photo",e.get("small_url")),n.upload_throbber_view.$(".throbber").hide(),n.showCaptionForm(e)}if(this.upload_throbber_view.$(".throbber").show(),window.File&&window.FileList&&window.FileReader&&$.trim(e.target.value)){var n=this;this.new_photo=new Photo({establishment_id:this.model.get("id"),collection:this.collection}),this.new_photo.readFile(e.target.files[0],t)}$("input[type='file']").val("");var n=this},showCaptionForm:function(e){ModalView.show(new EstablishmentShowCaptionFormView({el:"#inner_modal_content",model:e}))}}),EstablishmentsShowView=Backbone.View.extend({initialize:function(){this.listenTo(this.model,"sync",this.render),this.model.fetch()},render:function(){this.$el.html(render("establishments/show",this.model)),this.establishments_show_establishment_info_view=new EstablishmentsShowEstablishmentInfoView({el:"#establishment_info_container",model:this.model}),this.establishments_show_lists_index_view=new EstablishmentsShowListsContainerView({el:"#lists_list_container",model:this.model}),this.establishments_show_comments_container_view=new EstablishmentShowCommentsContainerView({el:"#establishment_comments_container",model:this.model}),"undefined"==typeof EstablishmentGoogleMap&&(EstablishmentGoogleMap=new EstablishmentMapView({el:"#map_canvas"})),EstablishmentGoogleMap.model=this.model,EstablishmentGoogleMap.render()}}),HomePageCreateListView=Backbone.View.extend({events:{"click .new_list_btn":"createNewList"},initialize:function(){this.prompts=["Cheap & Delicious","Great for Game Day","Perfect for Date Nite","Spiciest Sichuan","Best Tacos","Best Views","Top 10 Burgers","Girls Night Out","Top Hidden Gems","Hippest Dive Bars","Off the Radar Winners","Delicious Dim Sum","Lots-a-Pasta","Delis that Deliver"],this.render()},render:function(){var e={prompt:this.prompts[Math.floor(Math.random()*(this.prompts.length-1))]};this.$el.html(render("home_page/create_list",e))},createNewList:function(e){e.preventDefault(),CurrentUser.logged_in()?App.navigate("/lists/new",{trigger:!0}):CurrentUser.authenticate()}}),HomePageFeaturedListView=Backbone.View.extend({events:{},initialize:function(){this.listenTo(this.model,"sync",this.render),this.model.fetch()},render:function(){this.$el.html(render("home_page/featured_list",this.model))}}),HomePageFeaturedUserView=Backbone.View.extend({events:{},initialize:function(){this.listenTo(this.model,"sync",this.render),this.model.fetch()},render:function(){this.$el.html(render("home_page/featured_user",this.model))}}),HomePageFeaturedView=Backbone.View.extend({events:{},initialize:function(){this.render(),this.featured_list=new List({id:486}),this.featured_list_view=new HomePageFeaturedListView({el:"#featured_list",model:this.featured_list})},render:function(){this.$el.html(render("home_page/featured"))}}),HomePageView=Backbone.View.extend({events:{"click .nav":"navigate"},initialize:function(){this.render(),mixpanel.track("Main Index"),this.collection=new ListsCollection,this.collection.where={type:"CustomList"},this.collection.order={updated_at:"desc"},this.create_list_view=new HomePageCreateListView({el:"#create_list_container"}),this.user_view=CurrentUser.logged_in()?new HomePageSignedInUserInfoView({el:"#home_page_user_info_container"}):new HomePageSignedOutUserInfoView({el:"#home_page_user_info_container"}),this.featured_list_view=new HomePageFeaturedView({el:"#featured_container"}),this.lists_view=new HomePageListsView({el:"#home_page_lists",collection:this.collection}),this.pagination_view=new ListsShowPaginationView({el:".pagination_container",collection:this.collection}),this.listenTo(Client,"change",this.changeHeadInfo),this.changeHeadInfo()},render:function(){this.$el.html(render("home_page/home_page"))},navigate:function(e){e.preventDefault(),App.navigate(e.currentTarget.pathname,{trigger:!0})},changeHeadInfo:function(){this.title="YumHacker | Find restaurants recommended by people you trust | "+Client.get("formatted_address"),this.description="Find and share the best restaurants and bars in "+Client.get("formatted_address")+" recommended by people you trust. Create lists of your favorite restaurants to share and see the places other foodies think are the best. Get restaurant and bar photos, reviews, hours and more!",App.eventAggregator.trigger("domchange:title",this.title),App.eventAggregator.trigger("domchange:description",this.description)}}),HomePageListView=Backbone.View.extend({events:{},initialize:function(){this.render(),this.favorite_button_view=new ApplicationFavoriteButtonView({el:this.$(".favorite_btn_container"),model:new FavoriteButton({list_id:this.model.get("id"),user_favoriting:this.model.get("user_favoriting"),number_favorites:this.model.get("number_favorites")})})},render:function(){this.$el.html(render("home_page/list",this.model))}}),HomePageListsView=Backbone.View.extend({events:{},initialize:function(){this.listenTo(this.collection,"reset",this.render),this.collection.fetch({reset:!0,data:this.collection.predicate()})},render:function(){this.$el.html(""),this.collection.each(function(e){this.renderList(e)},this)},renderList:function(e){this.$el.append(new HomePageListView({tagName:"li",model:e}).el)}}),HomePageSignedInUserInfoView=Backbone.View.extend({events:{},initialize:function(){this.model=new User({id:CurrentUser.get("id")}),this.listenTo(this.model,"sync",this.render),this.model.fetch()},render:function(){this.$el.html(render("home_page/signed_in_user_info",this.model))}}),HomePageSignedOutUserInfoView=Backbone.View.extend({events:{},initialize:function(){this.render()},render:function(){this.$el.html(render("home_page/signed_out_user_info"))}}),ListsAddToListModalView=Backbone.View.extend({events:{"submit #add_listing_to_list_form":"handleSubmit"},initialize:function(){this.render(),this.collection=new ListsCollection,this.collection.where={user_id:CurrentUser.get("id")},this.collection.order=[{type:"desc"},{updated_at:"desc"}],this.selection_container_view=new ListsAddToListSelectionContainerView({el:"#list_selector",establishment:this.model,collection:this.collection}),$("textarea").autosize()},render:function(){this.$el.html(""),this.$el.html(render("lists/add_to_list_modal",this.model))},handleSubmit:function(e){e.preventDefault();var t=e.target[0].value,n=$.trim(e.target[1].value),i=this.model.get("establishment_id")?this.model.get("establishment_id"):this.model.get("id"),a=this.collection.get(t).get("establishment_ids");CurrentUser.logged_in()?(_.contains(a,i)||(this.new_listing=new Listing({establishment_id:i,list_id:t,comment:n}),this.new_listing.save({},{success:$.proxy(this.updateModel,this)})),ModalView.hide()):CurrentUser.authenticate()},updateModel:function(e,t){this.model.set("wish_listed",t.wish_listed),this.model.trigger("new_listing")}}),ListsAddToListSelectionContainerView=Backbone.View.extend({events:{change:"checkForNewList"},initialize:function(e){this.establishment=e.establishment,this.collection.per_page=1e3,this.collection.user_id=CurrentUser.get("id"),this.establishment_id=this.establishment.get("id");var t=this.collection.predicate();this.listenTo(this.collection,"reset",this.render),this.collection.fetch({reset:!0,data:t})},render:function(){this.collection.each(function(e){this.renderListOption(e)},this),this.$el.append("<option class='list_option' value='new'>Create new list</option>")},renderListOption:function(e){this.$el.append(render("lists/add_to_list_selection_option",e))},checkForNewList:function(e){"new"===e.target.value&&ModalView.show(new ListsCreateNewListModalView({el:"#inner_modal_content",model:this.establishment}))}}),ListsCreateNewListModalView=Backbone.View.extend({events:{"submit #create_new_list_form":"handleSubmit"},initialize:function(){this.render()},render:function(){this.$el.html(""),this.$el.html(render("lists/create_new_list_modal")),$("textarea").autosize()},handleSubmit:function(e){function t(e){ModalView.hide(),App.navigate(e.get("edit_path"),{trigger:!0})}e.preventDefault();var n=e.target[0].value,i=e.target[1].value;CurrentUser.logged_in()?(this.new_list=new List({title:n,description:i,listing:this.model}),this.new_list.save({},{success:t})):CurrentUser.authenticate()}}),ListsEditAddListingSearchEstablishmentView=Backbone.View.extend({events:{"click .add_btn":"addToList"},initialize:function(e){this.listings=e.listings,void 0!==this.listings.findWhere({establishment_id:this.model.id})?this.model.set("listed",!0):this.model.set("listed",!1),this.render(),this.listenTo(this.model,"sync",this.render)},render:function(){this.$el.html(render("lists/edit_add_listing_search_establishment",this.model))},addToList:function(){this.model.trigger("establishment_selected",this.model)}}),ListsEditAddListingSearchSuggestionListView=Backbone.View.extend({events:{"click a.biz_name":"navigate"},initialize:function(){this.listenTo(this.collection,"reset",this.render)},render:function(){this.$el.html(""),this.collection.isEmpty()?this.$el.html(render("application/no_results")):(this.$el.html(render("lists/edit_add_listing_search_suggestion_list")),this.collection.each(function(e){this.renderEstablishment(e)},this))},renderEstablishment:function(e){var t=new ListsEditAddListingSearchEstablishmentView({tagName:"li",model:e,listings:this.model.listings});this.$("ul").append(t.el)},navigate:function(e){e.preventDefault(),App.navigate(e.target.pathname,{trigger:!0}),ModalView.hide()}}),ListsEditAddListingSearchModalView=Backbone.View.extend({events:{submit:"searchForEstablishments"},initialize:function(){this.render(),this.collection=new EstablishmentSuggestionsCollection,this.lists_edit_add_listing_search_suggestion_list_view=new ListsEditAddListingSearchSuggestionListView({el:"#find_establishment_results_container",collection:this.collection,model:this.model}),this.listenTo(this.collection,"establishment_selected",this.addEstabToList),this.listenTo(EstablishmentSearch,"geocode",this.fetchResults),this.listenTo(EstablishmentSearch,"error",this.showError)},render:function(){this.$el.html(render("lists/edit_add_listing_search"))},searchForEstablishments:function(e){e.preventDefault(),this.query=e.target[0].value;e.target[1].value;EstablishmentSearch.geocode(e.target[1].value),this.$("#find_establishment_results_container").html(render("application/throbber_small"))},fetchResults:function(){this.collection.fetch({reset:!0,data:_.extend(EstablishmentSearch.predicate(),{query:this.query})})},showError:function(){this.$("#find_establishment_results_container").html(render("application/geocode_error"))},addEstabToList:function(e){if(e.get("id"))this.model.listings.trigger("create_listing",e);else{var t=this;e.save({},{success:function(e){t.model.listings.trigger("create_listing",e)}})}}}),ListsEditDescriptionView=Backbone.View.extend({events:{"blur .list_info_input":"triggerUpdateListInfo"},initialize:function(){var e=this.model.get("description");(null===e||0===e.length)&&(e="CustomList"===this.model.get("type")?"These are some bars and restaurants I totally dig.":this.model.get("user_first_name")+"'s Wish List of places to scope out.",this.model.set("description",e)),this.render(),$("textarea").autosize()},render:function(){this.$el.html(render("lists/edit_description",this.model))},triggerUpdateListInfo:function(){this.model.trigger("update_list_info")}}),ListsEditListInfoView=Backbone.View.extend({events:{},initialize:function(){this.lists_edit_title_view=new ListsEditTitleView({el:"#list_title_container",model:this.model}),this.lists_edit_description_view=new ListsEditDescriptionView({el:"#list_description_container",model:this.model}),this.listenTo(this.model.listings,"create_listing",this.createListing),this.listenTo(this.model,"update_list_info",this.updateListInfo),this.listenTo(this.model,"submit_list",this.handleSubmit)},createListing:function(e){this.updateListInfo(),this.saveList(e)},updateListInfo:function(){var e="WishList"===this.model.get("type")?this.model.get("title"):$("#title_input").val(),t=$("#description_input").val();e.length>255?alert("Your title is too long. Titles are limited to 255 characters."):e.length<=5?alert("Your title is too short. Title your list something descriptive to help other YumHackers find it!"):this.model.set({title:e,description:t})},saveList:function(e){this.model.save({},{success:$.proxy(function(){e&&this.saveListing(e)},this)})},saveListing:function(e){var t=new Listing({establishment_id:e.get("id"),list_id:this.model.get("id")});t.save({},{success:$.proxy(function(e){this.model.listings.add(e)},this)}),ModalView.hide()},handleSubmit:function(){this.updateListInfo(),$("form").trigger("submit"),this.model.save({},{success:function(e){App.navigate("/"+e.get("path"),{trigger:!0})}})},navigate:function(e){e.preventDefault(),App.navigate(e.currentTarget.pathname,{trigger:!0})}}),ListsEditListPhotoContainerView=Backbone.View.extend({events:{"click #add_photo_modal_btn button":"openPhotoSelector"},initialize:function(){this.render(),this.list_edit_photo_view=new ListsEditListPhotoView({model:this.model,el:"#list_photo_image_container"})},render:function(){this.$el.html(render("lists/edit_list_photo_container",this.model))},openPhotoSelector:function(){ModalView.show(new ListsEditListPhotoSelectorModalView({model:this.model,el:"#inner_modal_content"}))}}),ListsEditListPhotoSelectorModalView=Backbone.View.extend({events:{},initialize:function(){this.render(),this.list_edit_upload_image_form_view=new ListsEditListPhotoUploadImageFormView({model:this.model,el:"#upload_image_form_container"}),this.list_edit_user_images_list_view=new ListsEditListPhotoUserImagesListView({model:this.model,el:"#user_images_list"})},render:function(){this.$el.html(render("lists/edit_list_photo_selector_modal",this.model))}}),ListsEditListPhotoUploadImageFormView=Backbone.View.extend({events:{"change .photo_upload_form":"submitPhoto","click button":"showFileBrowser"},initialize:function(){this.render()},render:function(){this.$el.html(render("lists/edit_list_photo_upload_image_form",this.model)),this.upload_throbber_view=new UploadThrobberView({el:".upload_throbber_container"})},showFileBrowser:function(){CurrentUser.logged_in()?$('input[type="file"]').click():CurrentUser.authenticate()},submitPhoto:function(e){$(".throbber").show(),this.model.save({},{success:$.proxy(function(){this.savePhoto(e)},this)})},savePhoto:function(e){function t(e){n.model.set("small_url",e.get("small_url")),n.model.trigger("change_photo"),ModalView.hide()}window.File&&window.FileList&&window.FileReader&&$.trim(e.target.value)&&(this.new_photo=new Photo({list_id:this.model.get("id"),model:this.model}),this.new_photo.readFile(e.target.files[0],t)),$("input[type='file']").val("");var n=this}}),ListEditListPhotoUserImageView=Backbone.View.extend({events:{"click img":"saveAsListImage"},initialize:function(e){this.list=e.list,this.render()},render:function(){this.$el.html(render("lists/edit_list_photo_user_image",this.model))},saveAsListImage:function(){this.list.set({small_url:this.model.get("small_url"),photo_id:this.model.get("id")}),this.list.trigger("change_photo"),this.list.save(),ModalView.hide()}}),ListsEditListPhotoUserImagesListView=Backbone.View.extend({events:{},initialize:function(){this.collection=new PhotosCollection({}),this.listenTo(this.collection,"reset",this.render),this.collection.fetch({reset:!0,data:{user_id:CurrentUser.id}})},render:function(){this.collection.each(function(e){this.renderUserImage(e)},this)},renderUserImage:function(e){var t=new ListEditListPhotoUserImageView({tagName:"li",model:e,list:this.model});this.$el.append(t.el)}}),ListsEditListPhotoView=Backbone.View.extend({events:{},initialize:function(){this.listenTo(this.model,"change_photo",this.render),this.render()},render:function(){this.$el.html(render("lists/edit_list_photo",this.model))}}),ListsEditListingCommentView=Backbone.View.extend({events:{"submit .comment_form":"saveComment"},initialize:function(){this.comment=new Comment(this.model.get("comment")),this.render()},render:function(){this.$el.html(render("lists/edit_listing_comment",this.comment))},saveComment:function(e){e.preventDefault(),this.$("textarea").addClass("flash"),setTimeout(function(){this.$("textarea").removeClass("flash")},200);var t=$.trim(e.target[0].value);t!==this.comment.get("body")&&(this.comment.set({listing_id:this.model.get("id"),body:t}),(t.length>0||0===t.length&&this.comment.get("id"))&&(this.model.set("comment",{body:t,updated_at:new Date}),this.comment.save()))}}),ListsEditListingPhotoContainerView=Backbone.View.extend({events:{"click .add_listing_photo_modal_btn button":"openPhotoSelector"},initialize:function(){this.render(),this.listing_edit_photo_view=new ListsEditListingPhotoView({model:this.model,el:this.$(".listing_photo_image_container")})},render:function(){this.$el.html(render("lists/edit_listing_photo_container",this.model))},openPhotoSelector:function(){ModalView.show(new ListsEditListingPhotoSelectorModalView({model:this.model,el:"#inner_modal_content"}))}}),ListEditListingPhotoEstablishmentImageView=Backbone.View.extend({events:{"click img":"saveAsListImage"},initialize:function(e){this.listing=e.listing,this.render()},render:function(){this.$el.html(render("lists/edit_list_photo_user_image",this.model))},saveAsListImage:function(){this.listing.set({small_url:this.model.get("small_url"),photo_id:this.model.get("id")}),this.listing.trigger("change_photo"),this.listing.save(),ModalView.hide()}}),ListsEditListingPhotoEstablishmentImagesListView=Backbone.View.extend({events:{},initialize:function(){this.collection=new PhotosCollection({}),this.listenTo(this.collection,"reset",this.render),this.collection.fetch({reset:!0,data:{establishment_id:this.model.get("establishment_id")}})},render:function(){this.collection.length>0?this.collection.each(function(e){this.renderEstablishmentImage(e)},this):this.$el.append("<p>This restaurant doesn't have any photos, yet.</p>")},renderEstablishmentImage:function(e){var t=new ListEditListingPhotoEstablishmentImageView({tagName:"li",model:e,listing:this.model});this.$el.append(t.el)}}),ListsEditListingPhotoSelectorModalView=Backbone.View.extend({events:{"click .nav":"navigate"},initialize:function(){this.render(),this.establishment_images_list_view=new ListsEditListingPhotoEstablishmentImagesListView({model:this.model,el:"#establishment_images_list"})},render:function(){this.$el.html(render("lists/edit_listing_photo_selector_modal",this.model))},navigate:function(e){e.preventDefault(),ModalView.hide(),App.navigate(e.target.pathname,{trigger:!0})}}),ListsEditListingPhotoView=Backbone.View.extend({events:{},initialize:function(){this.listenTo(this.model,"change_photo",this.render),this.render()},render:function(){this.$el.html(render("lists/edit_listing_photo",this.model))}}),ListsEditListingView=Backbone.View.extend({events:{"click .biz_name":"navigate","click .delete_listing":"deleteListing"},initialize:function(){this.render(),this.categories_view=new EstablishmentsIndexEstablishmentCategoriesView({el:this.$(".categories_container"),collection:this.model.categories}),this.comment_view=new ListsEditListingCommentView({el:this.$(".listing_comment_container"),model:this.model}),this.photo_view=new ListsEditListingPhotoContainerView({el:this.$(".listing_photo_container"),model:this.model})},render:function(){this.$el.html(render("lists/edit_listing",this.model))},navigate:function(e){e.preventDefault(),App.navigate(e.target.pathname,{trigger:!0})},deleteListing:function(){this.model.destroy()}}),ListsEditListingsContainerView=Backbone.View.extend({events:{"click #listing_container_add_listing_btn":"openListingSearchModal"},initialize:function(){this.render(),this.lists_edit_listings_list_view=new ListsEditListingsListView({el:"ol.establishments_list",model:this.model})},render:function(){this.$el.html(render("lists/edit_listings_container"))},openListingSearchModal:function(){ModalView.show(new ListsEditAddListingSearchModalView({model:this.model,el:"#inner_modal_content"}))}}),ListsEditListingsListView=Backbone.View.extend({events:{},initialize:function(){this.model.listings.assignUrl(this.model.get("id")),this.listenTo(this.model.listings,"reset",this.render),this.listenTo(this.model.listings,"add",this.render),this.listenTo(this.model.listings,"destroy",this.render),this.model.get("id")?this.model.listings.fetch({reset:!0,data:{per:1e3}}):this.render()},render:function(){this.$el.html(""),this.model.listings.length>0?this.model.listings.each(function(e){this.renderListing(e)},this):this.$el.html(render("lists/no_listing_results")),this.$(".comment_input").autosize()},renderListing:function(e){this.$el.append(new ListsEditListingView({tagName:"li",model:e}).el)}}),ListsEditTitleView=Backbone.View.extend({events:{"click .nav":"navigate","click #delete_list":"deleteList","click #save_btn":"triggerSubmit","blur .list_info_input":"triggerUpdateListInfo"},initialize:function(){this.render(),this.listenTo(this.model,"save_listing",this.saveList),this.lists_edit_list_photo_view=new ListsEditListPhotoContainerView({el:"#list_photo_container",model:this.model}),$("textarea").autosize()},render:function(){this.$el.html(render("lists/edit_title",this.model))},navigate:function(e){e.preventDefault(),App.navigate(e.currentTarget.pathname,{trigger:!0})},deleteList:function(){if(CurrentUser.logged_in()){var e=confirm("Are you sure you want to permenantly delete your list?");e&&(this.model.destroy(),App.navigate("/",{trigger:!0}))}else CurrentUser.authenticate()},triggerUpdateListInfo:function(){this.model.trigger("update_list_info")},triggerSubmit:function(e){e.preventDefault(),this.model.trigger("submit_list")}}),ListsEditView=Backbone.View.extend({events:{},initialize:function(){Location.set("contained_in","radius"),this.model.listings=new ListingsCollection,this.model.get("id")?this.model.fetch({success:$.proxy(function(e){e.get("user_id")===CurrentUser.get("id")||CurrentUser.get("admin")?this.render():App.navigate("",{trigger:!0})},this)}):this.render()},render:function(){this.changeHeadInfo(),this.$el.html(render("lists/edit",this.model)),this.lists_edit_list_info_view=new ListsEditListInfoView({model:this.model}),this.lists_edit_listings_container_view=new ListsEditListingsContainerView({el:"#listings_container",model:this.model}),"undefined"==typeof MainGoogleMap?MainGoogleMap=new MainMapView({el:"#map_canvas",collection:this.model.listings}):(MainGoogleMap.map.getStreetView().setVisible(!1),$(".map_canvas_container").html(""),MainGoogleMap.mapCanvas.appendTo($(".map_canvas_container"))),MainGoogleMap.map.getStreetView().setVisible(!1),MainGoogleMap.collection=this.model.listings,MainGoogleMap.render(),this.listenTo(this.model.listings,"reset",function(){MainGoogleMap.render()}),this.listenTo(this.model.listings,"add",function(){MainGoogleMap.render()}),this.listenTo(this.model.listings,"remove",function(){MainGoogleMap.render()}),fixMapOnScroll()},changeHeadInfo:function(){this.title=this.model.get("title")+" | "+this.model.get("user_full_name")+" | Edit | YumHacker",this.description=this.model.get("description")+" Find and share the best restaurants and bars in "+Client.get("formatted_address")+" recommended by people you trust. Create lists of your favorite restaurants to share and see the places other foodies think are the best. Get restaurant and bar photos, reviews, hours and more!",App.eventAggregator.trigger("domchange:title",this.title),App.eventAggregator.trigger("domchange:description",this.description)}}),ListsIndexListView=Backbone.View.extend({events:{"click .nav":"navigate"},initialize:function(){this.render(),this.favorite_button_view=new ApplicationFavoriteButtonView({el:this.$(".favorite_btn_container"),model:new FavoriteButton({list_id:this.model.get("id"),user_favoriting:this.model.get("user_favoriting"),number_favorites:this.model.get("number_favorites")})})},render:function(){this.$el.html(render("lists/index_list",this.model))},navigate:function(e){e.preventDefault(),App.navigate(e.currentTarget.pathname,{trigger:!0})}}),ListsShowDescriptionView=Backbone.View.extend({events:{},initialize:function(){var e=this.model.get("description");(null===e||0===e.length)&&(e="CustomList"===this.model.get("type")?"These are some bars and restaurants I totally dig.":this.model.get("user_first_name")+"'s Wish List of places to scope out.",this.model.set("description",e)),this.render()},render:function(){this.$el.html(render("lists/show_description",this.model))}}),ListsShowListingCommentView=Backbone.View.extend({events:{},initialize:function(){this.listenTo(this.model,"change",this.render),this.render()},render:function(){this.$el.html(render("lists/show_listing_comment",this.model))}}),ListsShowListingView=Backbone.View.extend({events:{"click .nav":"navigate"},initialize:function(){this.render(),this.categories_view=new EstablishmentsIndexEstablishmentCategoriesView({el:this.$(".categories_container"),collection:this.model.categories}),this.application_wish_list_button_view=new ApplicationWishListButtonView({el:this.$(".wish_list_btn_container"),model:this.model}),this.add_to_list_button_view=new ApplicationAddToListButtonView({el:this.$(".add_to_list_btn_container"),model:this.model}),this.model.get("comment")&&(this.comment_view=new ListsShowListingCommentView({el:this.$(".listing_comment_container"),model:new Comment(this.model.get("comment"))}))},render:function(){this.$el.html(render("lists/show_listing",this.model))},navigate:function(e){e.preventDefault(),App.navigate(e.currentTarget.pathname,{trigger:!0})}}),ListsShowListingsListView=Backbone.View.extend({events:{"click .nav":"navigate"},initialize:function(){this.collection.assignUrl(this.model.get("id")),this.listenTo(this.collection,"reset",this.render),this.collection.fetch({reset:!0,data:this.collection.predicate()})},render:function(){this.$el.html(""),this.collection.length>0?this.collection.each(this.renderListing,this):this.$el.html(render("lists/no_listing_results"))},renderListing:function(e){this.$el.append(new ListsShowListingView({tagName:"li",model:e}).el)},navigate:function(e){e.preventDefault(),App.navigate(e.target.pathname,{trigger:!0})}}),ListsShowPaginationView=Backbone.View.extend({events:{"click a.page":"navigate"},initialize:function(){this.listenTo(this.collection,"reset",this.render)},render:function(){this.$el.html(render("lists/pagination",this.collection))
},navigate:function(e){e.preventDefault(),this.collection.requested_page=e.target.rel,this.collection.fetch({reset:!0,data:this.collection.predicate()}),App.navigate(e.target.pathname+e.target.search,{trigger:!1,replace:!1}),window.scrollTo(0,0)}}),ListsShowTitleView=Backbone.View.extend({events:{"click .nav":"navigate"},initialize:function(){this.render(),this.social_buttons_view=new SocialButtonsView({el:"#social_buttons_container",model:this.model}),this.application_favorite_button_view=new ApplicationFavoriteButtonView({el:this.$("#list_favorite_button"),model:new FavoriteButton({list_id:this.model.get("id"),user_favoriting:this.model.get("user_favoriting"),number_favorites:this.model.get("number_favorites")})})},render:function(){this.$el.html(render("lists/show_title",this.model))},navigate:function(e){e.preventDefault(),App.navigate(e.currentTarget.pathname,{trigger:!0})}}),ListsShowView=Backbone.View.extend({events:{},initialize:function(){Location.set("contained_in","radius"),this.listenTo(this.model,"sync",this.render),this.model.fetch(),mixpanel.track("List Show")},render:function(){this.changeHeadInfo(),this.collection=new ListingsCollection({list_id:this.model.get("id")}),this.$el.html(render("lists/show")),this.lists_show_title_view=new ListsShowTitleView({el:"#list_title_container",model:this.model}),this.lists_show_description_view=new ListsShowDescriptionView({el:"#list_description_container",model:this.model}),this.lists_show_listings_list_view=new ListsShowListingsListView({el:"ol.establishments_list",model:this.model,collection:this.collection}),"undefined"==typeof MainGoogleMap?MainGoogleMap=new MainMapView({el:"#map_canvas",collection:this.collection}):($(".map_canvas_container").html(""),MainGoogleMap.mapCanvas.appendTo($(".map_canvas_container"))),MainGoogleMap.map.getStreetView().setVisible(!1),MainGoogleMap.collection=this.collection,this.listenTo(this.collection,"reset",function(){MainGoogleMap.render()}),fixMapOnScroll(),this.pagination_view=new ListsShowPaginationView({el:".pagination_container",collection:this.collection})},changeHeadInfo:function(){this.title=this.model.get("title")+" | "+this.model.get("user_full_name")+" | YumHacker",this.description=this.model.get("description")+" Find and share the best restaurants and bars in "+Client.get("formatted_address")+" recommended by people you trust. Create lists of your favorite restaurants to share and see the places other foodies think are the best. Get restaurant and bar photos, reviews, hours and more!",App.eventAggregator.trigger("domchange:title",this.title),App.eventAggregator.trigger("domchange:description",this.description)}}),MainIndexEstablishmentsListView=Backbone.View.extend({events:{"click .nav":"navigate"},initialize:function(){this.listenTo(this.collection,"reset",this.render)},render:function(){this.$el.html(""),this.collection.length>0?this.collection.each(function(e){this.renderEstablishment(e)},this):(this.$el.html(""),this.$el.html(render("establishments/index_no_results")))},renderEstablishment:function(e){var t=new EstablishmentsIndexEstablishmentView({tagName:"li",model:e});this.$el.append(t.el)},navigate:function(e){e.preventDefault(),App.navigate(e.target.pathname,{trigger:!0})}}),MainIndexView=Backbone.View.extend({events:{"change #redo_search":"toggleRedoSearch"},initialize:function(){this.render(),this.listenTo(Client,"change",this.changeHeadInfo),this.listenTo(Filter,"change:category_name",function(){this.changeHeadInfo(!0)}),this.changeHeadInfo(),this.collection=new EstablishmentsCollection,this.filter_view=new FilterView({el:"#main_filter_container"}),this.main_index_establishments_list_view=new MainIndexEstablishmentsListView({el:".establishments_list",collection:this.collection}),this.pagination_view=new EstablishmentsIndexPaginationView({el:".pagination_container",collection:this.collection});var e=_.extend(Location.predicate(),Filter.predicate(),Client.predicate(),this.collection.predicate());this.collection.fetch({reset:!0,data:e}),"undefined"==typeof MainGoogleMap?MainGoogleMap=new MainMapView({el:"#map_canvas",collection:this.collection}):(MainGoogleMap.map.getStreetView().setVisible(!1),$(".map_canvas_container").html(""),MainGoogleMap.mapCanvas.appendTo($(".map_canvas_container"))),MainGoogleMap.map.getStreetView().setVisible(!1),MainGoogleMap.collection=this.collection,fixMapOnScroll(),this.listenTo(this.collection,"reset",function(){MainGoogleMap.render()}),this.listenTo(Location,"change",this.updateCollection),this.listenTo(Filter,"change",this.updateCollection)},render:function(){this.$el.html(render("main/index")),this.$(".establishments_list").html(render("application/throbber_small"))},updateCollection:function(){var e=_.extend(Location.predicate(),Filter.predicate(),Client.predicate());this.collection.fetch({reset:!0,data:e}),App.navigate(window.location.pathname+"?"+encodeURIComponent($.param(e)),{trigger:!1,replace:!1})},toggleRedoSearch:function(e){Client.set("redo_search",e.target.checked)},changeHeadInfo:function(e){var t=Client.get("formatted_address"),n=e?Filter.get("category_name")+" ":"";"Current Location"!==t&&(this.title="YumHacker | Find "+n+"restaurants recommended by people you trust | "+Client.get("formatted_address"),this.description="Find and share the best restaurants and bars in "+Client.get("formatted_address")+" recommended by people you trust. Create lists of your favorite restaurants to share and see the places other foodies think are the best. Get restaurant and bar photos, reviews, hours and more!",App.eventAggregator.trigger("domchange:title",this.title),App.eventAggregator.trigger("domchange:description",this.description))}}),EstablishmentMapView=Backbone.View.extend({events:{},initialize:function(){this.markers=[],this.mapOptions={scrollwheel:!1,panControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP},this.mapCanvas=this.$el,this.map=new google.maps.Map(this.mapCanvas[0],this.mapOptions)},render:function(){this.map.getStreetView().setVisible(!1),this.clearMarkers(),$(".map_canvas_container").html(""),this.mapCanvas.appendTo($(".map_canvas_container")),this.map.setCenter(new google.maps.LatLng(this.model.get("lat"),this.model.get("lng"))),this.map.setZoom(16),this.renderMarker(this.model,10)},clearMarkers:function(){_.each(this.markers,function(e){e.remove()}),this.markers=[]},renderMarker:function(e,t){var n=(new google.maps.LatLng(e.get("lat"),e.get("lng")),new MapMarker(e,this.map,t));this.markers.push(n)}}),MainMapView=Backbone.View.extend({events:{},initialize:function(){var e=Location.get("center");this.markers=[],this.mapOptions={scrollwheel:!1,panControl:!1,center:new google.maps.LatLng(e.lat,e.lng),zoom:Client.get("zoom"),mapTypeId:google.maps.MapTypeId.ROADMAP},this.mapCanvas=this.$el,this.map=new google.maps.Map(this.mapCanvas[0],this.mapOptions),this.addGoogleListeners()},render:function(){MainGoogleMap.map.getStreetView().setVisible(!1),this.listen_to_map=!1,this.resetMarkers();var e=this;if(google.maps.event.addListenerOnce(e.map,"zoom_changed",function(){google.maps.event.addListenerOnce(e.map,"idle",function(){e.listen_to_map=!0})}),"bounds"===Location.get("contained_in")){var t=Location.get("center");this.map.setZoom(Client.get("zoom")),this.map.setCenter(new google.maps.LatLng(t.lat,t.lng))}else{var n=new google.maps.LatLngBounds,t=Location.get("center");this.markers.length>0?(_.each(this.markers,function(e){n.extend(e.marker.position)}),this.map.fitBounds(n)):(this.map.setCenter(new google.maps.LatLng(t.lat,t.lng)),this.map.setZoom(13))}},resetMarkers:function(){this.markers.length&&this.clearMarkers(),this.collection.length<=10?this.collection.each(function(e,t){this.renderMarker(e,t)},this):this.collection.each(function(e){this.renderMarker(e,10)},this)},clearMarkers:function(){_.each(this.markers,function(e){e.remove()}),this.markers=[]},renderMarker:function(e,t){var n=(new google.maps.LatLng(e.get("lat"),e.get("lng")),new MapMarker(e,this.map,t));this.markers.push(n)},addGoogleListeners:function(){var e=this;this.map.addListener("dragstart",function(){Client.get("redo_search")&&e.listen_to_map&&google.maps.event.addListenerOnce(e.map,"idle",function(){var t=e.map.getBounds(),n={ne:{lat:t.getNorthEast().lat(),lng:t.getNorthEast().lng()},sw:{lat:t.getSouthWest().lat(),lng:t.getSouthWest().lng()}},i={lat:t.getCenter().lat(),lng:t.getCenter().lng()};Client.set("zoom",e.map.getZoom()),Location.set({center:i,bounds:n,contained_in:"bounds"})})}),this.map.addListener("zoom_changed",function(){if(Client.get("redo_search")&&e.listen_to_map){var t=e.map.getBounds(),n={ne:{lat:t.getNorthEast().lat(),lng:t.getNorthEast().lng()},sw:{lat:t.getSouthWest().lat(),lng:t.getSouthWest().lng()}},i={lat:t.getCenter().lat(),lng:t.getCenter().lng()};Client.set("zoom",e.map.getZoom()),Location.set({center:i,bounds:n,contained_in:"bounds"})}})}}),PhotosMediaViewerContainerView=Backbone.View.extend({events:{},initialize:function(){this.listenTo(this.collection,"sync",this.render),this.listenTo(this.collection,"remove",this.render)},render:function(){this.$el.html(""),this.$el.html(render("photos/media_viewer_container")),this.collection.isEmpty()?this.$el.html(render("photos/no_results",this.model)):this.photos_media_viewer_view=new PhotosMediaViewerView({collection:this.collection,el:this.$(".flexslider")})}}),PhotosMediaViewerPhotoView=Backbone.View.extend({events:{"click .user_name":"navigate","click .delete_photo":"deletePhoto"},initialize:function(){var e=new Date(this.model.get("created_at")),t=moment(e).format("MMM Do YYYY, h:mm a");this.model.set("formatted_time",t),this.render()},render:function(){this.$el.html(render("photos/media_viewer_photo",this.model)),this.$el.attr("data-thumb",this.model.get("small_url"))},navigate:function(e){e.preventDefault(),App.navigate(e.currentTarget.pathname,{trigger:!0})},deletePhoto:function(){CurrentUser.get("id")==this.model.get("user_id")&&this.model.destroy()}}),PhotosMediaViewerView=Backbone.View.extend({events:{},initialize:function(){this.render(),this.renderPhotos(),this.$el.flexslider({slideshow:!1,controlNav:"thumbnails",thumbCaptions:!1,controlsContainer:".flex-container",itemWidth:"30px"})},render:function(){this.$el.html(render("photos/media_viewer",this.model))},renderPhotos:function(){this.collection.each(function(e){this.renderPhoto(e)},this)},renderPhoto:function(e){this.photo_view=new PhotosMediaViewerPhotoView({model:e,tagName:"li"}),this.$("ul").append(this.photo_view.el)}}),UsersEditView=Backbone.View.extend({events:{"click a.expander":"openChangePasswordFields",submit:"showThrobber"},initialize:function(){$("textarea").autosize()},openChangePasswordFields:function(e){e.preventDefault(),e.stopPropagation(),$("#password_fields").show()},showThrobber:function(){$(".update_btn").hide(),$(".throbber").show()}}),UsersFacebookFriendsListView=Backbone.View.extend({events:{},initialize:function(){this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"request",this.showThrobber),params=window.location.search.replace(/^\?code=/,""),""!==params?this.collection.fetch({reset:!0,data:{code:params}}):this.collection.fetch({reset:!0})},render:function(){this.$el.html(""),this.collection.models.length>0&&this.collection.models[0].get("error")?this.$el.html(render("users/access_token_login",this.collection.models[0].get("error"))):this.collection.isEmpty()?this.$el.html(render("application/no_results")):(this.$el.html(render("users/search_suggestion_list")),this.collection.each(function(e){this.renderUser(e)},this))},renderUser:function(e){var t=new UsersIndexUserView({tagName:"li",model:e,className:"user"});this.$("ul").append(t.el)},showThrobber:function(){this.$el.html(render("application/throbber_small"))}}),UsersFindFacebookFriendsView=Backbone.View.extend({events:{"click .nav":"navigate"},title:"Find Facebook Friends | YumHacker",description:"Connect with your Facebook friends to find "+Client.get("formatted_address")+" restaurants and bars endorsed by people you trust. Get restaurant and bar photos, reviews, hours and more!",initialize:function(){this.render(),App.eventAggregator.trigger("domchange:title",this.title),App.eventAggregator.trigger("domchange:description",this.description),this.collection=new UserFacebookFriendsCollection,this.user_facebook_friends_list_view=new UsersFacebookFriendsListView({el:"#find_user_results_container",collection:this.collection})},render:function(){this.$el.html(render("users/find_facebook_friends"))},navigate:function(e){e.preventDefault(),App.navigate("/"+e.target.search,{trigger:!0})}}),UsersIndexListView=Backbone.View.extend({events:{},initialize:function(){this.render()},render:function(){this.$el.html(""),this.collection.each(function(e){this.renderUser(e)},this)},renderUser:function(e){var t=new UsersIndexUserView({tagName:"li",model:e});this.$el.append(t.el)}}),UsersIndexUserView=Backbone.View.extend({events:{"click a.user":"navigate"},initialize:function(){this.render(),this.application_follow_button_view=new ApplicationFollowButtonView({el:this.$(".follow_btn_container"),user:this.model}),this.listenTo(this.model,"remove",this.remove)},render:function(){this.$el.html(render("users/index_user",this.model))},navigate:function(e){e.preventDefault(),App.navigate(e.currentTarget.pathname,{trigger:!0})}}),UsersSearchSuggestionListView=Backbone.View.extend({events:{},initialize:function(){this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"request",this.showThrobber)},render:function(){this.$el.html(""),this.collection.isEmpty()?this.$el.html(render("application/no_results")):(this.$el.html(render("users/search_suggestion_list")),this.collection.each(function(e){this.renderUser(e)},this))},renderUser:function(e){var t=new UsersIndexUserView({tagName:"li",model:e,className:"user"});this.$("ul").append(t.el)},showThrobber:function(){this.$el.html(render("application/throbber_small"))}}),UsersSearchView=Backbone.View.extend({events:{submit:"searchForUsers","click #find_friends_button":"navigate"},title:"Find Friends | YumHacker",description:"Search for friends to find restaurants and bars endorsed by people you trust. Get restaurant and bar photos, reviews, hours and more!",initialize:function(){this.render(),App.eventAggregator.trigger("domchange:title",this.title),App.eventAggregator.trigger("domchange:description",this.description),this.collection=new UserSuggestionsCollection,this.user_search_suggestion_list_view=new UsersSearchSuggestionListView({el:"#find_user_results_container",collection:this.collection})},render:function(){this.$el.html(render("users/search"))},searchForUsers:function(e){e.preventDefault();var t=e.target[0].value;this.collection.fetch({reset:!0,data:{query:t}})},navigate:function(e){e.preventDefault(),App.navigate(e.currentTarget.pathname,{trigger:!0})}}),UsersShowFavoritesContainerView=Backbone.View.extend({events:{},initialize:function(){this.collection=new ListsCollection,this.collection.where={favoritizations:{user_id:this.model.get("id")}},this.collection.order={updated_at:"desc"},this.listenTo(this.model,"render:favorites",this.fetchCollection),this.listenTo(this.collection,"reset",this.render)},fetchCollection:function(){this.collection.fetch({reset:!0,data:this.collection.predicate()})},render:function(){this.changeHeadInfo(),this.$el.html(render("users/show_stuff")),this.list_index_list=new UsersShowFavoritesView({el:this.$("ul"),model:this.model,collection:this.collection}),this.pagination_view=new PaginationView({el:this.$(".pagination_container"),collection:this.collection}),this.pagination_view.render()},changeHeadInfo:function(){var e=this.model.get("full_name"),t=this.model.get("location")?" from "+this.model.get("location"):"",n=1===this.model.get("tabs_data").favorites.count?this.model.get("tabs_data").favorites.count+" Favorite list":this.model.get("tabs_data").favorites.count+" Favorite lists";this.title=e+" | Favorites | YumHacker",this.description=e+t+" has "+n+" on YumHacker.",App.eventAggregator.trigger("domchange:title",this.title),App.eventAggregator.trigger("domchange:description",this.description)}}),UsersShowFavoritesView=Backbone.View.extend({events:{},initialize:function(){this.render(),this.listenTo(this.collection,"paginate",this.paginate)},render:function(){this.collection.length>0?(this.$el.html(""),this.collection.each(this.renderList,this),window.scrollTo(0,0)):this.$el.html(render("users/show_favorites_no_results",this.model))},renderList:function(e){var t=new ListsIndexListView({tagName:"li",model:e});this.$el.append(t.el)},paginate:function(e){var t=_.extend(this.collection.predicate(),{page:e});this.collection.fetch({reset:!0,data:t})}}),UsersShowFollowableView=Backbone.View.extend({events:{},initialize:function(){this.render(),this.listenTo(this.collection,"paginate",this.paginate)},render:function(){this.collection.length>0?(this.$el.html(""),this.collection.each(this.renderUser,this),window.scrollTo(0,0)):this.$el.html(render("followers/index_no_results",this.model))},renderUser:function(e){var t=new UsersIndexUserView({tagName:"li",model:e,className:"user"});this.$el.append(t.el)},paginate:function(e){this.collection.fetch({reset:!0,data:{user_id:this.model.get("id"),page:e}})}}),UsersShowFollowedUsersContainerView=Backbone.View.extend({events:{},initialize:function(){this.collection=new FollowedUsersCollection,this.listenTo(this.model,"render:following",this.fetchCollection),this.listenTo(this.collection,"reset",this.render)},fetchCollection:function(){this.collection.fetch({reset:!0,data:{user_id:this.model.get("id")}})},render:function(){this.changeHeadInfo(),this.$el.html(render("users/show_stuff")),this.followable_view=new UsersShowFollowableView({el:this.$("ul"),model:this.model,collection:this.collection}),this.pagination_view=new PaginationView({el:".pagination_container",collection:this.collection}),this.pagination_view.render()},changeHeadInfo:function(){var e=this.model.get("full_name"),t=this.model.get("location")?" from "+this.model.get("location"):"",n=1===this.model.get("tabs_data").following.count?this.model.get("tabs_data").following.count+" YumHacker":this.model.get("tabs_data").following.count+" YumHackers";this.title=e+" | Following | YumHacker",this.description=e+t+" is following "+n+" on YumHacker.",App.eventAggregator.trigger("domchange:title",this.title),App.eventAggregator.trigger("domchange:description",this.description)}}),UsersShowFollowersContainerView=Backbone.View.extend({events:{},initialize:function(){this.collection=new FollowersCollection,this.listenTo(this.model,"render:followers",this.fetchCollection),this.listenTo(this.collection,"reset",this.render)},fetchCollection:function(){this.collection.fetch({reset:!0,data:{user_id:this.model.get("id")}})},render:function(){this.changeHeadInfo(),this.$el.html(render("users/show_stuff")),this.followable_view=new UsersShowFollowableView({el:this.$("ul"),model:this.model,collection:this.collection}),this.pagination_view=new PaginationView({el:".pagination_container",collection:this.collection}),this.pagination_view.render()},changeHeadInfo:function(){var e=this.model.get("full_name"),t=this.model.get("location")?" from "+this.model.get("location"):"",n=1===this.model.get("tabs_data").followers.count?this.model.get("tabs_data").followers.count+" follower":this.model.get("tabs_data").followers.count+" followers";this.title=e+" | Followers | YumHacker",this.description=e+t+" has "+n+" on YumHacker.",App.eventAggregator.trigger("domchange:title",this.title),App.eventAggregator.trigger("domchange:description",this.description)}}),UsersShowListContainerView=Backbone.View.extend({events:{},initialize:function(){this.collection=new ListsCollection,this.collection.where={user_id:this.model.get("id")},this.collection.order=[{type:"desc"},{updated_at:"desc"}],this.listenTo(this.model,"render:lists",this.fetchCollection),this.listenTo(this.collection,"reset",this.render)},fetchCollection:function(){this.collection.fetch({reset:!0,data:this.collection.predicate()})},render:function(){this.changeHeadInfo(),this.$el.html(render("users/show_stuff")),this.list_index_list=new UsersShowListView({el:this.$("ul"),model:this.model,collection:this.collection}),this.pagination_view=new PaginationView({el:this.$(".pagination_container"),collection:this.collection}),this.pagination_view.render()},changeHeadInfo:function(){var e=this.model.get("full_name"),t=this.model.get("location")?" from "+this.model.get("location"):"",n=1===this.model.get("tabs_data").lists.count?this.model.get("tabs_data").lists.count+" Yum List":this.model.get("tabs_data").lists.count+" Yum Lists";this.title=e+" | Yum Lists | YumHacker",this.description=e+t+" has "+n+" on YumHacker.",App.eventAggregator.trigger("domchange:title",this.title),App.eventAggregator.trigger("domchange:description",this.description)}}),UsersShowListView=Backbone.View.extend({events:{},initialize:function(){this.render(),this.listenTo(this.collection,"paginate",this.paginate)},render:function(){this.collection.length>0?(this.$el.html(""),this.collection.each(this.renderList,this),window.scrollTo(0,0)):this.$el.html(render("users/show_lists_no_results",this.model))},renderList:function(e){var t=e;t=t.clone().set("show_description",!0);var n=t.get("description");null!==n&&n.length>105&&t.set("description",n.slice(0,105)+"...");var i=new ListsIndexListView({tagName:"li",model:t});"WishList"===e.get("type")?this.$el.prepend(i.el):this.$el.append(i.el)},paginate:function(e){var t=_.extend(this.collection.predicate(),{page:e});this.collection.fetch({reset:!0,data:t})}}),UsersShowTabsView=Backbone.View.extend({events:{"click a.tab":"navigate"},initialize:function(e){this.tabs_data=e.tabs_data,this.render()},render:function(){this.$el.html(render("users/show_tabs",this.tabs_data))},navigate:function(e){e.preventDefault(),App.navigate(e.target.pathname,{trigger:!0})}}),UsersShowUserView=Backbone.View.extend({events:{},initialize:function(){this.render()},render:function(){this.$el.html(render("users/show_user",this.model)),this.model.get("id")!=CurrentUser.get("id")&&(this.application_follow_button_view=new ApplicationFollowButtonView({el:this.$(".follow_btn_container"),user:this.model}))}}),UsersShowView=Backbone.View.extend({initialize:function(e){this.section=e.section||"lists",this.listenTo(this.model,"sync",this.render),this.model.fetch()},render:function(){this.$el.html(render("users/show")),this.users_show_user_view=new UsersShowUserView({el:"#user_model_container",model:this.model}),this.listContainerView=new UsersShowListContainerView({el:".lists_container",model:this.model}),this.favoritesContainerView=new UsersShowFavoritesContainerView({el:".lists_container",model:this.model}),this.followedUserContainerView=new UsersShowFollowedUsersContainerView({el:".lists_container",model:this.model}),this.followersContainerView=new UsersShowFollowersContainerView({el:".lists_container",model:this.model});var e=this.model.get("tabs_data");e[this.section].selected=!0,this.tabs_view=new UsersShowTabsView({el:"#follow_tabs_container",model:this.model,tabs_data:e}),this.model.trigger("render:"+this.section)}}),UsersSignUpFacebookFriendsListView=Backbone.View.extend({events:{},initialize:function(){this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"request",this.showThrobber),params=window.location.search.replace(/^\?code=/,""),""!==params?this.collection.fetch({reset:!0,data:{code:params}}):this.collection.fetch({reset:!0})},render:function(){this.$el.html(""),this.collection.models.length>0&&this.collection.models[0].get("error")?this.$el.html(render("users/access_token_login",this.collection.models[0].get("error"))):this.collection.isEmpty()?this.$el.html(render("application/no_results")):(this.$el.html(render("users/search_suggestion_list")),this.collection.each(function(e){this.renderUser(e)},this))},renderUser:function(e){var t=new UsersIndexUserView({tagName:"li",model:e});this.$("ul").append(t.el)},showThrobber:function(){this.$el.html(render("application/throbber_small"))}}),UsersSignUpFindFacebookFriendsView=Backbone.View.extend({events:{"click .nav":"navigate"},title:"Find Facebook Friends | YumHacker",description:"Connect with your Facebook friends to find "+Client.get("formatted_address")+" restaurants and bars endorsed by people you trust. Get restaurant and bar photos, reviews, hours and more!",initialize:function(){this.render(),App.eventAggregator.trigger("domchange:title",this.title),App.eventAggregator.trigger("domchange:description",this.description),this.collection=new UserFacebookFriendsCollection,this.user_facebook_friends_list_view=new UsersFacebookFriendsListView({el:"#find_user_results_container",collection:this.collection})},render:function(){this.$el.html(render("users/sign_up_find_facebook_friends"))},navigate:function(e){e.preventDefault(),App.navigate(e.target.pathname,{trigger:!0})}}),UsersSignUpView=Backbone.View.extend({events:{submit:"triggerGaEventForForm","click .facebook":"triggerGaEventForSocial","click .twitter":"triggerGaEventForSocial"},initialize:function(){},triggerGaEventForSocial:function(e){e.preventDefault(),e.stopPropagation(),ga("send",{hitType:"event",eventCategory:"button",eventAction:"click",eventLabel:"sign_up",hitCallback:function(){location=e.currentTarget.pathname}})},triggerGaEventForForm:function(e){e.preventDefault(),e.stopPropagation(),ga("send",{hitType:"event",eventCategory:"button",eventAction:"click",eventLabel:"sign_up",hitCallback:function(){e.target.submit()}})}}),Router=Backbone.Router.extend({initialize:function(){this.route(/^restaurants\/[A-Za-z0-9\-_]+\/[A-Za-z0-9\-_]+\/[A-Za-z0-9\-_]+$/,"establishmentsShow"),this.route(/^restaurants\/[A-Za-z0-9\-_]+\/[A-Za-z0-9\-_]+\/[A-Za-z0-9\-_]+\/photos$/,"establishmentsPhotosIndex"),this.eventAggregator=_.extend({},Backbone.Events),this.eventAggregator.on("domchange:title",this.changeTitle,this),this.eventAggregator.on("domchange:description",this.changeDescription,this)},routes:{"":"homePage","_=_":"redirectToHome",restaurants:"mainIndex","restaurants/search":"establishmentsSearch","users/sign_up/find_facebook_friends":"signUpFindFacebookFriends","users/find_facebook_friends":"findFacebookFriends","users/search":"usersSearch","users/sign_in":"nothing","users/sign_out":"nothing","users/sign_up":"usersSignUp","users/password(/:action)":"nothing","users/edit":"editProfile","users/:id/categories":"nothing","users/:id(/:section)":"usersShow",users:"nothing","lists/:id/edit":"listsEdit","lists/new":"listsNew","lists/:id":"listsShow",contact:"contactPage",terms:"termsPage",privacy:"privacyPage"},setup:function(){$(window).unbind("scroll"),this.currentView?this.currentView.remove():$("section").html(""),$("<div>",{id:"main_container"}).appendTo("section")},changeTitle:function(e){$(document).attr("title",e)},changeDescription:function(e){$("meta[name=description]").remove(),$("head").append('<meta name="description" content="'+e+'">')},homePage:function(){var e=$.deparam(decodeURIComponent(window.location.search.slice(1)));_.isEmpty(e)?(Location.set(Location.defaults,{silent:!0}),Filter.set(Filter.defaults,{silent:!0}),Client.set(Client.defaults)):(Location.parseParams(),Filter.parseParams(),Client.parseParams()),this.setup(),this.currentView=new HomePageView({el:"#main_container"})},mainIndex:function(){var e=$.deparam(decodeURIComponent(window.location.search.slice(1)));_.isEmpty(e)?(Location.set(Location.defaults,{silent:!0}),Filter.set(Filter.defaults,{silent:!0}),Client.set(Client.defaults)):(Location.parseParams(),Filter.parseParams(),Client.parseParams()),this.setup(),this.currentView=new MainIndexView({el:"#main_container"})},redirectToHome:function(){var e=$.ua.browser.name;e&&"firefox"==e.toLowerCase()?window.location="/":App.navigate("",{trigger:!0})},establishmentsSearch:function(){this.setup(),this.currentView=new EstablishmentsSearchView({el:"#main_container"})},establishmentsShow:function(){var e=window.location.pathname.replace(/.*\//,"");this.setup(),this.currentView=new EstablishmentsShowView({el:"#main_container",model:new Establishment({id:e})})},establishmentsPhotosIndex:function(){var e=window.location.pathname.replace(/\/photos/,"").replace(/.*\//,"");this.setup(),this.currentView=new EstablishmentsPhotosIndexView({el:"#main_container",model:new Establishment({id:e})})},usersShow:function(e,t){this.setup(),this.currentView=new UsersShowView({el:"#main_container",model:new User({id:e}),section:t})},usersSearch:function(){this.setup(),this.currentView=new UsersSearchView({el:"#main_container"})},editProfile:function(){this.currentView=new UsersEditView({el:"section div"})},usersSignUp:function(){this.currentView=new UsersSignUpView({el:"section div"})},usersSignIn:function(){this.currentView=new UsersSignInView({el:"section div"})},signUpFindFacebookFriends:function(){this.setup(),this.currentView=new UsersSignUpFindFacebookFriendsView({el:"#main_container",model:new User({id:CurrentUser.get("id")})})},findFacebookFriends:function(){this.setup(),this.currentView=new UsersFindFacebookFriendsView({el:"#main_container",model:new User({id:CurrentUser.get("id")})})},listsEdit:function(e){CurrentUser.logged_in()?(this.setup(),this.currentView=new ListsEditView({el:"#main_container",model:new List({id:e,updated_at:new Date})})):(App.navigate("",{trigger:!0}),App.navigate("",{trigger:!0}))},listsNew:function(){this.setup(),CurrentUser.logged_in()?this.currentView=new ListsEditView({el:"#main_container",model:new List({title:CurrentUser.get("full_name")+"'s Favorite Spots",description:CurrentUser.get("full_name")+"'s Favorite Spots List.",updated_at:new Date})}):App.navigate("",{trigger:!0})},listsShow:function(e){this.setup(),this.currentView=new ListsShowView({el:"#main_container",model:new List({id:e})})},contactPage:function(){this.setup(),this.currentView=new ContactView({el:"#main_container"})},termsPage:function(){this.setup(),this.currentView=new TermsView({el:"#main_container"})},privacyPage:function(){this.setup(),this.currentView=new PrivacyView({el:"#main_container"})},nothing:function(){}}),App=new Router,$(document).ready(function(){function e(){var e;e=Backbone.history.getFragment(),ga("send","pageview","/"+e)}ModalView=new ApplicationModalView({el:"#application_modal"}),new HeaderView({el:"header"}),new FooterView({el:"footer"}),Backbone.history.start({pushState:!0}),Backbone.history.on("route",e)});